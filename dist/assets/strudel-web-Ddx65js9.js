var NG=Object.defineProperty;var IG=(t,e,n)=>e in t?NG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ht=(t,e,n)=>IG(t,typeof e!="symbol"?e+"":e,n);import{f as xe,W as If,q as KG,C as YG,l as Mu,a as HG,Z as jG,g as JG,r as _G,i as UG,p as OG,b as Ab,A as QG}from"./strudel-core-Cml4IbyB.js";const es=(t="test-canvas",e)=>{let{contextType:n="2d",pixelated:s=!1,pixelRatio:r=window.devicePixelRatio}=e||{},i=document.querySelector("#"+t);if(!i){i=document.createElement("canvas"),i.id=t,i.width=window.innerWidth*r,i.height=window.innerHeight*r,i.style="pointer-events:none;width:100%;height:100%;position:fixed;top:0;left:0",s&&(i.style.imageRendering="pixelated"),document.body.prepend(i);let a;window.addEventListener("resize",()=>{a&&clearTimeout(a),a=setTimeout(()=>{i.width=window.innerWidth*r,i.height=window.innerHeight*r},200)})}return i.getContext(n,{willReadFrequently:!0})};let ar={};function Sb(t){ar[t]!==void 0&&(cancelAnimationFrame(ar[t]),delete ar[t])}function qG(t){Object.keys(ar).forEach(e=>(!t||e.startsWith(t))&&Sb(e))}let Hn={};xe.prototype.draw=function(t,e){if(typeof window>"u")return this;let{id:n=1,lookbehind:s=0,lookahead:r=0}=e,i=Math.max(If(),0);Sb(n),s=Math.abs(s),Hn[n]=(Hn[n]||[]).filter(c=>!c.isInFuture(i));let a=this.queryArc(i,i+r).filter(c=>c.hasOnset());Hn[n]=Hn[n].concat(a);let o;const u=()=>{const c=If(),l=c+r;Hn[n]=Hn[n].filter(f=>f.isInNearPast(s,c));let d=Math.max(o||l,l-1/10);const m=this.queryArc(d,l).filter(f=>f.hasOnset());Hn[n]=Hn[n].concat(m),o=l,t(Hn[n],c,l,this),ar[n]=requestAnimationFrame(u)};return ar[n]=requestAnimationFrame(u),this};const $G=(t=!0,e)=>{const n=es();t&&n.clearRect(0,0,n.canvas.width,n.canvas.height),qG(e)};xe.prototype.onPaint=function(t){return this.withState(e=>(e.controls.painters||(e.controls.painters=[]),e.controls.painters.push(t),e))};xe.prototype.getPainters=function(){let t=[];return this.queryArc(0,0,{painters:t}),t};let Vb=class{constructor(e,n){this.onFrame=e,this.onError=n}start(){const e=this;let n=requestAnimationFrame(function s(r){try{e.onFrame(r)}catch(i){e.onError(i)}n=requestAnimationFrame(s)});e.cancel=()=>{cancelAnimationFrame(n)}}stop(){this.cancel&&this.cancel()}},tX=class{constructor(e,n){this.visibleHaps=[],this.lastFrame=null,this.drawTime=n,this.painters=[],this.framer=new Vb(()=>{if(!this.scheduler){console.warn("Drawer: no scheduler");return}const s=Math.abs(this.drawTime[0]),r=this.drawTime[1],i=this.scheduler.now()+r;if(this.lastFrame===null){this.lastFrame=i;return}const a=this.scheduler.pattern.queryArc(Math.max(this.lastFrame,i-1/10),i);this.lastFrame=i,this.visibleHaps=(this.visibleHaps||[]).filter(u=>u.whole&&u.endClipped>=i-s-r).concat(a.filter(u=>u.hasOnset()));const o=i-r;e(this.visibleHaps,o,this,this.painters)},s=>{console.warn("draw error",s)})}setDrawTime(e){this.drawTime=e}invalidate(e=this.scheduler,n){if(!e)return;n=n??e.now(),this.scheduler=e;let[s,r]=this.drawTime;const[i,a]=[Math.max(n,0),n+r+.1];this.visibleHaps=this.visibleHaps.filter(u=>{var c;return((c=u.whole)==null?void 0:c.begin)<n}),this.painters=[];const o=e.pattern.queryArc(i,a,{painters:this.painters});this.visibleHaps=this.visibleHaps.concat(o)}start(e){this.scheduler=e,this.invalidate(),this.framer.start()}stop(){this.framer&&this.framer.stop()}};function eX(t){return typeof window>"u"?"#fff":getComputedStyle(document.documentElement).getPropertyValue(t)}let Lb={background:"#222",foreground:"#75baff",caret:"#ffcc00",selection:"rgba(128, 203, 196, 0.5)",selectionMatch:"#036dd626",lineHighlight:"#00000050",gutterBackground:"transparent",gutterForeground:"#8a919966"};function kn(){return Lb}function nX(t){Lb=t}let Kf="#22222210";xe.prototype.animate=function({callback:t,sync:e=!1,smear:n=.5}={}){window.frame&&cancelAnimationFrame(window.frame);const s=es();let{clientWidth:r,clientHeight:i}=s.canvas;r*=window.devicePixelRatio,i*=window.devicePixelRatio;let a=n===0?"99":Number((1-n)*100).toFixed(0);a=a.length===1?`0${a}`:a,Kf=`#200010${a}`;const o=u=>{let c;u=Math.round(u),c=this.slow(1e3).queryArc(u,u),s.fillStyle=Kf,s.fillRect(0,0,r,i),c.forEach(l=>{let{x:d,y:m,w:f,h:g,s:y,r:P,angle:Z=0,fill:S="darkseagreen"}=l.value;if(f*=r,g*=i,P!==void 0&&Z!==void 0){const v=Z*2*Math.PI,[X,L]=[(r-f)/2,(i-g)/2];d=X+Math.cos(v)*P*X,m=L+Math.sin(v)*P*L}else d*=r-f,m*=i-g;const k={...l.value,x:d,y:m,w:f,h:g};s.fillStyle=S,y==="rect"?s.fillRect(d,m,f,g):y==="ellipse"&&(s.beginPath(),s.ellipse(d+f/2,m+g/2,f/2,g/2,0,0,2*Math.PI),s.fill()),t&&t(s,k,l)}),window.frame=requestAnimationFrame(o)};return window.frame=requestAnimationFrame(o),KG};const{x:Cu,y:sX,w:rX,h:iX,angle:aX,r:oX,fill:uX,smear:cX}=YG("x","y","w","h","angle","r","fill","smear"),lX=Mu("rescale",function(t,e){return e.mul(Cu(t).w(t).y(t).h(t))}),hX=Mu("moveXY",function(t,e,n){return n.add(Cu(t).y(e))}),pX=Mu("zoomIn",function(t,e){const n=HG(1).sub(t).div(2);return e.rescale(t).move(n,n)}),jo={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function dX(t){return t=t.toLowerCase(),t[0]==="#"?Jo(t):jo[t]!==void 0?Jo(jo[t]):-1}function Jo(t){return t=t.slice(1),parseInt(t,16)}const zr=(t,e,n)=>t*(n-e)+e,Yf=t=>{let{value:e}=t;typeof t.value!="object"&&(e={value:e});let{note:n,n:s,freq:r,s:i}=e;if(r)return jG(r);if(n=n??s,typeof n=="string")try{return JG(n)}catch{return 0}return typeof n=="number"?n:i?"_"+i:e};xe.prototype.pianoroll=function(t={}){let{cycles:e=4,playhead:n=.5,overscan:s=0,hideNegative:r=!1,ctx:i=es(),id:a=1}=t,o=-e*n,u=e*(1-n);const c=(l,d)=>(!r||l.whole.begin>=0)&&l.isWithinTime(d+o,d+u);return this.draw((l,d)=>{oa({...t,time:d,ctx:i,haps:l.filter(m=>c(m,d))})},{lookbehind:o-s,lookahead:u+s,id:a}),this};function mX(t){return OG(t)?t.pianoroll():e=>e.pianoroll(t)}function oa({time:t,haps:e,cycles:n=4,playhead:s=.5,flipTime:r=0,flipValues:i=0,hideNegative:a=!1,inactive:o=kn().foreground,active:u=kn().foreground,background:c="transparent",smear:l=0,playheadColor:d=kn().foreground,minMidi:m=10,maxMidi:f=90,autorange:g=0,timeframe:y,fold:P=1,vertical:Z=0,labels:S=!1,fill:k=1,fillActive:v=!1,strokeActive:X=!0,stroke:L,hideInactive:V=0,colorizeInactive:E=1,fontFamily:I,ctx:R,id:J}={}){const W=R.canvas.width,Y=R.canvas.height;let tt=-n*s,ct=n*(1-s);J&&(e=e.filter(ot=>ot.hasTag(J))),y&&(console.warn("timeframe is deprecated! use from/to instead"),tt=0,ct=y);const Q=Z?Y:W,nt=Z?W:Y;let q=Z?[Q,0]:[0,Q];const xt=ct-tt,st=Z?[0,nt]:[nt,0];let dt=f-m+1,H=nt/dt,gt=[];r&&q.reverse(),i&&st.reverse();const{min:Kt,max:Ut,values:vt}=e.reduce(({min:ot,max:Ft,values:oe},ae)=>{const Xt=Yf(ae);return{min:Xt<ot?Xt:ot,max:Xt>Ft?Xt:Ft,values:oe.includes(Xt)?oe:[...oe,Xt]}},{min:1/0,max:-1/0,values:[]});g&&(m=Kt,f=Ut,dt=f-m+1),gt=vt.sort((ot,Ft)=>typeof ot=="number"&&typeof Ft=="number"?ot-Ft:typeof ot=="number"?1:String(ot).localeCompare(String(Ft))),H=P?nt/gt.length:nt/dt,R.fillStyle=c,R.globalAlpha=1,l||(R.clearRect(0,0,W,Y),R.fillRect(0,0,W,Y)),e.forEach(ot=>{var Re;const Ft=ot.whole.begin<=t&&ot.endClipped>t;let oe=L??(X&&Ft),ae=!Ft&&k||Ft&&v;if(V&&!Ft)return;let Xt=(Re=ot.value)==null?void 0:Re.color;u=Xt||u,o=E&&Xt||o,Xt=Ft?u:o,R.fillStyle=ae?Xt:"transparent",R.strokeStyle=Xt;const{velocity:ze=1,gain:Tt=1}=ot.value||{};R.globalAlpha=ze*Tt;const Je=(ot.whole.begin-(r?ct:tt))/xt,Xe=zr(Je,...q);let re=zr(ot.duration/xt,0,Q);const Ze=Yf(ot),be=P?gt.indexOf(Ze)/gt.length:(Number(Ze)-m)/dt,Ae=zr(be,...st);let ge=0;const Se=zr(t/xt,...q);let Ot;if(Z?Ot=[Ae+1-(i?H:0),Q-Se+Xe+ge+1-(r?0:re),H-2,re-2]:Ot=[Xe-Se+ge+1-(r?re:0),Ae+1-(i?0:H),re-2,H-2],oe&&R.strokeRect(...Ot),ae&&R.fillRect(...Ot),S){const Pt=ot.value.note??ot.value.s+(ot.value.n?`:${ot.value.n}`:""),{label:Nt,activeLabel:it}=ot.value,It=(Ft&&it||Nt)??Pt;let Wt=Z?re:H*.75;R.font=`${Wt}px ${I||"monospace"}`,R.fillStyle=ae?"black":Xt,R.textBaseline="top",R.fillText(It,...Ot)}}),R.globalAlpha=1;const Bt=zr(-tt/xt,...q);return R.strokeStyle=d,R.beginPath(),Z?(R.moveTo(0,Bt),R.lineTo(nt,Bt)):(R.moveTo(Bt,0),R.lineTo(Bt,nt)),R.stroke(),this}function xu(t,e={}){let[n,s]=t;n=Math.abs(n);const r=s+n,i=r!==0?n/r:0;return{fold:1,...e,cycles:r,playhead:i}}const kb=(t={})=>(e,n,s,r)=>oa({ctx:e,time:n,haps:s,...xu(r,t)});xe.prototype.punchcard=function(t){return this.onPaint(kb(t))};xe.prototype.wordfall=function(t){return this.punchcard({vertical:1,labels:1,stroke:0,fillActive:1,active:"white",...t})};function fX(t){const{drawTime:e,...n}=t;oa({...xu(e),...n})}function yX(t,e,n,s){const r=(t-90)*Math.PI/180;return[n+Math.cos(r)*e,s+Math.sin(r)*e]}const Hf=(t,e,n,s,r=0)=>yX((t+r)*360,e*t,n,s);function jf(t){let{ctx:e,from:n=0,to:s=3,margin:r=50,cx:i=100,cy:a=100,rotate:o=0,thickness:u=r/2,color:c=kn().foreground,cap:l="round",stretch:d=1,fromOpacity:m=1,toOpacity:f=1}=t;n*=d,s*=d,o*=d,e.lineWidth=u,e.lineCap=l,e.strokeStyle=c,e.globalAlpha=m,e.beginPath();let[g,y]=Hf(n,r,i,a,o);e.moveTo(g,y);const P=1/60;let Z=n;for(;Z<=s;){const[S,k]=Hf(Z,r,i,a,o);e.globalAlpha=(Z-n)/(s-n)*f,e.lineTo(S,k),Z+=P}e.stroke()}function bX(t){let{stretch:e=1,size:n=80,thickness:s=n/2,cap:r="butt",inset:i=3,playheadColor:a="#ffffff",playheadLength:o=.02,playheadThickness:u=s,padding:c=0,steady:l=1,activeColor:d=kn().foreground,inactiveColor:m=kn().gutterForeground,colorizeInactive:f=0,fade:g=!0,ctx:y,time:P,haps:Z,drawTime:S,id:k}=t;k&&(Z=Z.filter(W=>W.hasTag(k)));const[v,X]=[y.canvas.width,y.canvas.height];y.clearRect(0,0,v*2,X*2);const[L,V]=[v/2,X/2],E={margin:n/e,cx:L,cy:V,stretch:e,cap:r,thickness:s},I={...E,thickness:u,from:i-o,to:i,color:a},[R]=S,J=l*P;Z.forEach(W=>{var xt;const Y=W.whole.begin<=P&&W.endClipped>P,tt=W.whole.begin-P+i,ct=W.endClipped-P+i-c,Q=((xt=W.value)==null?void 0:xt.color)||d,nt=f||Y?Q:m,q=g?1-Math.abs((W.whole.begin-P)/R):1;jf({ctx:y,...E,from:tt,to:ct,rotate:J,color:nt,fromOpacity:q,toOpacity:q})}),jf({ctx:y,...I,rotate:J})}xe.prototype.spiral=function(t={}){return this.onPaint((e,n,s,r)=>bX({ctx:e,time:n,haps:s,drawTime:r,...t}))};const gX=UG(36),Jf=(t,e,n,s)=>{s=s*Math.PI*2;const r=Math.sin(s)*n+t,i=Math.cos(s)*n+e;return[r,i]},_f=(t,e)=>.5-Math.log2(t/e)%1;function Eb({haps:t,ctx:e,id:n,hapcircles:s=1,circle:r=0,edo:i=12,root:a=gX,thickness:o=3,hapRadius:u=6,mode:c="flake",margin:l=10}={}){const d=c==="polygon",m=c==="flake",f=e.canvas.width,g=e.canvas.height;e.clearRect(0,0,f,g);const y=kn().foreground,P=Math.min(f,g)/2-o/2-u-l,Z=f/2,S=g/2;n&&(t=t.filter(v=>v.hasTag(n))),e.strokeStyle=y,e.fillStyle=y,e.globalAlpha=1,e.lineWidth=o,r&&(e.beginPath(),e.arc(Z,S,P,0,2*Math.PI),e.stroke()),i&&(Array.from({length:i},(v,X)=>{const L=_f(a*Math.pow(2,X/i),a),[V,E]=Jf(Z,S,P,L);e.beginPath(),e.arc(V,E,u,0,2*Math.PI),e.fill()}),e.stroke());let k=[];e.lineWidth=u,t.forEach(v=>{let X;try{X=_G(v)}catch{return}const L=_f(X,a),[V,E]=Jf(Z,S,P,L),I=v.value.color||y;e.strokeStyle=I,e.fillStyle=I;const{velocity:R=1,gain:J=1}=v.value||{},W=R*J;e.globalAlpha=W,k.push([V,E,L,I,W]),e.beginPath(),s&&(e.moveTo(V+u,E),e.arc(V,E,u,0,2*Math.PI),e.fill()),m&&(e.moveTo(Z,S),e.lineTo(V,E)),e.stroke()}),e.strokeStyle=y,e.globalAlpha=1,d&&k.length&&(k=k.sort((v,X)=>v[2]-X[2]),e.beginPath(),e.moveTo(k[0][0],k[0][1]),k.forEach(([v,X,L,V,E])=>{e.strokeStyle=V,e.globalAlpha=E,e.lineTo(v,X)}),e.lineTo(k[0][0],k[0][1]),e.stroke())}xe.prototype.pitchwheel=function(t={}){let{ctx:e=es(),id:n=1}=t;return this.tag(n).onPaint((s,r,i)=>Eb({...t,ctx:e,haps:i.filter(a=>a.isActive(r)),id:n}))};const TL=Object.freeze(Object.defineProperty({__proto__:null,Drawer:tX,Framer:Vb,__pianoroll:oa,angle:aX,cleanupDraw:$G,colorMap:jo,convertColorToNumber:dX,convertHexToNumber:Jo,drawPianoroll:fX,fill:uX,getComputedPropertyValue:eX,getDrawContext:es,getDrawOptions:xu,getPunchcardPainter:kb,getTheme:kn,h:iX,moveXY:hX,pianoroll:mX,pitchwheel:Eb,r:oX,rescale:lX,setTheme:nX,smear:cX,w:rX,x:Cu,y:sX,zoomIn:pX},Symbol.toStringTag,{value:"Module"}));let Mn=[],os=0;const Ai=4;let MX=t=>{let e=[],n={get(){return n.lc||n.listen(()=>{})(),n.value},lc:0,listen(s){return n.lc=e.push(s),()=>{for(let i=os+Ai;i<Mn.length;)Mn[i]===s?Mn.splice(i,Ai):i+=Ai;let r=e.indexOf(s);~r&&(e.splice(r,1),--n.lc||n.off())}},notify(s,r){let i=!Mn.length;for(let a of e)Mn.push(a,n.value,s,r);if(i){for(os=0;os<Mn.length;os+=Ai)Mn[os](Mn[os+1],Mn[os+2],Mn[os+3]);Mn.length=0}},off(){},set(s){let r=n.value;r!==s&&(n.value=s,n.notify(r))},subscribe(s){let r=n.listen(s);return s(n.value),r},value:t};return n};const CX=5,Si=6,Vi=10;let xX=(t,e,n,s)=>(t.events=t.events||{},t.events[n+Vi]||(t.events[n+Vi]=s(r=>{t.events[n].reduceRight((i,a)=>(a(i),i),{shared:{},...r})})),t.events[n]=t.events[n]||[],t.events[n].push(e),()=>{let r=t.events[n],i=r.indexOf(e);r.splice(i,1),r.length||(delete t.events[n],t.events[n+Vi](),delete t.events[n+Vi])}),PX=1e3,NL=(t,e)=>xX(t,s=>{let r=e(s);r&&t.events[Si].push(r)},CX,s=>{let r=t.listen;t.listen=(...a)=>(!t.lc&&!t.active&&(t.active=!0,s()),r(...a));let i=t.off;return t.events[Si]=[],t.off=()=>{i(),setTimeout(()=>{if(t.active&&!t.lc){t.active=!1;for(let a of t.events[Si])a();t.events[Si]=[]}},PX)},()=>{t.listen=r,t.off=i}}),GX=(t={})=>{let e=MX(t);return e.setKey=function(n,s){let r=e.value;typeof s>"u"&&n in e.value?(e.value={...e.value},delete e.value[n],e.notify(r,n)):e.value[n]!==s&&(e.value={...e.value,[n]:s},e.notify(r,n))},e};if(typeof DelayNode<"u"){class t extends DelayNode{constructor(n,s,r,i){super(n),s=Math.abs(s),this.delayTime.value=r;const a=n.createGain();a.gain.value=Math.min(Math.abs(i),.995),this.feedback=a.gain;const o=n.createGain();return o.gain.value=s,this.delayGain=o,this.connect(a),this.connect(o),a.connect(this),this.connect=u=>o.connect(u),this}start(n){this.delayGain.gain.setValueAtTime(this.delayGain.gain.value,n+this.delayTime.value)}}AudioContext.prototype.createFeedbackDelay=function(e,n,s){return new t(this,e,n,s)}}var Pu={};Pu.generateReverb=function(t,e){for(var n=t.audioContext||new AudioContext,s=n.sampleRate,r=t.numChannels||2,i=t.decayTime*1.5,a=Math.round(t.decayTime*s),o=Math.round(i*s),u=Math.round((t.fadeInTime||0)*s),c=Math.pow(1/1e3,1/a),l=n.createBuffer(r,o,s),d=0;d<r;d++){for(var m=l.getChannelData(d),f=0;f<o;f++)m[f]=vX()*Math.pow(c,f);for(var f=0;f<u;f++)m[f]*=f/u}XX(l,t.lpFreqStart||0,t.lpFreqEnd||0,t.decayTime,e)};Pu.generateGraph=function(t,e,n,s,r){var i=document.createElement("canvas");i.width=e,i.height=n;var a=i.getContext("2d");a.fillStyle="#000",a.fillRect(0,0,i.width,i.height),a.fillStyle="#fff";for(var o=e/t.length,u=n/(r-s),c=0;c<t.length;c++)a.fillRect(c*o,n-(t[c]-s)*u,1,1);return i};var XX=function(t,e,n,s,r){if(e==0){r(t);return}var i=ZX(t),a=new OfflineAudioContext(t.numberOfChannels,i[0].length,t.sampleRate),o=a.createBufferSource();o.buffer=t;var u=a.createBiquadFilter();e=Math.min(e,t.sampleRate/2),n=Math.min(n,t.sampleRate/2),u.type="lowpass",u.Q.value=1e-4,u.frequency.setValueAtTime(e,0),u.frequency.linearRampToValueAtTime(n,s),o.connect(u),u.connect(a.destination),o.start(),a.oncomplete=function(c){r(c.renderedBuffer)},a.startRendering(),window.filterNode=u},ZX=function(t){for(var e=[],n=0;n<t.numberOfChannels;n++)e[n]=t.getChannelData(n);return e},vX=function(){return Math.random()*2-1};let Wb=t=>console.log(t);function zb(t,e="superdough"){le(`[${e}] error: ${t.message}`)}const le=(...t)=>Wb(...t),Rb=t=>{Wb=t},wX=t=>{var r;if(typeof t!="string")return[];const[e,n="",s]=((r=t.match(/^([a-gA-G])([#bsf]*)(-?[0-9]*)$/))==null?void 0:r.slice(1))||[];return e?[e,n,s?Number(s):void 0]:[]},FX={c:0,d:2,e:4,f:5,g:7,a:9,b:11},DX={"#":1,b:-1,s:1,f:-1},ua=(t,e=3)=>{const[n,s,r=e]=wX(t);if(!n)throw new Error('not a note: "'+t+'"');const i=FX[n.toLowerCase()],a=(s==null?void 0:s.split("").reduce((o,u)=>o+DX[u],0))||0;return(Number(r)+1)*12+i+a},Bb=t=>Math.pow(2,(t-69)/12)*440,ms=(t,e,n)=>Math.min(Math.max(t,e),n),AX=t=>12*Math.log(t/440)/Math.LN2+69,SX=(t,e)=>{if(typeof t!="object")throw new Error("valueToMidi: expected object value");let{freq:n,note:s}=t;return typeof n=="number"?AX(n):typeof s=="string"?ua(s):typeof s=="number"?s:e};function Un(t,e=0,n){return isNaN(Number(t))?(!n&&le(`"${t}" is not a number, falling back to ${e}`,"warning"),e):t}const Tb=(t,e)=>(t%e+e)%e,Uf=(t,e)=>Tb(Math.round(Un(t,0)),e);function VX(t,e){return t/e}function Nb(t,e){const{s:n,n:s=0}=t;let r=SX(t,36),i=r-36,a,o=0;if(Array.isArray(e))o=Uf(s,e.length),a=e[o];else{const c=d=>ua(d)-r,l=Object.keys(e).filter(d=>!d.startsWith("_")).reduce((d,m,f)=>!d||Math.abs(c(m))<Math.abs(c(d))?m:d,null);i=-c(l),o=Uf(s,e[l].length),a=e[l][o]}const u=`${n}:${o}`;return{transpose:i,url:a,index:o,midi:r,label:u}}typeof AudioContext<"u"&&(AudioContext.prototype.adjustLength=function(t,e,n=1,s=0){const r=Math.floor(ms(s,0,1)*e.length),i=e.sampleRate*t,a=this.createBuffer(e.numberOfChannels,e.length,e.sampleRate);for(let o=0;o<e.numberOfChannels;o++){let u=e.getChannelData(o),c=a.getChannelData(o);for(let l=0;l<i;l++){let d=(r+l*Math.abs(n))%u.length;n<1&&(d=d*-1),c[l]=u.at(d)||0}}return a},AudioContext.prototype.createReverb=function(t,e,n,s,r,i,a){const o=this.createConvolver();return o.generate=(u=2,c=.1,l=15e3,d=1e3,m,f,g)=>{o.duration=u,o.fade=c,o.lp=l,o.dim=d,o.ir=m,o.irspeed=f,o.irbegin=g,m?o.buffer=this.adjustLength(u,m,f,g):Pu.generateReverb({audioContext:this,numChannels:2,decayTime:u,fadeInTime:c,lpFreqStart:l,lpFreqEnd:d},y=>{o.buffer=y})},o.generate(t,e,n,s,r,i,a),o});var Of={a:{freqs:[660,1120,2750,3e3,3350],gains:[1,.5012,.0708,.0631,.0126],qs:[80,90,120,130,140]},e:{freqs:[440,1800,2700,3e3,3300],gains:[1,.1995,.1259,.1,.1],qs:[70,80,100,120,120]},i:{freqs:[270,1850,2900,3350,3590],gains:[1,.0631,.0631,.0158,.0158],qs:[40,90,100,120,120]},o:{freqs:[430,820,2700,3e3,3300],gains:[1,.3162,.0501,.0794,.01995],qs:[40,80,100,120,120]},u:{freqs:[370,630,2750,3e3,3400],gains:[1,.1,.0708,.0316,.01995],qs:[40,60,100,120,120]},ae:{freqs:[650,1515,2400,3e3,3350],gains:[1,.5,.1008,.0631,.0126],qs:[80,90,120,130,140]},aa:{freqs:[560,900,2570,3e3,3300],gains:[1,.5,.0708,.0631,.0126],qs:[80,90,120,130,140]},oe:{freqs:[500,1430,2300,3e3,3300],gains:[1,.2,.0708,.0316,.01995],qs:[40,60,100,120,120]},ue:{freqs:[250,1750,2150,3200,3300],gains:[1,.1,.0708,.0316,.01995],qs:[40,60,100,120,120]},y:{freqs:[400,1460,2400,3e3,3300],gains:[1,.2,.0708,.0316,.02995],qs:[40,60,100,120,120]},uh:{freqs:[600,1250,2100,3100,3500],gains:[1,.3,.0608,.0316,.01995],qs:[40,70,100,120,130]},un:{freqs:[500,1240,2280,3e3,3500],gains:[1,.1,.1708,.0216,.02995],qs:[40,60,100,120,120]},en:{freqs:[600,1480,2450,3200,3300],gains:[1,.15,.0708,.0316,.02995],qs:[40,60,100,120,120]},an:{freqs:[700,1050,2500,3e3,3300],gains:[1,.1,.0708,.0316,.02995],qs:[40,60,100,120,120]},on:{freqs:[500,1080,2350,3e3,3300],gains:[1,.1,.0708,.0316,.02995],qs:[40,60,100,120,120]},get æ(){return this.ae},get ø(){return this.oe},get ɑ(){return this.aa},get å(){return this.aa},get ö(){return this.oe},get ü(){return this.ue},get ı(){return this.y}};if(typeof GainNode<"u"){class t extends GainNode{constructor(n,s){if(super(n),!Of[s])throw new Error("vowel: unknown vowel "+s);const{gains:r,qs:i,freqs:a}=Of[s],o=n.createGain();for(let u=0;u<5;u++){const c=n.createGain();c.gain.value=r[u];const l=n.createBiquadFilter();l.type="bandpass",l.Q.value=i[u],l.frequency.value=a[u],this.connect(l),l.connect(c),c.connect(o)}return o.gain.value=8,this.connect=u=>o.connect(u),this}}AudioContext.prototype.createVowelFilter=function(e){return new t(this,e)}}const LX="data:text/javascript;base64,dmFyIF89ZnVuY3Rpb24oQyl7InVzZSBzdHJpY3QiO3ZhciBUZT1PYmplY3QuZGVmaW5lUHJvcGVydHk7dmFyIHllPShDLEQsTCk9PkQgaW4gQz9UZShDLEQse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOkx9KTpDW0RdPUw7dmFyIFN0PShDLEQsTCk9PnllKEMsdHlwZW9mIEQhPSJzeW1ib2wiP0QrIiI6RCxMKTtjbGFzcyBMIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuc3RhcnRlZD0hMSx0aGlzLm5iSW5wdXRzPXQubnVtYmVyT2ZJbnB1dHMsdGhpcy5uYk91dHB1dHM9dC5udW1iZXJPZk91dHB1dHMsdGhpcy5ibG9ja1NpemU9dC5wcm9jZXNzb3JPcHRpb25zLmJsb2NrU2l6ZSx0aGlzLmhvcFNpemU9MTI4LHRoaXMubmJPdmVybGFwcz10aGlzLmJsb2NrU2l6ZS90aGlzLmhvcFNpemUsdGhpcy5pbnB1dEJ1ZmZlcnM9bmV3IEFycmF5KHRoaXMubmJJbnB1dHMpLHRoaXMuaW5wdXRCdWZmZXJzSGVhZD1uZXcgQXJyYXkodGhpcy5uYklucHV0cyksdGhpcy5pbnB1dEJ1ZmZlcnNUb1NlbmQ9bmV3IEFycmF5KHRoaXMubmJJbnB1dHMpO2ZvcihsZXQgZT0wO2U8dGhpcy5uYklucHV0cztlKyspdGhpcy5hbGxvY2F0ZUlucHV0Q2hhbm5lbHMoZSwxKTt0aGlzLm91dHB1dEJ1ZmZlcnM9bmV3IEFycmF5KHRoaXMubmJPdXRwdXRzKSx0aGlzLm91dHB1dEJ1ZmZlcnNUb1JldHJpZXZlPW5ldyBBcnJheSh0aGlzLm5iT3V0cHV0cyk7Zm9yKGxldCBlPTA7ZTx0aGlzLm5iT3V0cHV0cztlKyspdGhpcy5hbGxvY2F0ZU91dHB1dENoYW5uZWxzKGUsMSl9cmVhbGxvY2F0ZUNoYW5uZWxzSWZOZWVkZWQodCxlKXtmb3IobGV0IHM9MDtzPHRoaXMubmJJbnB1dHM7cysrKXtsZXQgcj10W3NdLmxlbmd0aDtyIT10aGlzLmlucHV0QnVmZmVyc1tzXS5sZW5ndGgmJnRoaXMuYWxsb2NhdGVJbnB1dENoYW5uZWxzKHMscil9Zm9yKGxldCBzPTA7czx0aGlzLm5iT3V0cHV0cztzKyspe2xldCByPWVbc10ubGVuZ3RoO3IhPXRoaXMub3V0cHV0QnVmZmVyc1tzXS5sZW5ndGgmJnRoaXMuYWxsb2NhdGVPdXRwdXRDaGFubmVscyhzLHIpfX1hbGxvY2F0ZUlucHV0Q2hhbm5lbHModCxlKXt0aGlzLmlucHV0QnVmZmVyc1t0XT1uZXcgQXJyYXkoZSk7Zm9yKGxldCBzPTA7czxlO3MrKyl0aGlzLmlucHV0QnVmZmVyc1t0XVtzXT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYmxvY2tTaXplKzEyOCksdGhpcy5pbnB1dEJ1ZmZlcnNbdF1bc10uZmlsbCgwKTt0aGlzLmlucHV0QnVmZmVyc0hlYWRbdF09bmV3IEFycmF5KGUpLHRoaXMuaW5wdXRCdWZmZXJzVG9TZW5kW3RdPW5ldyBBcnJheShlKTtmb3IobGV0IHM9MDtzPGU7cysrKXRoaXMuaW5wdXRCdWZmZXJzSGVhZFt0XVtzXT10aGlzLmlucHV0QnVmZmVyc1t0XVtzXS5zdWJhcnJheSgwLHRoaXMuYmxvY2tTaXplKSx0aGlzLmlucHV0QnVmZmVyc1RvU2VuZFt0XVtzXT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYmxvY2tTaXplKX1hbGxvY2F0ZU91dHB1dENoYW5uZWxzKHQsZSl7dGhpcy5vdXRwdXRCdWZmZXJzW3RdPW5ldyBBcnJheShlKTtmb3IobGV0IHM9MDtzPGU7cysrKXRoaXMub3V0cHV0QnVmZmVyc1t0XVtzXT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYmxvY2tTaXplKSx0aGlzLm91dHB1dEJ1ZmZlcnNbdF1bc10uZmlsbCgwKTt0aGlzLm91dHB1dEJ1ZmZlcnNUb1JldHJpZXZlW3RdPW5ldyBBcnJheShlKTtmb3IobGV0IHM9MDtzPGU7cysrKXRoaXMub3V0cHV0QnVmZmVyc1RvUmV0cmlldmVbdF1bc109bmV3IEZsb2F0MzJBcnJheSh0aGlzLmJsb2NrU2l6ZSksdGhpcy5vdXRwdXRCdWZmZXJzVG9SZXRyaWV2ZVt0XVtzXS5maWxsKDApfXJlYWRJbnB1dHModCl7aWYodFswXS5sZW5ndGgmJnRbMF1bMF0ubGVuZ3RoPT0wKXtmb3IobGV0IGU9MDtlPHRoaXMubmJJbnB1dHM7ZSsrKWZvcihsZXQgcz0wO3M8dGhpcy5pbnB1dEJ1ZmZlcnNbZV0ubGVuZ3RoO3MrKyl0aGlzLmlucHV0QnVmZmVyc1tlXVtzXS5maWxsKDAsdGhpcy5ibG9ja1NpemUpO3JldHVybn1mb3IobGV0IGU9MDtlPHRoaXMubmJJbnB1dHM7ZSsrKWZvcihsZXQgcz0wO3M8dGhpcy5pbnB1dEJ1ZmZlcnNbZV0ubGVuZ3RoO3MrKyl7bGV0IHI9dFtlXVtzXTt0aGlzLmlucHV0QnVmZmVyc1tlXVtzXS5zZXQocix0aGlzLmJsb2NrU2l6ZSl9fXdyaXRlT3V0cHV0cyh0KXtmb3IobGV0IGU9MDtlPHRoaXMubmJJbnB1dHM7ZSsrKWZvcihsZXQgcz0wO3M8dGhpcy5pbnB1dEJ1ZmZlcnNbZV0ubGVuZ3RoO3MrKyl7bGV0IHI9dGhpcy5vdXRwdXRCdWZmZXJzW2VdW3NdLnN1YmFycmF5KDAsMTI4KTt0W2VdW3NdLnNldChyKX19c2hpZnRJbnB1dEJ1ZmZlcnMoKXtmb3IobGV0IHQ9MDt0PHRoaXMubmJJbnB1dHM7dCsrKWZvcihsZXQgZT0wO2U8dGhpcy5pbnB1dEJ1ZmZlcnNbdF0ubGVuZ3RoO2UrKyl0aGlzLmlucHV0QnVmZmVyc1t0XVtlXS5jb3B5V2l0aGluKDAsMTI4KX1zaGlmdE91dHB1dEJ1ZmZlcnMoKXtmb3IobGV0IHQ9MDt0PHRoaXMubmJPdXRwdXRzO3QrKylmb3IobGV0IGU9MDtlPHRoaXMub3V0cHV0QnVmZmVyc1t0XS5sZW5ndGg7ZSsrKXRoaXMub3V0cHV0QnVmZmVyc1t0XVtlXS5jb3B5V2l0aGluKDAsMTI4KSx0aGlzLm91dHB1dEJ1ZmZlcnNbdF1bZV0uc3ViYXJyYXkodGhpcy5ibG9ja1NpemUtMTI4KS5maWxsKDApfXByZXBhcmVJbnB1dEJ1ZmZlcnNUb1NlbmQoKXtmb3IobGV0IHQ9MDt0PHRoaXMubmJJbnB1dHM7dCsrKWZvcihsZXQgZT0wO2U8dGhpcy5pbnB1dEJ1ZmZlcnNbdF0ubGVuZ3RoO2UrKyl0aGlzLmlucHV0QnVmZmVyc1RvU2VuZFt0XVtlXS5zZXQodGhpcy5pbnB1dEJ1ZmZlcnNIZWFkW3RdW2VdKX1oYW5kbGVPdXRwdXRCdWZmZXJzVG9SZXRyaWV2ZSgpe2ZvcihsZXQgdD0wO3Q8dGhpcy5uYk91dHB1dHM7dCsrKWZvcihsZXQgZT0wO2U8dGhpcy5vdXRwdXRCdWZmZXJzW3RdLmxlbmd0aDtlKyspZm9yKGxldCBzPTA7czx0aGlzLmJsb2NrU2l6ZTtzKyspdGhpcy5vdXRwdXRCdWZmZXJzW3RdW2VdW3NdKz10aGlzLm91dHB1dEJ1ZmZlcnNUb1JldHJpZXZlW3RdW2VdW3NdL3RoaXMubmJPdmVybGFwc31wcm9jZXNzKHQsZSxzKXtjb25zdCBpPXRbMF1bMF0hPT12b2lkIDA7cmV0dXJuIHRoaXMuc3RhcnRlZCYmIWk/ITE6KHRoaXMuc3RhcnRlZD1pLHRoaXMucmVhbGxvY2F0ZUNoYW5uZWxzSWZOZWVkZWQodCxlKSx0aGlzLnJlYWRJbnB1dHModCksdGhpcy5zaGlmdElucHV0QnVmZmVycygpLHRoaXMucHJlcGFyZUlucHV0QnVmZmVyc1RvU2VuZCgpLHRoaXMucHJvY2Vzc09MQSh0aGlzLmlucHV0QnVmZmVyc1RvU2VuZCx0aGlzLm91dHB1dEJ1ZmZlcnNUb1JldHJpZXZlLHMpLHRoaXMuaGFuZGxlT3V0cHV0QnVmZmVyc1RvUmV0cmlldmUoKSx0aGlzLndyaXRlT3V0cHV0cyhlKSx0aGlzLnNoaWZ0T3V0cHV0QnVmZmVycygpLCEwKX1wcm9jZXNzT0xBKHQsZSxzKXtjb25zb2xlLmFzc2VydCghMSwiTm90IG92ZXJyaWRlbiIpfX1jbGFzcyBrdHtjb25zdHJ1Y3Rvcih0KXtpZih0aGlzLnNpemU9dHwwLHRoaXMuc2l6ZTw9MXx8dGhpcy5zaXplJnRoaXMuc2l6ZS0xKXRocm93IG5ldyBFcnJvcigiRkZUIHNpemUgbXVzdCBiZSBhIHBvd2VyIG9mIHR3byBhbmQgYmlnZ2VyIHRoYW4gMSIpO3RoaXMuX2NzaXplPXQ8PDE7Zm9yKHZhciBlPW5ldyBBcnJheSh0aGlzLnNpemUqMikscz0wO3M8ZS5sZW5ndGg7cys9Mil7Y29uc3QgYz1NYXRoLlBJKnMvdGhpcy5zaXplO2Vbc109TWF0aC5jb3MoYyksZVtzKzFdPS1NYXRoLnNpbihjKX10aGlzLnRhYmxlPWU7Zm9yKHZhciByPTAsaT0xO3RoaXMuc2l6ZT5pO2k8PD0xKXIrKzt0aGlzLl93aWR0aD1yJTI9PT0wP3ItMTpyLHRoaXMuX2JpdHJldj1uZXcgQXJyYXkoMTw8dGhpcy5fd2lkdGgpO2Zvcih2YXIgbz0wO288dGhpcy5fYml0cmV2Lmxlbmd0aDtvKyspe3RoaXMuX2JpdHJldltvXT0wO2Zvcih2YXIgYT0wO2E8dGhpcy5fd2lkdGg7YSs9Mil7dmFyIHU9dGhpcy5fd2lkdGgtYS0yO3RoaXMuX2JpdHJldltvXXw9KG8+Pj5hJjMpPDx1fX10aGlzLl9vdXQ9bnVsbCx0aGlzLl9kYXRhPW51bGwsdGhpcy5faW52PTB9ZnJvbUNvbXBsZXhBcnJheSh0LGUpe2Zvcih2YXIgcz1lfHxuZXcgQXJyYXkodC5sZW5ndGg+Pj4xKSxyPTA7cjx0Lmxlbmd0aDtyKz0yKXNbcj4+PjFdPXRbcl07cmV0dXJuIHN9Y3JlYXRlQ29tcGxleEFycmF5KCl7Y29uc3QgdD1uZXcgQXJyYXkodGhpcy5fY3NpemUpO2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXRbZV09MDtyZXR1cm4gdH10b0NvbXBsZXhBcnJheSh0LGUpe2Zvcih2YXIgcz1lfHx0aGlzLmNyZWF0ZUNvbXBsZXhBcnJheSgpLHI9MDtyPHMubGVuZ3RoO3IrPTIpc1tyXT10W3I+Pj4xXSxzW3IrMV09MDtyZXR1cm4gc31jb21wbGV0ZVNwZWN0cnVtKHQpe2Zvcih2YXIgZT10aGlzLl9jc2l6ZSxzPWU+Pj4xLHI9MjtyPHM7cis9Mil0W2Utcl09dFtyXSx0W2UtcisxXT0tdFtyKzFdfXRyYW5zZm9ybSh0LGUpe2lmKHQ9PT1lKXRocm93IG5ldyBFcnJvcigiSW5wdXQgYW5kIG91dHB1dCBidWZmZXJzIG11c3QgYmUgZGlmZmVyZW50Iik7dGhpcy5fb3V0PXQsdGhpcy5fZGF0YT1lLHRoaXMuX2ludj0wLHRoaXMuX3RyYW5zZm9ybTQoKSx0aGlzLl9vdXQ9bnVsbCx0aGlzLl9kYXRhPW51bGx9cmVhbFRyYW5zZm9ybSh0LGUpe2lmKHQ9PT1lKXRocm93IG5ldyBFcnJvcigiSW5wdXQgYW5kIG91dHB1dCBidWZmZXJzIG11c3QgYmUgZGlmZmVyZW50Iik7dGhpcy5fb3V0PXQsdGhpcy5fZGF0YT1lLHRoaXMuX2ludj0wLHRoaXMuX3JlYWxUcmFuc2Zvcm00KCksdGhpcy5fb3V0PW51bGwsdGhpcy5fZGF0YT1udWxsfWludmVyc2VUcmFuc2Zvcm0odCxlKXtpZih0PT09ZSl0aHJvdyBuZXcgRXJyb3IoIklucHV0IGFuZCBvdXRwdXQgYnVmZmVycyBtdXN0IGJlIGRpZmZlcmVudCIpO3RoaXMuX291dD10LHRoaXMuX2RhdGE9ZSx0aGlzLl9pbnY9MSx0aGlzLl90cmFuc2Zvcm00KCk7Zm9yKHZhciBzPTA7czx0Lmxlbmd0aDtzKyspdFtzXS89dGhpcy5zaXplO3RoaXMuX291dD1udWxsLHRoaXMuX2RhdGE9bnVsbH1fdHJhbnNmb3JtNCgpe3ZhciB0PXRoaXMuX291dCxlPXRoaXMuX2NzaXplLHM9dGhpcy5fd2lkdGgscj0xPDxzLGk9ZS9yPDwxLG8sYSx1PXRoaXMuX2JpdHJldjtpZihpPT09NClmb3Iobz0wLGE9MDtvPGU7bys9aSxhKyspe2NvbnN0IGQ9dVthXTt0aGlzLl9zaW5nbGVUcmFuc2Zvcm0yKG8sZCxyKX1lbHNlIGZvcihvPTAsYT0wO288ZTtvKz1pLGErKyl7Y29uc3QgZD11W2FdO3RoaXMuX3NpbmdsZVRyYW5zZm9ybTQobyxkLHIpfXZhciBjPXRoaXMuX2ludj8tMToxLGg9dGhpcy50YWJsZTtmb3Iocj4+PTI7cj49MjtyPj49Mil7aT1lL3I8PDE7dmFyIGY9aT4+PjI7Zm9yKG89MDtvPGU7bys9aSlmb3IodmFyIHA9bytmLGw9byxtPTA7bDxwO2wrPTIsbSs9cil7Y29uc3QgZD1sLGI9ZCtmLEk9YitmLHY9SStmLFA9dFtkXSx3PXRbZCsxXSxUPXRbYl0sQj10W2IrMV0sQT10W0ldLHk9dFtJKzFdLE89dFt2XSxxPXRbdisxXSx4PVAsRT13LE49aFttXSxGPWMqaFttKzFdLFY9VCpOLUIqRixrPVQqRitCKk4sUj1oWzIqbV0sWD1jKmhbMiptKzFdLHR0PUEqUi15KlgsZXQ9QSpYK3kqUixzdD1oWzMqbV0scnQ9YypoWzMqbSsxXSxudD1PKnN0LXEqcnQsaXQ9TypydCtxKnN0LG90PXgrdHQsSz1FK2V0LGo9eC10dCxhdD1FLWV0LGN0PVYrbnQsWj1rK2l0LCQ9YyooVi1udCksdXQ9Yyooay1pdCksbHQ9b3QrY3QsZ3Q9SytaLGJ0PW90LWN0LEl0PUstWixfdD1qK3V0LEJ0PWF0LSQsTXQ9ai11dCxQdD1hdCskO3RbZF09bHQsdFtkKzFdPWd0LHRbYl09X3QsdFtiKzFdPUJ0LHRbSV09YnQsdFtJKzFdPUl0LHRbdl09TXQsdFt2KzFdPVB0fX19X3NpbmdsZVRyYW5zZm9ybTIodCxlLHMpe2NvbnN0IHI9dGhpcy5fb3V0LGk9dGhpcy5fZGF0YSxvPWlbZV0sYT1pW2UrMV0sdT1pW2Urc10sYz1pW2UrcysxXSxoPW8rdSxmPWErYyxwPW8tdSxsPWEtYztyW3RdPWgsclt0KzFdPWYsclt0KzJdPXAsclt0KzNdPWx9X3NpbmdsZVRyYW5zZm9ybTQodCxlLHMpe2NvbnN0IHI9dGhpcy5fb3V0LGk9dGhpcy5fZGF0YSxvPXRoaXMuX2ludj8tMToxLGE9cyoyLHU9cyozLGM9aVtlXSxoPWlbZSsxXSxmPWlbZStzXSxwPWlbZStzKzFdLGw9aVtlK2FdLG09aVtlK2ErMV0sZD1pW2UrdV0sYj1pW2UrdSsxXSxJPWMrbCx2PWgrbSxQPWMtbCx3PWgtbSxUPWYrZCxCPXArYixBPW8qKGYtZCkseT1vKihwLWIpLE89SStULHE9ditCLHg9UCt5LEU9dy1BLE49SS1ULEY9di1CLFY9UC15LGs9dytBO3JbdF09TyxyW3QrMV09cSxyW3QrMl09eCxyW3QrM109RSxyW3QrNF09TixyW3QrNV09RixyW3QrNl09VixyW3QrN109a31fcmVhbFRyYW5zZm9ybTQoKXt2YXIgdD10aGlzLl9vdXQsZT10aGlzLl9jc2l6ZSxzPXRoaXMuX3dpZHRoLHI9MTw8cyxpPWUvcjw8MSxvLGEsdT10aGlzLl9iaXRyZXY7aWYoaT09PTQpZm9yKG89MCxhPTA7bzxlO28rPWksYSsrKXtjb25zdCB3dD11W2FdO3RoaXMuX3NpbmdsZVJlYWxUcmFuc2Zvcm0yKG8sd3Q+Pj4xLHI+Pj4xKX1lbHNlIGZvcihvPTAsYT0wO288ZTtvKz1pLGErKyl7Y29uc3Qgd3Q9dVthXTt0aGlzLl9zaW5nbGVSZWFsVHJhbnNmb3JtNChvLHd0Pj4+MSxyPj4+MSl9dmFyIGM9dGhpcy5faW52Py0xOjEsaD10aGlzLnRhYmxlO2ZvcihyPj49MjtyPj0yO3I+Pj0yKXtpPWUvcjw8MTt2YXIgZj1pPj4+MSxwPWY+Pj4xLGw9cD4+PjE7Zm9yKG89MDtvPGU7bys9aSlmb3IodmFyIG09MCxkPTA7bTw9bDttKz0yLGQrPXIpe3ZhciBiPW8rbSxJPWIrcCx2PUkrcCxQPXYrcCx3PXRbYl0sVD10W2IrMV0sQj10W0ldLEE9dFtJKzFdLHk9dFt2XSxPPXRbdisxXSxxPXRbUF0seD10W1ArMV0sRT13LE49VCxGPWhbZF0sVj1jKmhbZCsxXSxrPUIqRi1BKlYsUj1CKlYrQSpGLFg9aFsyKmRdLHR0PWMqaFsyKmQrMV0sZXQ9eSpYLU8qdHQsc3Q9eSp0dCtPKlgscnQ9aFszKmRdLG50PWMqaFszKmQrMV0saXQ9cSpydC14Km50LG90PXEqbnQreCpydCxLPUUrZXQsaj1OK3N0LGF0PUUtZXQsY3Q9Ti1zdCxaPWsraXQsJD1SK290LHV0PWMqKGstaXQpLGx0PWMqKFItb3QpLGd0PUsrWixidD1qKyQsSXQ9YXQrbHQsX3Q9Y3QtdXQ7aWYodFtiXT1ndCx0W2IrMV09YnQsdFtJXT1JdCx0W0krMV09X3QsbT09PTApe3ZhciBCdD1LLVosTXQ9ai0kO3Rbdl09QnQsdFt2KzFdPU10O2NvbnRpbnVlfWlmKG0hPT1sKXt2YXIgUHQ9YXQsbWU9LWN0LHZlPUssZ2U9LWosYmU9LWMqbHQsSWU9LWMqdXQsX2U9LWMqJCxCZT0tYypaLE1lPVB0K2JlLFBlPW1lK0llLHdlPXZlK0JlLFNlPWdlLV9lLEN0PW8rcC1tLEV0PW8rZi1tO3RbQ3RdPU1lLHRbQ3QrMV09UGUsdFtFdF09d2UsdFtFdCsxXT1TZX19fX1fc2luZ2xlUmVhbFRyYW5zZm9ybTIodCxlLHMpe2NvbnN0IHI9dGhpcy5fb3V0LGk9dGhpcy5fZGF0YSxvPWlbZV0sYT1pW2Urc10sdT1vK2EsYz1vLWE7clt0XT11LHJbdCsxXT0wLHJbdCsyXT1jLHJbdCszXT0wfV9zaW5nbGVSZWFsVHJhbnNmb3JtNCh0LGUscyl7Y29uc3Qgcj10aGlzLl9vdXQsaT10aGlzLl9kYXRhLG89dGhpcy5faW52Py0xOjEsYT1zKjIsdT1zKjMsYz1pW2VdLGg9aVtlK3NdLGY9aVtlK2FdLHA9aVtlK3VdLGw9YytmLG09Yy1mLGQ9aCtwLGI9byooaC1wKSxJPWwrZCx2PW0sUD0tYix3PWwtZCxUPW0sQj1iO3JbdF09SSxyW3QrMV09MCxyW3QrMl09dixyW3QrM109UCxyW3QrNF09dyxyW3QrNV09MCxyW3QrNl09VCxyW3QrN109Qn19bGV0IER0PW49PmNvbnNvbGUubG9nKG4pO2NvbnN0IHp0PSguLi5uKT0+RHQoLi4ubikscXQ9KG4sdCxlKT0+TWF0aC5taW4oTWF0aC5tYXgobix0KSxlKSxUdD1uPT5uLygxK24pLFd0PShuLHQpPT4obiV0K3QpJXQsTHQ9KG4sdCk9PigxK3QpKm4vKDErdCpNYXRoLmFicyhuKSksWT0obix0KT0+TWF0aC50YW5oKG4qKDErdCkpLFl0PShuLHQpPT5xdCgoMSt0KSpuLC0xLDEpLHl0PShuLHQpPT57bGV0IGU9KDErLjUqdCkqbjtjb25zdCBzPVd0KGUrMSw0KTtyZXR1cm4gMS1NYXRoLmFicyhzLTIpfSxIdD0obix0KT0+TWF0aC5zaW4oTWF0aC5QSS8yKnl0KG4sdCkpLFV0PShuLHQpPT57Y29uc3QgZT1UdChNYXRoLmxvZzFwKHQpKSxzPShuLWUvMypuKm4qbikvKDEtZS8zKTtyZXR1cm4gWShzLHQpfSxBdD0obix0LGU9ITEpPT57Y29uc3Qgcz0xKzIqdCxpPS4wNypUdChNYXRoLmxvZzFwKHQpKSxvPVkobitpLDIqdCksYT1ZKGU/aTotbitpLDIqdCksdT1vLWEsYz0xL01hdGguY29zaChzKmkpLGg9YypjLGY9TWF0aC5tYXgoMWUtOCwoZT8xOjIpKnMqaCk7cmV0dXJuIFkodS9mLHQpfSxPdD17c2N1cnZlOkx0LHNvZnQ6WSxoYXJkOll0LGN1YmljOlV0LGRpb2RlOkF0LGFzeW06KG4sdCk9PkF0KG4sdCwhMCksZm9sZDp5dCxzaW5lZm9sZDpIdCxjaGVieXNoZXY6KG4sdCk9Pntjb25zdCBlPTEwKk1hdGgubG9nMXAodCk7bGV0IHM9MSxyPW4saSxvPTA7Zm9yKGxldCBhPTE7YTw2NDthKyspe2lmKGE8Mil7bys9YT09MD9zOnI7Y29udGludWV9aT0yKm4qcy1yLHI9cyxzPWksYSUyPT09MCYmKG8rPU1hdGgubWluKDEuMyplL2EsMikqaSl9cmV0dXJuIFkobyxlLzIwKX19LEc9T2JqZWN0LmZyZWV6ZShPYmplY3Qua2V5cyhPdCkpLEt0PW49PntsZXQgdD1uO3R5cGVvZiBuPT0ic3RyaW5nIiYmKHQ9Ry5pbmRleE9mKG4pLHQ9PT0tMSYmKHp0KGBbc3VwZXJkb3VnaF0gQ291bGQgbm90IGZpbmQgd2F2ZXNoYXBpbmcgYWxnb3JpdGhtICR7bn0uCiAgICAgICAgQXZhaWxhYmxlIG9wdGlvbnMgYXJlICR7Ry5qb2luKCIsICIpfS4KICAgICAgICBEZWZhdWx0aW5nIHRvICR7R1swXX0uYCksdD0wKSk7Y29uc3QgZT1HW3QlRy5sZW5ndGhdO3JldHVybiBPdFtlXX0sTT0obix0LGUpPT5NYXRoLm1pbihNYXRoLm1heChuLHQpLGUpLHh0PShuLHQpPT4obiV0K3QpJXQsanQ9KG4sdCxlKT0+ZSoodC1uKStuLFM9KG4sdCk9Pm5bdF0/P25bMF0sVz1uPT5uLU1hdGguZmxvb3IobiksZnQ9bj0+bnwwLE50PShuLHQsZSk9Pm48Mj8wOmp0KC10Ki41LHQqLjUsZS8obi0xKSksSD0obix0KT0+bipNYXRoLnBvdygyLHQvMTIpO2Z1bmN0aW9uIEZ0KG4sdD0xKXtyZXR1cm4gbj49dD9uLT10Om48MCYmKG4rPXQpLG59Y29uc3QgVT0xMjg7ZnVuY3Rpb24gWnQobix0KXtyZXR1cm4gdD1NYXRoLm1pbih0LDEtdCksbjx0PyhuLz10LG4rbi1uKm4tMSk6bj4xLXQ/KG49KG4tMSkvdCxuKm4rbituKzEpOjB9Y29uc3QgcHQ9e3RyaShuLHQ9LjUpe2NvbnN0IGU9MS10O3JldHVybiBuPj10PzEvZS1uL2U6bi90fSxzaW5lKG4pe3JldHVybiBNYXRoLnNpbihNYXRoLlBJKjIqbikqLjUrLjV9LHJhbXAobil7cmV0dXJuIG59LHNhdyhuKXtyZXR1cm4gMS1ufSxzcXVhcmUobix0PS41KXtyZXR1cm4gbj49dD8wOjF9LGN1c3RvbShuLHQ9WzAsMV0pe2NvbnN0IGU9dC5sZW5ndGgtMSxzPU1hdGguZmxvb3IobiplKSxyPTEvZSxpPU0odFtzXSwwLDEpLGE9TSh0W3MrMV0sMCwxKSx1PWksYz0wLGg9cjtyZXR1cm4oYS11KS8oaC1jKSoobi1yKnMpK2l9LHNhd2JsZXAobix0KXtyZXR1cm4gMipuLTEtWnQobix0KX19O2Z1bmN0aW9uIFEobix0KXtyZXR1cm4gdC5sZW5ndGg+MT90W25dOnRbMF19Y29uc3QgJHQ9T2JqZWN0LmtleXMocHQpO2NsYXNzIEd0IGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye3N0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6ImJlZ2luIixkZWZhdWx0VmFsdWU6MH0se25hbWU6InRpbWUiLGRlZmF1bHRWYWx1ZTowfSx7bmFtZToiZW5kIixkZWZhdWx0VmFsdWU6MH0se25hbWU6ImZyZXF1ZW5jeSIsZGVmYXVsdFZhbHVlOi41fSx7bmFtZToic2tldyIsZGVmYXVsdFZhbHVlOi41fSx7bmFtZToiZGVwdGgiLGRlZmF1bHRWYWx1ZToxfSx7bmFtZToicGhhc2VvZmZzZXQiLGRlZmF1bHRWYWx1ZTowfSx7bmFtZToic2hhcGUiLGRlZmF1bHRWYWx1ZTowfSx7bmFtZToiY3VydmUiLGRlZmF1bHRWYWx1ZToxfSx7bmFtZToiZGNvZmZzZXQiLGRlZmF1bHRWYWx1ZTowfSx7bmFtZToibWluIixkZWZhdWx0VmFsdWU6MH0se25hbWU6Im1heCIsZGVmYXVsdFZhbHVlOjF9XX1jb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5waGFzZX1pbmNyZW1lbnRQaGFzZSh0KXt0aGlzLnBoYXNlKz10LHRoaXMucGhhc2U+MSYmKHRoaXMucGhhc2U9dGhpcy5waGFzZS0xKX1wcm9jZXNzKHQsZSxzKXtjb25zdCByPXMuYmVnaW5bMF07aWYoY3VycmVudFRpbWU+PXMuZW5kWzBdKXJldHVybiExO2lmKGN1cnJlbnRUaW1lPD1yKXJldHVybiEwO2NvbnN0IGk9ZVswXSxvPXMuZnJlcXVlbmN5WzBdLGE9cy50aW1lWzBdLHU9cy5kZXB0aFswXSxjPXMuc2tld1swXSxoPXMucGhhc2VvZmZzZXRbMF0sZj1zLmN1cnZlWzBdLHA9cy5kY29mZnNldFswXSxsPXMubWluWzBdLG09cy5tYXhbMF0sZD0kdFtzLnNoYXBlWzBdXSxiPWlbMF0ubGVuZ3RoPz8wO3RoaXMucGhhc2U9PW51bGwmJih0aGlzLnBoYXNlPXh0KGEqbytoLDEpKTtjb25zdCBJPW8vc2FtcGxlUmF0ZTtmb3IobGV0IHY9MDt2PGI7disrKXtmb3IobGV0IFA9MDtQPGkubGVuZ3RoO1ArKyl7bGV0IHc9KHB0W2RdKHRoaXMucGhhc2UsYykrcCkqdTt3PU1hdGgucG93KHcsZiksaVtQXVt2XT1NKHcsbCxtKX10aGlzLmluY3JlbWVudFBoYXNlKEkpfXJldHVybiEwfX1yZWdpc3RlclByb2Nlc3NvcigibGZvLXByb2Nlc3NvciIsR3QpO2NsYXNzIFF0IGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye3N0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6ImNvYXJzZSIsZGVmYXVsdFZhbHVlOjF9XX1jb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5zdGFydGVkPSExfXByb2Nlc3ModCxlLHMpe2NvbnN0IHI9dFswXSxpPWVbMF0sbz1yWzBdIT09dm9pZCAwO2lmKHRoaXMuc3RhcnRlZCYmIW8pcmV0dXJuITE7dGhpcy5zdGFydGVkPW87bGV0IGE9cy5jb2Fyc2VbMF0/PzA7YT1NYXRoLm1heCgxLGEpO2ZvcihsZXQgdT0wO3U8VTt1KyspZm9yKGxldCBjPTA7YzxyLmxlbmd0aDtjKyspaVtjXVt1XT11JWE9PT0wP3JbY11bdV06aVtjXVt1LTFdO3JldHVybiEwfX1yZWdpc3RlclByb2Nlc3NvcigiY29hcnNlLXByb2Nlc3NvciIsUXQpO2NsYXNzIEp0IGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye3N0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6ImNydXNoIixkZWZhdWx0VmFsdWU6MH1dfWNvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnN0YXJ0ZWQ9ITF9cHJvY2Vzcyh0LGUscyl7Y29uc3Qgcj10WzBdLGk9ZVswXSxvPXJbMF0hPT12b2lkIDA7aWYodGhpcy5zdGFydGVkJiYhbylyZXR1cm4hMTt0aGlzLnN0YXJ0ZWQ9bztsZXQgYT1zLmNydXNoWzBdPz84O2E9TWF0aC5tYXgoMSxhKTtmb3IobGV0IHU9MDt1PFU7dSsrKWZvcihsZXQgYz0wO2M8ci5sZW5ndGg7YysrKXtjb25zdCBoPU1hdGgucG93KDIsYS0xKTtpW2NdW3VdPU1hdGgucm91bmQocltjXVt1XSpoKS9ofXJldHVybiEwfX1yZWdpc3RlclByb2Nlc3NvcigiY3J1c2gtcHJvY2Vzc29yIixKdCk7Y2xhc3MgWHQgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7c3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpe3JldHVyblt7bmFtZToic2hhcGUiLGRlZmF1bHRWYWx1ZTowfSx7bmFtZToicG9zdGdhaW4iLGRlZmF1bHRWYWx1ZToxfV19Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuc3RhcnRlZD0hMX1wcm9jZXNzKHQsZSxzKXtjb25zdCByPXRbMF0saT1lWzBdLG89clswXSE9PXZvaWQgMDtpZih0aGlzLnN0YXJ0ZWQmJiFvKXJldHVybiExO3RoaXMuc3RhcnRlZD1vO2xldCBhPXMuc2hhcGVbMF07YT1hPDE/YTouOTk5OTk5OTk5NixhPTIqYS8oMS1hKTtjb25zdCB1PU1hdGgubWF4KC4wMDEsTWF0aC5taW4oMSxzLnBvc3RnYWluWzBdKSk7Zm9yKGxldCBjPTA7YzxVO2MrKylmb3IobGV0IGg9MDtoPHIubGVuZ3RoO2grKylpW2hdW2NdPSgxK2EpKnJbaF1bY10vKDErYSpNYXRoLmFicyhyW2hdW2NdKSkqdTtyZXR1cm4hMH19cmVnaXN0ZXJQcm9jZXNzb3IoInNoYXBlLXByb2Nlc3NvciIsWHQpO2NsYXNzIFZ0e2NvbnN0cnVjdG9yKCl7U3QodGhpcywiczAiLDApO1N0KHRoaXMsInMxIiwwKX11cGRhdGUodCxlLHM9MCl7cz1NKHMsMCwxKSxlPU0oZSwwLHNhbXBsZVJhdGUvMi0xKTtjb25zdCByPU0oMipNYXRoLnNpbihlKihkdC9zYW1wbGVSYXRlKSksMCwxLjE0KSxvPTEtTWF0aC5wb3coLjUsKHMrLjEyNSkvLjEyNSkqcjtyZXR1cm4gdGhpcy5zMD1vKnRoaXMuczAtcip0aGlzLnMxK3IqdCx0aGlzLnMxPW8qdGhpcy5zMStyKnRoaXMuczAsdGhpcy5zMX19Y2xhc3MgdGUgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7c3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpe3JldHVyblt7bmFtZToidmFsdWUiLGRlZmF1bHRWYWx1ZTouNX1dfWNvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLmZpbHRlcnM9W25ldyBWdCxuZXcgVnRdfXByb2Nlc3ModCxlLHMpe2NvbnN0IHI9dFswXSxpPWVbMF0sbz1yWzBdIT09dm9pZCAwO3RoaXMuc3RhcnRlZD1vO2NvbnN0IGE9TShzLnZhbHVlWzBdLDAsMSk7bGV0IHU9Im5vbmUiLGMsaD0xO2E+LjUxPyh1PSJoaXBhc3MiLGg9KGEtLjUpKjIpOmE8LjQ5JiYodT0ibG9wYXNzIixoPWEqMiksYz1NYXRoLnBvdyhoKjExLDQpO2ZvcihsZXQgZj0wO2Y8ci5sZW5ndGg7ZisrKWZvcihsZXQgcD0wO3A8VTtwKyspdT09Im5vbmUiP2lbZl1bcF09cltmXVtwXToodGhpcy5maWx0ZXJzW2ZdLnVwZGF0ZShyW2ZdW3BdLGMsLjEpLHU9PT0ibG9wYXNzIj9pW2ZdW3BdPXRoaXMuZmlsdGVyc1tmXS5zMTp1PT09ImhpcGFzcyI/aVtmXVtwXT1yW2ZdW3BdLXRoaXMuZmlsdGVyc1tmXS5zMTppW2ZdW3BdPXJbZl1bcF0pO3JldHVybiEwfX1yZWdpc3RlclByb2Nlc3NvcigiZGpmLXByb2Nlc3NvciIsdGUpO2Z1bmN0aW9uIHoobil7Y29uc3QgdD1uKm47cmV0dXJuIG4qKDI3K3QpLygyNys5KnQpfWNvbnN0IGR0PTMuMTQxNTkyNjUzNTk7Y2xhc3MgZWUgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7c3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpe3JldHVyblt7bmFtZToiZnJlcXVlbmN5IixkZWZhdWx0VmFsdWU6NTAwfSx7bmFtZToicSIsZGVmYXVsdFZhbHVlOjF9LHtuYW1lOiJkcml2ZSIsZGVmYXVsdFZhbHVlOi42OX1dfWNvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnN0YXJ0ZWQ9ITEsdGhpcy5wMD1bMCwwXSx0aGlzLnAxPVswLDBdLHRoaXMucDI9WzAsMF0sdGhpcy5wMz1bMCwwXSx0aGlzLnAzMj1bMCwwXSx0aGlzLnAzMz1bMCwwXSx0aGlzLnAzND1bMCwwXX1wcm9jZXNzKHQsZSxzKXtjb25zdCByPXRbMF0saT1lWzBdLG89clswXSE9PXZvaWQgMDtpZih0aGlzLnN0YXJ0ZWQmJiFvKXJldHVybiExO3RoaXMuc3RhcnRlZD1vO2NvbnN0IGE9cy5xWzBdLHU9TShNYXRoLmV4cChzLmRyaXZlWzBdKSwuMSwyZTMpO2xldCBjPXMuZnJlcXVlbmN5WzBdO2M9YyoyKmR0L3NhbXBsZVJhdGUsYz1jPjE/MTpjO2NvbnN0IGg9TWF0aC5taW4oOCxhKi4xMyk7bGV0IGY9MS91Kk1hdGgubWluKDEuNzUsMStoKTtmb3IobGV0IHA9MDtwPFU7cCsrKWZvcihsZXQgbD0wO2w8ci5sZW5ndGg7bCsrKXtjb25zdCBtPXRoaXMucDNbbF0qLjM2MDg5MSt0aGlzLnAzMltsXSouNDE3MjkrdGhpcy5wMzNbbF0qLjE3Nzg5Nit0aGlzLnAzNFtsXSouMDQzOTcyNTt0aGlzLnAzNFtsXT10aGlzLnAzM1tsXSx0aGlzLnAzM1tsXT10aGlzLnAzMltsXSx0aGlzLnAzMltsXT10aGlzLnAzW2xdLHRoaXMucDBbbF0rPSh6KHJbbF1bcF0qdS1oKm0pLXoodGhpcy5wMFtsXSkpKmMsdGhpcy5wMVtsXSs9KHoodGhpcy5wMFtsXSkteih0aGlzLnAxW2xdKSkqYyx0aGlzLnAyW2xdKz0oeih0aGlzLnAxW2xdKS16KHRoaXMucDJbbF0pKSpjLHRoaXMucDNbbF0rPSh6KHRoaXMucDJbbF0pLXoodGhpcy5wM1tsXSkpKmMsaVtsXVtwXT1tKmZ9cmV0dXJuITB9fXJlZ2lzdGVyUHJvY2Vzc29yKCJsYWRkZXItcHJvY2Vzc29yIixlZSk7Y2xhc3Mgc2UgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7c3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpe3JldHVyblt7bmFtZToiZGlzdG9ydCIsZGVmYXVsdFZhbHVlOjB9LHtuYW1lOiJwb3N0Z2FpbiIsZGVmYXVsdFZhbHVlOjF9XX1jb25zdHJ1Y3Rvcih7cHJvY2Vzc29yT3B0aW9uczp0fSl7c3VwZXIoKSx0aGlzLnN0YXJ0ZWQ9ITEsdGhpcy5hbGdvcml0aG09S3QodC5hbGdvcml0aG0pfXByb2Nlc3ModCxlLHMpe2NvbnN0IHI9dFswXSxpPWVbMF0sbz1yWzBdIT09dm9pZCAwO2lmKHRoaXMuc3RhcnRlZCYmIW8pcmV0dXJuITE7dGhpcy5zdGFydGVkPW87Zm9yKGxldCBhPTA7YTxVO2ErKyl7Y29uc3QgdT1NKFMocy5wb3N0Z2FpbixhKSwuMDAxLDEpLGM9TWF0aC5leHBtMShTKHMuZGlzdG9ydCxhKSk7Zm9yKGxldCBoPTA7aDxyLmxlbmd0aDtoKyspe2NvbnN0IGY9cltoXVthXTtpW2hdW2FdPXUqdGhpcy5hbGdvcml0aG0oZixjKX19cmV0dXJuITB9fXJlZ2lzdGVyUHJvY2Vzc29yKCJkaXN0b3J0LXByb2Nlc3NvciIsc2UpO2NsYXNzIHJlIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnBoYXNlPVtdfXN0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6ImJlZ2luIixkZWZhdWx0VmFsdWU6MCxtYXg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLG1pbjowfSx7bmFtZToiZW5kIixkZWZhdWx0VmFsdWU6MCxtYXg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLG1pbjowfSx7bmFtZToiZnJlcXVlbmN5IixkZWZhdWx0VmFsdWU6NDQwLG1pbjpOdW1iZXIuRVBTSUxPTn0se25hbWU6InBhbnNwcmVhZCIsZGVmYXVsdFZhbHVlOi40LG1pbjowLG1heDoxfSx7bmFtZToiZnJlcXNwcmVhZCIsZGVmYXVsdFZhbHVlOi4yLG1pbjowfSx7bmFtZToiZGV0dW5lIixkZWZhdWx0VmFsdWU6MCxtaW46MH0se25hbWU6InZvaWNlcyIsZGVmYXVsdFZhbHVlOjUsbWluOjF9XX1wcm9jZXNzKHQsZSxzKXtpZihjdXJyZW50VGltZTw9cy5iZWdpblswXSlyZXR1cm4hMDtpZihjdXJyZW50VGltZT49cy5lbmRbMF0pcmV0dXJuITE7Y29uc3Qgcj1lWzBdO2ZvcihsZXQgaT0wO2k8clswXS5sZW5ndGg7aSsrKXtjb25zdCBvPVMocy5kZXR1bmUsaSksYT1TKHMudm9pY2VzLGkpLHU9UyhzLmZyZXFzcHJlYWQsaSksYz1TKHMucGFuc3ByZWFkLGkpKi41Ky41LGg9TWF0aC5zcXJ0KDEtYyksZj1NYXRoLnNxcnQoYyk7bGV0IHA9UyhzLmZyZXF1ZW5jeSxpKTtwPUgocCxvLzEwMCk7Zm9yKGxldCBsPTA7bDxhO2wrKyl7Y29uc3QgbT0obCYxKT09MTtsZXQgZD1oLGI9ZjttJiYoZD1mLGI9aCk7Y29uc3QgST1IKHAsTnQoYSx1LGwpKSx2PXh0KEkvc2FtcGxlUmF0ZSwxKTt0aGlzLnBoYXNlW2xdPXRoaXMucGhhc2VbbF0/P01hdGgucmFuZG9tKCk7Y29uc3QgUD1wdC5zYXdibGVwKHRoaXMucGhhc2VbbF0sdik7clswXVtpXT1yWzBdW2ldK1AqZCxyWzFdW2ldPXJbMV1baV0rUCpiLHRoaXMucGhhc2VbbF09RnQodGhpcy5waGFzZVtsXSt2KX19cmV0dXJuITB9fXJlZ2lzdGVyUHJvY2Vzc29yKCJzdXBlcnNhdy1vc2NpbGxhdG9yIixyZSk7Y29uc3QgbmU9MjA0ODtmdW5jdGlvbiBpZShuKXtsZXQgdD1uZXcgRmxvYXQzMkFycmF5KG4pO2Zvcih2YXIgZT0wO2U8bjtlKyspdFtlXT0uNSooMS1NYXRoLmNvcygyKk1hdGguUEkqZS9uKSk7cmV0dXJuIHR9Y2xhc3Mgb2UgZXh0ZW5kcyBMe3N0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6InBpdGNoRmFjdG9yIixkZWZhdWx0VmFsdWU6MX1dfWNvbnN0cnVjdG9yKHQpe3QucHJvY2Vzc29yT3B0aW9ucz17YmxvY2tTaXplOm5lfSxzdXBlcih0KSx0aGlzLmZmdFNpemU9dGhpcy5ibG9ja1NpemUsdGhpcy50aW1lQ3Vyc29yPTAsdGhpcy5oYW5uV2luZG93PWllKHRoaXMuYmxvY2tTaXplKSx0aGlzLmZmdD1uZXcga3QodGhpcy5mZnRTaXplKSx0aGlzLmZyZXFDb21wbGV4QnVmZmVyPXRoaXMuZmZ0LmNyZWF0ZUNvbXBsZXhBcnJheSgpLHRoaXMuZnJlcUNvbXBsZXhCdWZmZXJTaGlmdGVkPXRoaXMuZmZ0LmNyZWF0ZUNvbXBsZXhBcnJheSgpLHRoaXMudGltZUNvbXBsZXhCdWZmZXI9dGhpcy5mZnQuY3JlYXRlQ29tcGxleEFycmF5KCksdGhpcy5tYWduaXR1ZGVzPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5mZnRTaXplLzIrMSksdGhpcy5wZWFrSW5kZXhlcz1uZXcgSW50MzJBcnJheSh0aGlzLm1hZ25pdHVkZXMubGVuZ3RoKSx0aGlzLm5iUGVha3M9MH1wcm9jZXNzT0xBKHQsZSxzKXtsZXQgcj1zLnBpdGNoRmFjdG9yW3MucGl0Y2hGYWN0b3IubGVuZ3RoLTFdO3I8MCYmKHI9ciouMjUpLHI9TWF0aC5tYXgoMCxyKzEpO2Zvcih2YXIgaT0wO2k8dGhpcy5uYklucHV0cztpKyspZm9yKHZhciBvPTA7bzx0W2ldLmxlbmd0aDtvKyspe3ZhciBhPXRbaV1bb10sdT1lW2ldW29dO3RoaXMuYXBwbHlIYW5uV2luZG93KGEpLHRoaXMuZmZ0LnJlYWxUcmFuc2Zvcm0odGhpcy5mcmVxQ29tcGxleEJ1ZmZlcixhKSx0aGlzLmNvbXB1dGVNYWduaXR1ZGVzKCksdGhpcy5maW5kUGVha3MoKSx0aGlzLnNoaWZ0UGVha3MociksdGhpcy5mZnQuY29tcGxldGVTcGVjdHJ1bSh0aGlzLmZyZXFDb21wbGV4QnVmZmVyU2hpZnRlZCksdGhpcy5mZnQuaW52ZXJzZVRyYW5zZm9ybSh0aGlzLnRpbWVDb21wbGV4QnVmZmVyLHRoaXMuZnJlcUNvbXBsZXhCdWZmZXJTaGlmdGVkKSx0aGlzLmZmdC5mcm9tQ29tcGxleEFycmF5KHRoaXMudGltZUNvbXBsZXhCdWZmZXIsdSksdGhpcy5hcHBseUhhbm5XaW5kb3codSl9dGhpcy50aW1lQ3Vyc29yKz10aGlzLmhvcFNpemV9YXBwbHlIYW5uV2luZG93KHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5ibG9ja1NpemU7ZSsrKXRbZV09dFtlXSp0aGlzLmhhbm5XaW5kb3dbZV0qMS42Mn1jb21wdXRlTWFnbml0dWRlcygpe2Zvcih2YXIgdD0wLGU9MDt0PHRoaXMubWFnbml0dWRlcy5sZW5ndGg7KXtsZXQgcz10aGlzLmZyZXFDb21wbGV4QnVmZmVyW2VdLHI9dGhpcy5mcmVxQ29tcGxleEJ1ZmZlcltlKzFdO3RoaXMubWFnbml0dWRlc1t0XT1zKioyK3IqKjIsdCs9MSxlKz0yfX1maW5kUGVha3MoKXt0aGlzLm5iUGVha3M9MDt2YXIgdD0yO2xldCBlPXRoaXMubWFnbml0dWRlcy5sZW5ndGgtMjtmb3IoO3Q8ZTspe2xldCBzPXRoaXMubWFnbml0dWRlc1t0XTtpZih0aGlzLm1hZ25pdHVkZXNbdC0xXT49c3x8dGhpcy5tYWduaXR1ZGVzW3QtMl0+PXMpe3QrKztjb250aW51ZX1pZih0aGlzLm1hZ25pdHVkZXNbdCsxXT49c3x8dGhpcy5tYWduaXR1ZGVzW3QrMl0+PXMpe3QrKztjb250aW51ZX10aGlzLnBlYWtJbmRleGVzW3RoaXMubmJQZWFrc109dCx0aGlzLm5iUGVha3MrKyx0Kz0yfX1zaGlmdFBlYWtzKHQpe3RoaXMuZnJlcUNvbXBsZXhCdWZmZXJTaGlmdGVkLmZpbGwoMCk7Zm9yKHZhciBlPTA7ZTx0aGlzLm5iUGVha3M7ZSsrKXtsZXQgbz10aGlzLnBlYWtJbmRleGVzW2VdLGE9TWF0aC5yb3VuZChvKnQpO2lmKGE+dGhpcy5tYWduaXR1ZGVzLmxlbmd0aClicmVhazt2YXIgcz0wLHI9dGhpcy5mZnRTaXplO2lmKGU+MCl7bGV0IGg9dGhpcy5wZWFrSW5kZXhlc1tlLTFdO3M9by1NYXRoLmZsb29yKChvLWgpLzIpfWlmKGU8dGhpcy5uYlBlYWtzLTEpe2xldCBoPXRoaXMucGVha0luZGV4ZXNbZSsxXTtyPW8rTWF0aC5jZWlsKChoLW8pLzIpfWxldCB1PXMtbyxjPXItbztmb3IodmFyIGk9dTtpPGM7aSsrKXtsZXQgaD1vK2ksZj1hK2k7aWYoZj49dGhpcy5tYWduaXR1ZGVzLmxlbmd0aClicmVhaztsZXQgcD0yKk1hdGguUEkqKGYtaCkvdGhpcy5mZnRTaXplLGw9TWF0aC5jb3MocCp0aGlzLnRpbWVDdXJzb3IpLG09TWF0aC5zaW4ocCp0aGlzLnRpbWVDdXJzb3IpLGQ9aCoyLGI9ZCsxLEk9dGhpcy5mcmVxQ29tcGxleEJ1ZmZlcltkXSx2PXRoaXMuZnJlcUNvbXBsZXhCdWZmZXJbYl0sUD1JKmwtdiptLHc9SSptK3YqbCxUPWYqMixCPVQrMTt0aGlzLmZyZXFDb21wbGV4QnVmZmVyU2hpZnRlZFtUXSs9UCx0aGlzLmZyZXFDb21wbGV4QnVmZmVyU2hpZnRlZFtCXSs9d319fX1yZWdpc3RlclByb2Nlc3NvcigicGhhc2Utdm9jb2Rlci1wcm9jZXNzb3IiLG9lKTtjbGFzcyBhZSBleHRlbmRzIEF1ZGlvV29ya2xldFByb2Nlc3Nvcntjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5waT1kdCx0aGlzLnBoaT0tdGhpcy5waSx0aGlzLlkwPTAsdGhpcy5ZMT0wLHRoaXMuUFc9dGhpcy5waSx0aGlzLkI9Mi4zLHRoaXMuZHBoaWY9MCx0aGlzLmVudmY9MH1zdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCl7cmV0dXJuW3tuYW1lOiJiZWdpbiIsZGVmYXVsdFZhbHVlOjAsbWF4Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWSxtaW46MH0se25hbWU6ImVuZCIsZGVmYXVsdFZhbHVlOjAsbWF4Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWSxtaW46MH0se25hbWU6ImZyZXF1ZW5jeSIsZGVmYXVsdFZhbHVlOjQ0MCxtaW46TnVtYmVyLkVQU0lMT059LHtuYW1lOiJkZXR1bmUiLGRlZmF1bHRWYWx1ZTowLG1pbjpOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksbWF4Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWX0se25hbWU6InB1bHNld2lkdGgiLGRlZmF1bHRWYWx1ZToxLG1pbjowLG1heDpOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9XX1wcm9jZXNzKHQsZSxzKXtpZih0aGlzLmRpc2Nvbm5lY3RlZClyZXR1cm4hMTtpZihjdXJyZW50VGltZTw9cy5iZWdpblswXSlyZXR1cm4hMDtpZihjdXJyZW50VGltZT49cy5lbmRbMF0pcmV0dXJuITE7Y29uc3Qgcj1lWzBdO2xldCBpPTEsbztmb3IobGV0IGE9MDthPChyWzBdLmxlbmd0aD8/MCk7YSsrKXtjb25zdCB1PSgxLU0oUShhLHMucHVsc2V3aWR0aCksLS45OSwuOTkpKSp0aGlzLnBpLGM9UShhLHMuZGV0dW5lKSxoPUgoUShhLHMuZnJlcXVlbmN5KSxjLzEwMCk7bz1oKih0aGlzLnBpLyhzYW1wbGVSYXRlKi41KSksdGhpcy5kcGhpZis9LjEqKG8tdGhpcy5kcGhpZiksaSo9Ljk5OTgsdGhpcy5lbnZmKz0uMSooaS10aGlzLmVudmYpLHRoaXMuQj0yLjMqKDEtMWUtNCpoKSx0aGlzLkI8MCYmKHRoaXMuQj0wKSx0aGlzLnBoaSs9dGhpcy5kcGhpZix0aGlzLnBoaT49dGhpcy5waSYmKHRoaXMucGhpLT0yKnRoaXMucGkpO2xldCBmPU1hdGguY29zKHRoaXMucGhpK3RoaXMuQip0aGlzLlkwKTt0aGlzLlkwPS41KihmK3RoaXMuWTApO2xldCBwPU1hdGguY29zKHRoaXMucGhpK3RoaXMuQip0aGlzLlkxK3UpO3RoaXMuWTE9LjUqKHArdGhpcy5ZMSk7Zm9yKGxldCBsPTA7bDxyLmxlbmd0aDtsKyspcltsXVthXT0uMTUqKGYtcCkqdGhpcy5lbnZmfXJldHVybiEwfX1yZWdpc3RlclByb2Nlc3NvcigicHVsc2Utb3NjaWxsYXRvciIsYWUpO2NvbnN0IG10PXtiaXRDOmZ1bmN0aW9uKG4sdCxlKXtyZXR1cm4gbiZ0P2U6MH0sYnI6ZnVuY3Rpb24obix0PTgpe2lmKHQ+MzIpdGhyb3cgbmV3IEVycm9yKCJicigpIFNpemUgY2Fubm90IGJlIGdyZWF0ZXIgdGhhbiAzMiIpO3tsZXQgZT0wO2ZvcihsZXQgcz0wO3M8dC0wO3MrKyllKz1tdC5iaXRDKG4sMioqcywyKioodC0ocysxKSkpO3JldHVybiBlfX0sc2luZjpmdW5jdGlvbihuKXtyZXR1cm4gTWF0aC5zaW4obi8oMTI4L01hdGguUEkpKX0sY29zZjpmdW5jdGlvbihuKXtyZXR1cm4gTWF0aC5jb3Mobi8oMTI4L01hdGguUEkpKX0sdGFuZjpmdW5jdGlvbihuKXtyZXR1cm4gTWF0aC50YW4obi8oMTI4L01hdGguUEkpKX0scmVnRzpmdW5jdGlvbihuLHQpe3JldHVybiB0LnRlc3Qobi50b1N0cmluZygyKSl9fTtsZXQgSixodDtmdW5jdGlvbiBjZShuKXtpZigoSnx8aHQpPT1udWxsKXtKPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE1hdGgpLGh0PUoubWFwKHM9Pk1hdGhbc10pO2NvbnN0IHQ9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMobXQpLGU9dC5tYXAocz0+bXRbc10pO0oucHVzaCgiaW50Iiwid2luZG93IiwuLi50KSxodC5wdXNoKE1hdGguZmxvb3IsZ2xvYmFsVGhpcywuLi5lKX1yZXR1cm4gbmV3IEZ1bmN0aW9uKC4uLkosInQiLGByZXR1cm4gMCwKJHtufHwwfTtgKS5iaW5kKGdsb2JhbFRoaXMsLi4uaHQpfWNsYXNzIHVlIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnBvcnQub25tZXNzYWdlPXQ9PntsZXR7Y29kZVRleHQ6ZX09dC5kYXRhO2NvbnN0e2J5dGVCZWF0U3RhcnRUaW1lOnN9PXQuZGF0YTtzIT1udWxsJiYodGhpcy50PTAsdGhpcy5pbml0aWFsT2Zmc2V0PU1hdGguZmxvb3IocykpLGU9ZS50cmltKCkucmVwbGFjZSgvXmV2YWxcKHVuZXNjYXBlXChlc2NhcGUoPzpgfFwoJ3xcKCJ8XChgKSguKj8pKD86YHwnXCl8IlwpfGBcKSkucmVwbGFjZVwoXC91XChcLlwuXClcL2csWyInYF1cJDElWyInYF1cKVwpXCkkLywocixpKT0+dW5lc2NhcGUoZXNjYXBlKGkpLnJlcGxhY2UoL3UoLi4pL2csIiQxJSIpKSksdGhpcy5mdW5jPWNlKGUpfSx0aGlzLmluaXRpYWxPZmZzZXQ9bnVsbCx0aGlzLnQ9bnVsbCx0aGlzLmZ1bmM9bnVsbH1zdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCl7cmV0dXJuW3tuYW1lOiJiZWdpbiIsZGVmYXVsdFZhbHVlOjAsbWF4Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWSxtaW46MH0se25hbWU6ImZyZXF1ZW5jeSIsZGVmYXVsdFZhbHVlOjQ0MCxtaW46TnVtYmVyLkVQU0lMT059LHtuYW1lOiJkZXR1bmUiLGRlZmF1bHRWYWx1ZTowLG1pbjpOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksbWF4Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWX0se25hbWU6ImVuZCIsZGVmYXVsdFZhbHVlOjAsbWF4Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWSxtaW46MH1dfXByb2Nlc3ModCxlLHMpe2lmKHRoaXMuZGlzY29ubmVjdGVkKXJldHVybiExO2lmKGN1cnJlbnRUaW1lPD1zLmJlZ2luWzBdKXJldHVybiEwO2lmKGN1cnJlbnRUaW1lPj1zLmVuZFswXSlyZXR1cm4hMTt0aGlzLnQ9PW51bGwmJih0aGlzLnQ9cy5iZWdpblswXSpzYW1wbGVSYXRlKTtjb25zdCByPWVbMF07Zm9yKGxldCBpPTA7aTxyWzBdLmxlbmd0aDtpKyspe2NvbnN0IG89UShpLHMuZGV0dW5lKSxhPUgoUShpLHMuZnJlcXVlbmN5KSxvLzEwMCk7bGV0IHU9dGhpcy50LyhzYW1wbGVSYXRlLzI1NikqYSt0aGlzLmluaXRpYWxPZmZzZXQ7Y29uc3QgZj0oKHRoaXMuZnVuYyh1KSYyNTUpLzEyNy41LTEpKi4yO2ZvcihsZXQgcD0wO3A8ci5sZW5ndGg7cCsrKXJbcF1baV09TShmLC0uNCwuNCk7dGhpcy50PXRoaXMudCsxfXJldHVybiEwfX1yZWdpc3RlclByb2Nlc3NvcigiYnl0ZS1iZWF0LXByb2Nlc3NvciIsdWUpO2NvbnN0IGc9T2JqZWN0LmZyZWV6ZSh7Tk9ORTowLEFTWU06MSxNSVJST1I6MixCRU5EUDozLEJFTkRNOjQsQkVORE1QOjUsU1lOQzo2LFFVQU5UOjcsRk9MRDo4LFBXTTo5LE9SQklUOjEwLFNQSU46MTEsQ0hBT1M6MTIsUFJJTUVTOjEzLEJJTkFSWToxNCxCUk9XTklBTjoxNSxSRUNJUFJPQ0FMOjE2LFdPUk1IT0xFOjE3LExPR0lTVElDOjE4LFNJR01PSUQ6MTksRlJBQ1RBTDoyMCxGTElQOjIxfSk7ZnVuY3Rpb24gaGUobil7cmV0dXJuIG49bisyMTI3OTEyMjE0KyhuPDwxMiksbj1uXjMzNDUwNzI3MDBebj4+PjE5LG49biszNzQ3NjEzOTMrKG48PDUpLG49biszNTUwNjM1MTE2Xm48PDksbj1uKzQyNTE5OTM3OTcrKG48PDMpLG49bl4zMDQyNTk0NTY5Xm4+Pj4xNixuPj4+MH1jb25zdCBSdD1uPT4oaGUobik+Pj44KS8xNjc3NzIxNjtmdW5jdGlvbiBsZShuLHQpe2xldCBlPTA7Zm9yKGxldCBzPTA7czx0O3MrKyllPWU8PDF8biYxLG4+Pj49MTtyZXR1cm4gZX1mdW5jdGlvbiBmZShuKXtjb25zdCB0PU1hdGguZmxvb3IobiksZT1uLXQscz1SdCh0KSxyPVJ0KHQrMSk7cmV0dXJuIHMrKHItcykqZX1mdW5jdGlvbiBwZShuLHQ9NCl7bGV0IGU9LjUscz0wLHI9MCxpPTE7Zm9yKGxldCBvPTA7bzx0O28rKylzKz1lKmZlKG4qaSkscis9ZSxlKj0uNSxpKj0yO3JldHVybiBzL3IqMi0xfWNvbnN0IHZ0PXt9O2NsYXNzIGRlIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye3N0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6ImJlZ2luIixkZWZhdWx0VmFsdWU6MCxtaW46MCxtYXg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfSx7bmFtZToiZW5kIixkZWZhdWx0VmFsdWU6MCxtaW46MCxtYXg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfSx7bmFtZToiZnJlcXVlbmN5IixkZWZhdWx0VmFsdWU6NDQwLG1pbjpOdW1iZXIuRVBTSUxPTn0se25hbWU6ImRldHVuZSIsZGVmYXVsdFZhbHVlOjB9LHtuYW1lOiJmcmVxc3ByZWFkIixkZWZhdWx0VmFsdWU6LjE4LG1pbjowfSx7bmFtZToicG9zaXRpb24iLGRlZmF1bHRWYWx1ZTowLG1pbjowLG1heDoxfSx7bmFtZToid2FycCIsZGVmYXVsdFZhbHVlOjAsbWluOjAsbWF4OjF9LHtuYW1lOiJ3YXJwTW9kZSIsZGVmYXVsdFZhbHVlOjB9LHtuYW1lOiJ2b2ljZXMiLGRlZmF1bHRWYWx1ZToxLG1pbjoxfSx7bmFtZToicGFuc3ByZWFkIixkZWZhdWx0VmFsdWU6LjcsbWluOjAsbWF4OjF9LHtuYW1lOiJwaGFzZXJhbmQiLGRlZmF1bHRWYWx1ZTowLG1pbjowLG1heDoxfV19Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5mcmFtZUxlbj0wLHRoaXMubnVtRnJhbWVzPTAsdGhpcy5waGFzZT1bXSx0aGlzLmludlNSPTEvc2FtcGxlUmF0ZSx0aGlzLnBvcnQub25tZXNzYWdlPWU9Pntjb25zdHt0eXBlOnMscGF5bG9hZDpyfT1lLmRhdGF8fHt9O2lmKHM9PT0idGFibGUiKXtjb25zdCBpPXIua2V5O2lmKHRoaXMuZnJhbWVMZW49ci5mcmFtZUxlbiwhdnRbaV0pe2NvbnN0IG89W3IuZnJhbWVzXTtsZXQgYT1vWzBdO2ZvcihsZXQgdT0xO3U8MTt1Kyspe2NvbnN0IGM9YS5sZW5ndGg+PjEsaD1hLm1hcChmPT57Y29uc3QgcD1uZXcgRmxvYXQzMkFycmF5KGMpO2ZvcihsZXQgbD0wO2w8YztsKyspcFtsXT0oZlsyKmxdK2ZbMipsKzFdKS8yO3JldHVybiBwfSk7aWYoby5wdXNoKGgpLGE9aCxjPD0zMilicmVha312dFtpXT1vfXRoaXMudGFibGVzPXZ0W2ldLHRoaXMubnVtRnJhbWVzPXRoaXMudGFibGVzWzBdLmxlbmd0aH19fV9taXJyb3IodCl7cmV0dXJuIDEtTWF0aC5hYnMoMip0LTEpfV90b0JpdHModCxlPTIscz0xMil7Y29uc3Qgcj1zKyhlLXMpKnQ7cmV0dXJue2I6cixuOk1hdGgucm91bmQoTWF0aC5wb3coMixyKSl9fV93YXJwUGhhc2UodCxlLHMpe3N3aXRjaChzKXtjYXNlIGcuTk9ORTpyZXR1cm4gdDtjYXNlIGcuQVNZTTp7Y29uc3Qgcj0uMDErLjk5KmU7cmV0dXJuIHQ8cj8uNSp0L3I6LjUrLjUqKHQtcikvKDEtcil9Y2FzZSBnLk1JUlJPUjpyZXR1cm4gdGhpcy5fbWlycm9yKHRoaXMuX3dhcnBQaGFzZSh0LGUsZy5BU1lNKSk7Y2FzZSBnLkJFTkRQOnJldHVybiBNYXRoLnBvdyh0LDErMyplKTtjYXNlIGcuQkVORE06cmV0dXJuIE1hdGgucG93KHQsMS8oMSszKmUpKTtjYXNlIGcuQkVORE1QOnJldHVybiBlPC41P3RoaXMuX3dhcnBQaGFzZSh0LDEtMiplLDMpOnRoaXMuX3dhcnBQaGFzZSh0LDIqZS0xLDIpO2Nhc2UgZy5TWU5DOntjb25zdCByPU1hdGgucG93KDE2LGUqZSk7cmV0dXJuIHQqciUxfWNhc2UgZy5RVUFOVDp7Y29uc3R7bjpyfT10aGlzLl90b0JpdHMoZSk7cmV0dXJuIGZ0KHQqcikvcn1jYXNlIGcuRk9MRDp7Y29uc3QgaT0xK01hdGgubWF4KDEsTWF0aC5yb3VuZCg3KmUpKTtyZXR1cm4gTWF0aC5hYnMoVyhpKnQpLS41KSoyfWNhc2UgZy5QV006e2NvbnN0IHI9TSguNSsuNDkqKDIqZS0xKSwwLDEpO3JldHVybiB0PHI/dC9yKi41Oi41Kyh0LXIpLygxLXIpKi41fWNhc2UgZy5PUkJJVDp7Y29uc3Qgcj0uNSplO3JldHVybiBXKHQrcipNYXRoLnNpbigyKk1hdGguUEkqMyp0KSl9Y2FzZSBnLlNQSU46e2NvbnN0IHI9LjUqZSx7bjppfT10aGlzLl90b0JpdHMoZSwxLDYpO3JldHVybiBXKHQrcipNYXRoLnNpbigyKk1hdGguUEkqaSp0KSl9Y2FzZSBnLkNIQU9TOntjb25zdCBpPSgzLjcrLjMqZSkqdCooMS10KTtyZXR1cm4gTSgoMS1lKSp0K2UqaSwwLDEpfWNhc2UgZy5QUklNRVM6e2NvbnN0IHI9bz0+e2lmKG88MilyZXR1cm4hMTtpZihvJTI9PT0wKXJldHVybiBvPT09Mjtmb3IobGV0IGE9MzthKmE8PW87YSs9MilpZihvJWE9PT0wKXJldHVybiExO3JldHVybiEwfTtsZXR7bjppfT10aGlzLl90b0JpdHMoZSwzKTtmb3IoOyFyKGkpOylpKys7cmV0dXJuIGZ0KHQqaSkvaX1jYXNlIGcuQklOQVJZOntsZXR7YjpyfT10aGlzLl90b0JpdHMoZSwzKTtyPU1hdGgucm91bmQocik7Y29uc3QgaT0xPDxyLG89ZnQodCppKTtyZXR1cm4gbGUobyxyKS9pfWNhc2UgZy5NT0RVTEFSOntjb25zdHtuOnJ9PXRoaXMuX3RvQml0cyhlKSxpPS41KmUsbz1XKHQqcikvcjtyZXR1cm4gVyh0K2kqbyl9Y2FzZSBnLkJST1dOSUFOOntjb25zdCByPS4yNSplKnBlKDY0KnQsNCk7cmV0dXJuIFcodCtyKX1jYXNlIGcuUkVDSVBST0NBTDp7Y29uc3Qgcj0yKzQqZSxpPXQqcixvPXQrKDEtdCkqcixhPW8+MWUtMTI/aS9vOjA7cmV0dXJuIE0oYSwwLDEpfWNhc2UgZy5XT1JNSE9MRTp7Y29uc3Qgcj1NKC44KmUsMCwxKSxpPS41KigxLXIpLG89LjUqKDErcik7cmV0dXJuIHQ8aT90L2kqLjU6dD5vPy41KigxKyh0LW8pLygxLW8pKTouNX1jYXNlIGcuTE9HSVNUSUM6e2xldCByPXQ7Y29uc3QgaT0zLjYrLjQqZSxvPTErTWF0aC5yb3VuZCgyKmUpO2ZvcihsZXQgYT0wO2E8bzthKyspcj1pKnIqKDEtcik7cmV0dXJuIE0ociwwLDEpfWNhc2UgZy5TSUdNT0lEOntjb25zdCByPTErMTAqZSxpPXQtLjUsbz0xLygxK01hdGguZXhwKC1yKmkpKSxhPTEvKDErTWF0aC5leHAoLjUqcikpLHU9MS8oMStNYXRoLmV4cCgtLjUqcikpO3JldHVybihvLWEpLyh1LWEpfWNhc2UgZy5GUkFDVEFMOntjb25zdCByPS41Kk1hdGguc2luKDIqTWF0aC5QSSp0KSplO3JldHVybiBXKHQrcil9Y2FzZSBnLkZMSVA6cmV0dXJuIHQ7ZGVmYXVsdDpyZXR1cm4gdH19X3NhbXBsZUZyYW1lKHQsZSl7Y29uc3Qgcz10Lmxlbmd0aCxyPWUqcztsZXQgaT1yfDA7aT49cyYmKGk9MCk7Y29uc3Qgbz1yLWksYT10W2ldO2xldCB1PWkrMTt1Pj1zJiYodT0wKTtjb25zdCBjPXRbdV07cmV0dXJuIGErKGMtYSkqb31fY2hvb3NlTWlwKHQpe3ZhciByO2NvbnN0IGU9TSh0LDFlLTYsNjQpO2xldCBzPTA7Zm9yKDtzKzE8KCgocj10aGlzLnRhYmxlcyk9PW51bGw/dm9pZCAwOnIubGVuZ3RoKXx8MSkmJmU8dGhpcy50YWJsZXNbc11bMF0ubGVuZ3RoLzg7KXMrKztyZXR1cm4gc31wcm9jZXNzKHQsZSxzKXtpZihjdXJyZW50VGltZT49cy5lbmRbMF0pcmV0dXJuITE7aWYoY3VycmVudFRpbWU8PXMuYmVnaW5bMF0pcmV0dXJuITA7Y29uc3Qgcj1lWzBdWzBdLGk9ZVswXVsxXXx8ZVswXVswXTtpZighdGhpcy50YWJsZXMpcmV0dXJuIHIuZmlsbCgwKSxpIT09ciYmaS5zZXQociksITA7Zm9yKGxldCBvPTA7bzxyLmxlbmd0aDtvKyspe2NvbnN0IGE9UyhzLmRldHVuZSxvKSx1PVMocy5mcmVxc3ByZWFkLG8pLGg9TShTKHMucG9zaXRpb24sbyksMCwxKSoodGhpcy5udW1GcmFtZXMtMSksZj1ofDAscD1oLWYsbD1NKFMocy53YXJwLG8pLDAsMSksbT1TKHMud2FycE1vZGUsbyksZD1TKHMudm9pY2VzLG8pLGI9TShTKHMucGhhc2VyYW5kLG8pLDAsMSksST1kPjE/TShTKHMucGFuc3ByZWFkLG8pLDAsMSk6MCx2PU1hdGguc3FydCguNS0uNSpJKSxQPU1hdGguc3FydCguNSsuNSpJKTtsZXQgdz1TKHMuZnJlcXVlbmN5LG8pO3c9SCh3LGEvMTAwKTtjb25zdCBUPTEvTWF0aC5zcXJ0KGQpO2ZvcihsZXQgQj0wO0I8ZDtCKyspe2NvbnN0IEE9KEImMSk9PTE7bGV0IHk9dixPPVA7QSYmKHk9UCxPPXYpO2NvbnN0IHg9SCh3LE50KGQsdSxCKSkqdGhpcy5pbnZTUixFPXRoaXMuX2Nob29zZU1pcCh4KSxOPXRoaXMudGFibGVzW0VdO3RoaXMucGhhc2VbQl09dGhpcy5waGFzZVtCXT8/TWF0aC5yYW5kb20oKSpiO2NvbnN0IEY9dGhpcy5fd2FycFBoYXNlKHRoaXMucGhhc2VbQl0sbCxtKSxWPXRoaXMuX3NhbXBsZUZyYW1lKE5bZl0sRiksaz10aGlzLl9zYW1wbGVGcmFtZShOW01hdGgubWluKHRoaXMubnVtRnJhbWVzLTEsZisxKV0sRik7bGV0IFI9Visoay1WKSpwO209PT1nLkZMSVAmJnRoaXMucGhhc2VbQl08bCYmKFI9LVIpLHJbb10rPVIqeSpULGlbb10rPVIqTypULHRoaXMucGhhc2VbQl09RnQodGhpcy5waGFzZVtCXSt4KX19cmV0dXJuITB9fXJldHVybiByZWdpc3RlclByb2Nlc3Nvcigid2F2ZXRhYmxlLW9zY2lsbGF0b3ItcHJvY2Vzc29yIixkZSksQy5XYXJwTW9kZT1nLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6Ik1vZHVsZSJ9KSxDfSh7fSk7Cg==";let _o;const Ib=()=>(_o=new AudioContext,_o),Lt=()=>_o||Ib();function kX(){return Lt().currentTime}let Mo={};function Kb(t,e){const n=Lt();if(Mo[t])return Mo[t];const s=2*n.sampleRate,r=n.createBuffer(1,s,n.sampleRate),i=r.getChannelData(0);let a=0,o,u,c,l,d,m,f;o=u=c=l=d=m=f=0;for(let g=0;g<s;g++)if(t==="white")i[g]=Math.random()*2-1;else if(t==="brown"){let y=Math.random()*2-1;i[g]=(a+.02*y)/1.02,a=i[g]}else if(t==="pink"){let y=Math.random()*2-1;o=.99886*o+y*.0555179,u=.99332*u+y*.0750759,c=.969*c+y*.153852,l=.8665*l+y*.3104856,d=.55*d+y*.5329522,m=-.7616*m-y*.016898,i[g]=o+u+c+l+d+m+f+y*.5362,i[g]*=.11,f=y*.115926}else if(t==="crackle"){const y=e*.01;Math.random()<y?i[g]=Math.random()*2-1:i[g]=0}return t!=="crackle"&&(Mo[t]=r),r}function Uo(t="white",e,n=.02){const s=Lt().createBufferSource();return s.buffer=Kb(t,n),s.loop=!0,s.start(e),{node:s,stop:r=>s.stop(r)}}function EX(t,e,n){const s=Uo("pink",n);return{node:Hb(t,s.node,e),stop:r=>s==null?void 0:s.stop(r)}}const Gu=["pink","white","brown","crackle"];function Ye(t){const e=Lt().createGain();return e.gain.value=t,e}function Ji(t,e,n){const s=Ye(n);return t.connect(s),s.connect(e),s}const Qf=(t,e,n,s)=>s-n===0?0:(e-t)/(s-n);function je(t,e,n,s){const r=new AudioWorkletNode(t,e,s);return Object.entries(n).forEach(([i,a])=>{a!==void 0&&(r.parameters.get(i).value=a)}),r}const un=(t,e,n,s,r,i,a,o,u,c="exponential")=>{e=Un(e),n=Un(n),s=Un(s),r=Un(r);const l=c==="exponential"?"exponentialRampToValueAtTime":"linearRampToValueAtTime";c==="exponential"&&(i=i===0?.001:i,a=a===0?.001:a);const d=a-i,m=a,f=i+s*d,g=u-o,y=P=>{let Z;if(e>P){let S=Qf(i,m,0,e);Z=P*S+(i>m?i:0)}else Z=(P-e)*Qf(m,f,0,n)+m;return c==="exponential"&&(Z=Z||.001),Z};t.setValueAtTime(i,o),e>g?t[l](y(g),u):e+n>g?(t[l](y(e),o+e),t[l](y(g),u)):(t[l](y(e),o+e),t[l](y(e+n),o+e+n),t.setValueAtTime(f,u)),t[l](i,u+r)};function WX(t){return typeof t=="number"?t%5:{tri:0,triangle:0,sine:1,ramp:2,saw:3,square:4}[t]??0}function li(t,e,n,s={}){const{shape:r=0,...i}=s,{dcoffset:a=-.5,depth:o=1}=s,u={frequency:1,depth:o,skew:.5,phaseoffset:0,time:e,begin:e,end:n,shape:WX(r),dcoffset:a,min:a*o,max:a*o+o,curve:1,...i};return je(t,"lfo-processor",u)}function Yb(t,e,n,s,r,i){const a={threshold:e??-3,ratio:n??10,knee:s??10,attack:r??.005,release:i??.05};return new DynamicsCompressorNode(t,a)}const cn=(t,e="linear",n)=>{const[s,r,i,a]=t;if(s==null&&r==null&&i==null&&a==null)return n??[.001,.001,1,.01];const o=i??(s!=null&&r==null||s==null&&r==null?1:.001);return[Math.max(s??0,.001),Math.max(r??0,.001),Math.min(o,1),Math.max(a??0,.01)]};function Oo(t,e,n,s,r,i){let{amount:a,offset:o,defaultAmount:u=1,curve:c="linear",values:l,holdEnd:d,defaultValues:m}=r;a==null&&(a=l.some(v=>v!=null)?u:0);const f=o??0,g=a+f;if(Math.abs(g-f)){const[v,X,L,V]=cn(l,c,m);un(e,v,X,L,V,f,g,n,d,c)}let y,{defaultDepth:P=1,depth:Z,dcoffset:S,...k}=i;return Z==null&&(Z=Object.values(k).some(v=>v!=null)?P:0),Z&&(y=li(t,n,s,{depth:Z,dcoffset:S,...k}),y.connect(e)),{lfo:y,disconnect:()=>y==null?void 0:y.disconnect()}}function Ti(t,e,n,s,r,i,a,o,u,c,l,d,m,f){const g="exponential",[y,P,Z,S]=cn([r,i,a,o],g,[.005,.14,0,.1]);let k,v;if(m==="ladder"?(k=je(t,"ladder-processor",{frequency:n,q:s,drive:f}),v=k.parameters.get("frequency")):(k=t.createBiquadFilter(),k.type=e,k.Q.value=s,k.frequency.value=n,v=k.frequency),(r??i??a??o??u)!==void 0){u=Un(u,1,!0),d=Un(d,0,!0);const X=Math.abs(u),L=X*d;let V=ms(2**-L*n,0,2e4),E=ms(2**(X-L)*n,0,2e4);return u<0&&([V,E]=[E,V]),un(v,y,P,Z,S,V,E,c,l,g),k}return k}let qf=t=>t<.5?1:1-(t-.5)/.5;function Hb(t,e,n=0){const s=Lt();if(!n)return t;let r=s.createGain(),i=s.createGain();t.connect(r),e.connect(i),r.gain.value=qf(n),i.gain.value=qf(1-n);let a=s.createGain();return r.connect(a),i.connect(a),a}let zX=["linear","exponential"];function fr(t,e,n,s){if((e.pattack??e.pdecay??e.psustain??e.prelease??e.penv)===void 0)return;const r=Un(e.penv,1,!0),i=zX[e.pcurve??0];let[a,o,u,c]=cn([e.pattack,e.pdecay,e.psustain,e.prelease],i,[.2,.001,1,.001]),l=e.panchor??u;const d=r*100,m=0-d*l,f=d-d*l;un(t,a,o,u,c,m,f,n,s,i)}function yr(t,e,n){const{vibmod:s=.5,vib:r}=e;let i;if(r>0){i=Lt().createOscillator(),i.frequency.value=r;const a=Lt().createGain();return a.gain.value=s*100,i.connect(a),a.connect(t),i.start(n),i}}function or(t,e,n,s){const r=new ConstantSourceNode(t),i=Ye(0);return i.connect(t.destination),r.connect(i),r.onended=()=>{try{i.disconnect()}catch{}try{r.disconnect()}catch{}e()},r.start(n),r.stop(s),r}const RX=(t,e=1,n="sine")=>{const s=Lt();let r;Gu.includes(n)?(r=s.createBufferSource(),r.buffer=Kb(n,2),r.loop=!0):(r=s.createOscillator(),r.type=n,r.frequency.value=t),r.start();const i=new GainNode(s,{gain:e});return r.connect(i),{node:i,stop:a=>r.stop(a)}},BX=(t,e,n,s="sine")=>{const r=t.value*e,i=r*n;return RX(r,i,s)};function ti(t,e,n){const{fmh:s=1,fmi:r,fmenv:i="exp",fmattack:a,fmdecay:o,fmsustain:u,fmrelease:c,fmvelocity:l,fmwave:d="sine",duration:m}=e;let f,g=()=>{};if(r){const y=Lt().createGain(),P=BX(t,s,r,d);if(f=P.node,g=P.stop,![a,o,u,c,l].some(Z=>Z!==void 0))f.connect(t);else{const[Z,S,k,v]=cn([a,o,u,c]),X=n+m;un(y.gain,Z,S,k,v,0,1,n,X,i==="exp"?"exponential":"linear"),f.connect(y),y.connect(t)}}return{stop:g}}const jb=t=>t/(1+t),TX=(t,e)=>(t%e+e)%e,NX=(t,e)=>(1+e)*t/(1+e*Math.abs(t)),ur=(t,e)=>Math.tanh(t*(1+e)),IX=(t,e)=>ms((1+e)*t,-1,1),Jb=(t,e)=>{let n=(1+.5*e)*t;const s=TX(n+1,4);return 1-Math.abs(s-2)},KX=(t,e)=>Math.sin(Math.PI/2*Jb(t,e)),YX=(t,e)=>{const n=jb(Math.log1p(e)),s=(t-n/3*t*t*t)/(1-n/3);return ur(s,e)},_b=(t,e,n=!1)=>{const s=1+2*e,r=.07*jb(Math.log1p(e)),i=ur(t+r,2*e),a=ur(n?r:-t+r,2*e),o=i-a,u=1/Math.cosh(s*r),c=u*u,l=Math.max(1e-8,(n?1:2)*s*c);return ur(o/l,e)},HX=(t,e)=>_b(t,e,!0),jX=(t,e)=>{const n=10*Math.log1p(e);let s=1,r=t,i,a=0;for(let o=1;o<64;o++){if(o<2){a+=o==0?s:r;continue}i=2*t*s-r,r=s,s=i,o%2===0&&(a+=Math.min(1.3*n/o,2)*i)}return ur(a,n/20)},Xu={scurve:NX,soft:ur,hard:IX,cubic:YX,diode:_b,asym:HX,fold:Jb,sinefold:KX,chebyshev:jX},Rr=Object.freeze(Object.keys(Xu)),JX=t=>{let e=t;typeof t=="string"&&(e=Rr.indexOf(t),e===-1&&(le(`[superdough] Could not find waveshaping algorithm ${t}.
        Available options are ${Rr.join(", ")}.
        Defaulting to ${Rr[0]}.`),e=0));const n=Rr[e%Rr.length];return Xu[n]},Ub=(t,e,n)=>je(Lt(),"distort-processor",{distort:t,postgain:e},{processorOptions:{algorithm:n}}),ws=(t,e=36)=>{let{note:n,freq:s}=t;return n=n||e,typeof n=="string"&&(n=ua(n)),!s&&typeof n=="number"&&(s=Bb(n)),Number(s)},ir=t=>{var e;t!=null&&(t.disconnect(),(e=t.parameters.get("end"))==null||e.setValueAtTime(0,0))},Zu={},Co={},_X=t=>Zu[t];function UX(t,e){var n=1024;if(t<n)return t+" B";var s=["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],r=-1;do t/=n,++r;while(t>=n);return t.toFixed(1)+" "+s[r]}function Ob(t,e){const{speed:n=1}=t,{transpose:s,url:r,index:i,midi:a,label:o}=Nb(t,e);let u=Math.abs(n)*Math.pow(2,s/12);return{transpose:s,url:r,index:i,midi:a,label:o,playbackRate:u}}const Qb=async(t,e,n)=>{let{url:s,label:r,playbackRate:i}=Ob(t,e);n&&(s=await n(s));const a=Lt(),o=await vu(s,a,r);return t.unit==="c"&&(i=i*o.duration),{buffer:o,playbackRate:i}},qb=async(t,e,n)=>{let{buffer:s,playbackRate:r}=await Qb(t,e,n);t.speed<0&&(s=$b(s));const i=Lt().createBufferSource();i.buffer=s,i.playbackRate.value=r;const{loopBegin:a=0,loopEnd:o=1,begin:u=0,end:c=1}=t,l=u*i.buffer.duration;t.loop&&(i.loop=!0,i.loopStart=a*i.buffer.duration-l,i.loopEnd=o*i.buffer.duration-l);const d=i.buffer.duration/i.playbackRate.value,m=(c-u)*d;return{bufferSource:i,offset:l,bufferDuration:d,sliceDuration:m}},vu=(t,e,n,s=0)=>{const r=n?`sound "${n}:${s}"`:"sample";if(t=t.replace("#","%23"),!Co[t]){le(`[sampler] load ${r}..`,"load-sample",{url:t});const i=Date.now();Co[t]=fetch(t).then(a=>a.arrayBuffer()).then(async a=>{const o=Date.now()-i,u=UX(a.byteLength);le(`[sampler] load ${r}... done! loaded ${u} in ${o}ms`,"loaded-sample",{url:t});const c=await e.decodeAudioData(a);return Zu[t]=c,c})}return Co[t]};function $b(t){const e=Lt(),n=e.createBuffer(t.numberOfChannels,t.length,e.sampleRate);for(let s=0;s<t.numberOfChannels;s++)n.copyToChannel(t.getChannelData(s).slice().reverse(),s,s);return n}const OX=t=>Zu[t];function tg(t){if(t.startsWith("bubo:")){const[e,n]=t.split(":");t=`github:Bubobubobubobubo/dough-${n}`}return t}function eg(t,e=""){if(!t.startsWith("github:"))throw new Error('expected "github:" at the start of pseudoUrl');let n=t.slice(7);n=n.endsWith("/")?n.slice(0,-1):n;let s=n.split("/"),r=s[0],i=s.length>=2?s[1]:"samples",a=s.length>=3?s[2]:"main",o=s.slice(3);return o.push(e||""),o=o.join("/"),`https://raw.githubusercontent.com/${r}/${i}/${a}/${o}`}const ng=(t,e,n=t._base||"")=>Object.entries(t).forEach(([s,r])=>{if(typeof r=="string"&&(r=[r]),typeof r!="object")throw new Error("wrong sample map format for "+s);n=r._base||n,n=tg(n),n.startsWith("github:")&&(n=eg(n,""));const i=a=>n+a;Array.isArray(r)?r=r.map(i):r=Object.fromEntries(Object.entries(r).map(([a,o])=>[a,(typeof o=="string"?[o]:o).map(i)])),e(s,r)});let sg={};function QX(t,e){sg[t]=e}function qX(t){const e=Object.entries(sg).find(([n])=>t.startsWith(n));if(e)return e[1]}async function $X(t){const e=qX(t);if(e)return e(t);if(t=tg(t),t.startsWith("github:")&&(t=eg(t,"strudel.json")),t.startsWith("local:")&&(t="http://localhost:5432"),t.startsWith("shabda:")){let[r,i]=t.split("shabda:");t=`https://shabda.ndre.gr/${i}.json?strudel=1`}if(t.startsWith("shabda/speech")){let[r,i]=t.split("shabda/speech");i=i.startsWith("/")?i.substring(1):i;let[a,o]=i.split(":"),u="f",c="en-GB";a&&([c,u]=a.split("/")),t=`https://shabda.ndre.gr/speech/${o}.json?gender=${u}&language=${c}&strudel=1'`}if(typeof fetch!="function")return;const n=t.split("/").slice(0,-1).join("/");if(typeof fetch>"u")return;const s=await fetch(t).then(r=>r.json()).catch(r=>{throw console.error(r),new Error(`error loading "${t}"`)});return[s,s._base||n]}const rg=async(t,e=t._base||"",n={})=>{if(typeof t=="string"){const[i,a]=await $X(t);return rg(i,e||a,n)}const{prebake:s,tag:r}=n;ng(t,(i,a)=>{ag(i,a,{baseUrl:e,prebake:s,tag:r})},e)},$f=[];async function ig(t,e,n,s,r){let{s:i,nudge:a=0,cut:o,loop:u,clip:c=void 0,n:l=0,speed:d=1,duration:m}=e;if(d===0)return;const f=Lt();let[g,y,P,Z]=cn([e.attack,e.decay,e.sustain,e.release]);const{bufferSource:S,sliceDuration:k,offset:v}=await qb(e,s,r);if(f.currentTime>t){le(`[sampler] still loading sound "${i}:${l}"`,"highlight");return}if(!S){le(`[sampler] could not load "${i}:${l}"`,"error");return}let X=yr(S.detune,e,t);const L=t+a;S.start(L,v);const V=f.createGain(),E=S.connect(V);c==null&&u==null&&e.release==null&&(m=k);let I=t+m;un(E.gain,g,y,P,Z,0,1,t,I,"linear"),fr(S.detune,e,t,I);const R=f.createGain();E.connect(R),S.onended=function(){S.disconnect(),X==null||X.stop(),E.disconnect(),R.disconnect(),n()};let J=I+Z+.01;S.stop(J);const W={node:R,bufferSource:S,stop:Y=>{S.stop(Y)}};if(o!==void 0){const Y=$f[o];Y&&(Y.node.gain.setValueAtTime(1,L),Y.node.gain.linearRampToValueAtTime(0,L+.01)),$f[o]=W}return W}function tZ(t,e,n){Vn(t,(s,r,i)=>ig(s,r,i,e),{type:"sample",samples:e,...n})}function ag(t,e,n){t.startsWith("wt_")?Su(t,e,n):tZ(t,e,n)}let nr=(t,e)=>t!==void 0&&t!==e;class eZ{constructor(e){Ht(this,"reverbNode");Ht(this,"delayNode");Ht(this,"output");Ht(this,"summingNode");Ht(this,"djfNode");Ht(this,"audioContext");this.audioContext=e,this.output=new GainNode(e,{gain:1,channelCount:2,channelCountMode:"explicit"}),this.summingNode=new GainNode(e,{gain:1,channelCount:2,channelCountMode:"explicit"}),this.summingNode.connect(this.output)}disconnect(){var e,n;this.output.disconnect(),this.summingNode.disconnect(),(e=this.delayNode)==null||e.disconnect(),(n=this.reverbNode)==null||n.disconnect()}getDjf(e,n=0){this.djfNode==null&&(this.djfNode=je(this.audioContext,"djf-processor",{value:e}),this.summingNode.disconnect(),this.summingNode.connect(this.djfNode),this.djfNode.connect(this.output)),this.djfNode.parameters.get("value").setValueAtTime(e,n)}getDelay(e=0,n=.5,s){var r,i;return n=ms(n,0,.98),this.delayNode==null&&(this.delayNode=this.audioContext.createFeedbackDelay(1,e,n),this.delayNode.connect(this.summingNode),(i=(r=this.delayNode).start)==null||i.call(r,s)),this.delayNode.delayTime.value!==e&&this.delayNode.delayTime.setValueAtTime(e,s),this.delayNode.feedback.value!==n&&this.delayNode.feedback.setValueAtTime(n,s),this.delayNode}getReverb(e,n,s,r,i,a,o){return this.reverbNode==null&&(this.reverbNode=this.audioContext.createReverb(e,n,s,r,i,a,o),this.reverbNode.connect(this.summingNode)),(nr(e,this.reverbNode.duration)||nr(n,this.reverbNode.fade)||nr(s,this.reverbNode.lp)||nr(r,this.reverbNode.dim)||nr(a,this.reverbNode.irspeed)||nr(o,this.reverbNode.irbegin)||this.reverbNode.ir!==i)&&this.reverbNode.generate(e,n,s,r,i,a,o),this.reverbNode}sendReverb(e,n){Ji(e,this.reverbNode,n)}sendDelay(e,n){Ji(e,this.delayNode,n)}duck(e,n=0,s=.1,r=1){const i=n,a=Math.max(s,.002),o=this.output.gain;or(this.audioContext,()=>{const u=this.audioContext.currentTime,c=o.value;o.cancelScheduledValues(u),o.setValueAtTime(c,u);const l=Math.max(e,u),d=ms(1-Math.sqrt(r),.01,c);o.exponentialRampToValueAtTime(d,l+i),o.exponentialRampToValueAtTime(1,l+i+a)},0,e-.01)}connectToOutput(e){e.connect(this.summingNode)}}let nZ=class{constructor(e){Ht(this,"channelMerger");Ht(this,"destinationGain");Ht(this,"connectToDestination",(e,n=[0,1])=>{const s=new StereoPannerNode(this.audioContext);e.connect(s);const r=new ChannelSplitterNode(this.audioContext,{numberOfOutputs:s.channelCount});s.connect(r),n.forEach((i,a)=>{r.connect(this.channelMerger,a%s.channelCount,i%this.audioContext.destination.channelCount)})});this.audioContext=e,this.initializeAudio()}initializeAudio(){const e=this.audioContext,n=e.destination.maxChannelCount;this.audioContext.destination.channelCount=n,this.channelMerger=new ChannelMergerNode(e,{numberOfInputs:e.destination.channelCount}),this.destinationGain=new GainNode(e),this.channelMerger.connect(this.destinationGain),this.destinationGain.connect(e.destination)}reset(){this.disconnect(),this.initializeAudio()}disconnect(){this.channelMerger.disconnect(),this.destinationGain.disconnect(),this.destinationGain=null,this.channelMerger=null}};class sZ{constructor(e){Ht(this,"audioContext");Ht(this,"output");Ht(this,"nodes",{});this.audioContext=e,this.output=new nZ(e)}reset(){Array.from(this.nodes).forEach(e=>{e.disconnect()}),this.nodes={},this.output.reset()}duck(e,n,s=0,r=.1,i=1){const a=[e].flat(),o=[s].flat(),u=[r].flat(),c=[i].flat();a.forEach((l,d)=>{const m=this.nodes[l];if(m==null){zb(new Error(`duck target orbit ${l} does not exist`),"superdough");return}const f=o[d]??o[0],g=Math.max(u[d]??u[0],.002),y=c[d]??c[0];m.duck(n,f,g,y)})}getOrbit(e,n){return this.nodes[e]==null&&(this.nodes[e]=new eZ(this.audioContext),this.output.connectToDestination(this.nodes[e].output,n)),this.nodes[e]}}const wu=128,Qo="System Standard";let og=wu;function ug(t){og=parseInt(t)??wu}let cg=!1;function lg(t){cg=t==!0}const Zn=GX();function Vn(t,e,n={}){t=t.toLowerCase().replace(/\s+/g,"_"),Zn.setKey(t,{onTrigger:e,data:n})}let hg=t=>t;function _n(t){return hg(t)}function rZ(t){hg=t}function qo(t){for(const n in t)t[n.toLowerCase()]=t[n];const e=Zn.get();for(const n in e){const[s,r]=n.split("_");if(!r)continue;const i=t[s];if(i){if(typeof i=="string")e[`${i}_${r}`.toLowerCase()]=e[n];else if(Array.isArray(i))for(const a of i)e[`${a}_${r}`.toLowerCase()]=e[n]}}Zn.set({...e})}async function iZ(t){const e=await(await fetch(t)).json();qo(e)}async function aZ(...t){switch(t.length){case 1:return typeof t[0]=="string"?iZ(t[0]):qo(t[0]);case 2:return qo({[t[0]]:t[1]});default:throw new Error("aliasMap expects 1 or 2 arguments, received "+t.length)}}function oZ(t,e){if(cr(t)==null){le("soundAlias: original sound not found");return}Zn.setKey(e,cr(t))}function cr(t){return typeof t!="string"?(console.warn(`getSound: expected string got "${t}". fall back to triangle`),Zn.get().triangle):Zn.get()[t.toLowerCase()]}const pg=async()=>{await navigator.mediaDevices.getUserMedia({audio:!0});let t=await navigator.mediaDevices.enumerateDevices();t=t.filter(n=>n.kind==="audiooutput"&&n.deviceId!=="default");const e=new Map;return e.set(Qo,""),t.forEach(n=>{e.set(n.label,n.deviceId)}),e};let hi={s:"triangle",gain:.8,postgain:1,density:".03",ftype:"12db",fanchor:0,resonance:1,hresonance:1,bandq:1,channels:[1,2],phaserdepth:.75,shapevol:1,distortvol:1,distorttype:0,delay:0,byteBeatExpression:"0",delayfeedback:.5,delaysync:3/16,orbit:1,i:1,velocity:1,fft:8};const uZ=Object.freeze({...hi});function cZ(t,e){hi[t]=e}function lZ(){hi={...uZ}}let Fu=new Map(Object.entries(hi));function Du(t,e){Fu.set(t,e)}function ie(t){return Fu.get(t)}function hZ(t){Object.keys(t).forEach(e=>{Du(e,t[e])})}function dg(){Fu=new Map(Object.entries(hi))}function pZ(t){dg(),t==="1.0"&&Du("fanchor",.5)}const dZ=()=>Zn.set({});let mg=[];function fg(t){mg.push(t)}let xo;function mZ(){if(!xo){const t=Lt(),e=mg.concat([LX]);xo=Promise.all(e.map(n=>t.audioWorklet.addModule(n)))}return xo}async function yg(t={}){const{disableWorklets:e=!1,maxPolyphony:n,audioDeviceName:s=Qo,multiChannelOrbits:r=!1}=t;if(ug(n),lg(r),typeof window>"u")return;const i=Lt();if(s!=null&&s!=Qo)try{const a=(await pg()).get(s),o=(a??"").length>0;i.sinkId!==a&&o&&await i.setSinkId(a),le(`[superdough] Audio Device set to ${s}, it might take a few seconds before audio plays on all output channels`)}catch{le("[superdough] failed to set audio interface","warning")}if(await i.resume(),e){le("[superdough]: AudioWorklets disabled with disableWorklets");return}try{await mZ(),le("[superdough] AudioWorklets loaded")}catch(a){console.warn("could not load AudioWorklet effects",a)}le("[superdough] ready")}let Po;async function fZ(t){return Po||(Po=new Promise(e=>{document.addEventListener("click",async function n(){document.removeEventListener("click",n),await yg(t),e()})})),Po}let lr;function bg(){return lr==null&&(lr=new sZ(Lt())),lr}function gg(t,e){bg().output.connectToDestination(t,e)}function yZ(t,e,n=1,s=.5,r=1e3,i=2e3){const a=Lt(),o=li(a,t,e,{frequency:n,depth:i*2}),u=2;let c=0;const l=[];for(let d=0;d<u;d++){const m=a.createBiquadFilter();m.type="notch",m.gain.value=1,m.frequency.value=r+c,m.Q.value=2-Math.min(Math.max(s*2,0),1.9),o.connect(m.detune),c+=282,d>0&&l[d-1].connect(m),l.push(m)}return l[l.length-1]}function bZ(t){t=t??0;const e=["12db","ladder","24db"];return typeof t=="number"?e[Math.floor(Tb(t,e.length))]:t}let Le={},As={};function Mg(t,e=1024,n=.5){if(!Le[t]){const s=Lt().createAnalyser();s.fftSize=e,s.smoothingTimeConstant=n,Le[t]=s,As[t]=new Float32Array(Le[t].frequencyBinCount)}return Le[t].fftSize!==e&&(Le[t].fftSize=e,As[t]=new Float32Array(Le[t].frequencyBinCount)),Le[t]}function ca(t="time",e=1){const n={time:()=>{var s;return(s=Le[e])==null?void 0:s.getFloatTimeDomainData(As[e])},frequency:()=>{var s;return(s=Le[e])==null?void 0:s.getFloatFrequencyData(As[e])}}[t];if(!n)throw new Error(`getAnalyzerData: ${t} not supported. use one of ${Object.keys(n).join(", ")}`);return n(),As[e]}function gZ(){lr==null||lr.reset(),Le={},As={}}let Br=new Map;function ty(t){return(Array.isArray(t)?t:[t]).map(e=>e-1)}const Au=async(t,e,n,s=.5,r=.5)=>{var de,Gs,Xs;const i=Lt(),a=bg();let{stretch:o}=t;if(o!=null&&(e=e-.04),typeof t!="object")throw new Error(`expected hap.value to be an object, but got "${t}". Hint: append .note() or .s() to the end`,"error");if(t.duration=n,e<i.currentTime){console.warn(`[superdough]: cannot schedule sounds in the past (target: ${e.toFixed(2)}, now: ${i.currentTime.toFixed(2)})`);return}let{tremolo:u,tremolosync:c,tremolodepth:l=1,tremoloskew:d,tremolophase:m=0,tremoloshape:f,s:g=ie("s"),bank:y,source:P,gain:Z=ie("gain"),postgain:S=ie("postgain"),density:k=ie("density"),duckorbit:v,duckonset:X,duckattack:L,duckdepth:V,djf:E,fanchor:I=ie("fanchor"),drive:R=.69,release:J=0,cutoff:W,lpenv:Y,lpattack:tt,lpdecay:ct,lpsustain:Q,lprelease:nt,resonance:q=ie("resonance"),hpenv:xt,hcutoff:st,hpattack:dt,hpdecay:H,hpsustain:gt,hprelease:Kt,hresonance:Ut=ie("hresonance"),bpenv:vt,bandf:Bt,bpattack:ot,bpdecay:Ft,bpsustain:oe,bprelease:ae,bandq:Xt=ie("bandq"),phaserrate:ze,phaserdepth:Tt=ie("phaserdepth"),phasersweep:Je,phasercenter:Xe,coarse:re,crush:Ze,dry:be,shape:Ae,shapevol:ge=ie("shapevol"),distort:Se,distortvol:Ot=ie("distortvol"),distorttype:Re=ie("distorttype"),pan:Pt,vowel:Nt,delay:it=ie("delay"),delayfeedback:It=ie("delayfeedback"),delaysync:Wt=ie("delaysync"),delaytime:Be,orbit:_e=ie("orbit"),room:Me,roomfade:rs,roomlp:en,roomdim:_t,roomsize:is,ir:yn,irspeed:Yt,irbegin:ue,i:Ue=ie("i"),velocity:Te=ie("velocity"),analyze:An,fft:Ps=ie("fft"),compressor:In,compressorRatio:h,compressorKnee:M,compressorAttack:b,compressorRelease:C}=t;Be=Be??VX(Wt,s);const w=ty(cg&&_e>0?[_e*2-1,_e*2]:ie("channels")),z=t.channels!=null?ty(t.channels):w,T=a.getOrbit(_e,z);v!=null&&a.duck(v,e,X,L,V),Z=_n(Un(Z,1)),S=_n(S),ge=_n(ge),Ot=_n(Ot),it=_n(it),Te=_n(Te),l=_n(l),Z*=Te;const K=e+n,$=K+J,Mt=Math.round(Math.random()*1e6);for(let et=0;et<=Br.size-og;et++){const wt=Br.entries().next(),bt=wt.value[1],kr=wt.value[0],Zs=e+.25;(Gs=(de=bt==null?void 0:bt.node)==null?void 0:de.gain)==null||Gs.linearRampToValueAtTime(0,Zs),(Xs=bt==null?void 0:bt.stop)==null||Xs.call(bt,Zs),Br.delete(kr)}let Et=[];if(["-","~","_"].includes(g))return;y&&g&&(g=`${y}_${g}`,t.s=g);let ce;if(P)ce=P(e,t,n,s);else if(cr(g)){const{onTrigger:et}=cr(g),wt=await et(e,t,()=>{Et.forEach(bt=>bt==null?void 0:bt.disconnect()),Br.delete(Mt)},s);wt&&(ce=wt.node,Br.set(Mt,wt))}else throw new Error(`sound ${g} not found! Is it loaded?`);if(!ce)return;if(i.currentTime>e){le("[webaudio] skip hap: still loading",i.currentTime-e);return}const ht=[];ht.push(ce),o!==void 0&&ht.push(je(i,"phase-vocoder-processor",{pitchFactor:o})),ht.push(Ye(Z));const Ne=bZ(t.ftype);if(W!==void 0){let et=()=>Ti(i,"lowpass",W,q,tt,ct,Q,nt,Y,e,K,I,Ne,R);ht.push(et()),Ne==="24db"&&ht.push(et())}if(st!==void 0){let et=()=>Ti(i,"highpass",st,Ut,dt,H,gt,Kt,xt,e,K,I);ht.push(et()),Ne==="24db"&&ht.push(et())}if(Bt!==void 0){let et=()=>Ti(i,"bandpass",Bt,Xt,ot,Ft,oe,ae,vt,e,K,I);ht.push(et()),Ne==="24db"&&ht.push(et())}if(Nt!==void 0){const et=i.createVowelFilter(Nt);ht.push(et)}if(re!==void 0&&ht.push(je(i,"coarse-processor",{coarse:re})),Ze!==void 0&&ht.push(je(i,"crush-processor",{crush:Ze})),Ae!==void 0&&ht.push(je(i,"shape-processor",{shape:Ae,postgain:ge})),Se!==void 0&&ht.push(Ub(Se,Ot,Re)),c!=null&&(u=s*c),t.wtPosSynced!=null&&(t.wtPosRate/=s),t.wtWarpSynced!=null&&(t.wtWarpRate/=s),u!==void 0){const et=Math.max(1-l,0),wt=new GainNode(i,{gain:et}),bt=r/s;li(i,e,$,{skew:d??(f!=null?.5:1),frequency:u,depth:l,time:bt,dcoffset:0,shape:f,phaseoffset:m,min:0,max:1,curve:1.5}).connect(wt.gain),ht.push(wt)}if(In!==void 0&&ht.push(Yb(i,In,h,M,b,C)),Pt!==void 0){const et=i.createStereoPanner();et.pan.value=2*Pt-1,ht.push(et)}if(ze!==void 0&&Tt>0){const et=yZ(e,$,ze,Tt,Xe,Je);ht.push(et)}const ve=new GainNode(i,{gain:S});if(ht.push(ve),it>0&&Be>0&&It>0&&(T.getDelay(Be,It,e),T.sendDelay(ve,it)),Me>0){let et;if(yn!==void 0){let wt,bt=cr(yn);Array.isArray(bt)?wt=bt.data.samples[Ue%bt.data.samples.length]:typeof bt=="object"&&(wt=Object.values(bt.data.samples).flat()[Ue%Object.values(bt.data.samples).length]),et=await vu(wt,i,yn,0)}T.getReverb(is,rs,en,_t,et,Yt,ue),T.sendReverb(ve,Me)}if(E!=null&&T.getDjf(E,e),An){const et=Mg(An,2**(Ps+5)),wt=Ji(ve,et,1);Et.push(wt)}if(be!=null){be=_n(be);const et=new GainNode(i,{gain:be});ht.push(et),T.connectToOutput(et)}else T.connectToOutput(ve);ht.slice(1).reduce((et,wt)=>et.connect(wt),ht[0]),Et=Et.concat(ht)},MZ=(t,e,n,s)=>{Au(e,t-n,e.duration/s,s)},CZ=["triangle","square","sawtooth","sine"],xZ=[["tri","triangle"],["sqr","square"],["saw","sawtooth"],["sin","sine"]];function PZ(t,e){const n=t,s=new Float32Array(e);for(let r=0;r<e;r++){const i=r*2/e-1;s[r]=Math.tanh(i*n)}return s}function GZ(){[...CZ].forEach(t=>{Vn(t,(e,n,s)=>{const[r,i,a,o]=cn([n.attack,n.decay,n.sustain,n.release],"linear",[.001,.05,.6,.01]);let u=xg(t,e,n),{node:c,stop:l,triggerRelease:d}=u;const m=Ye(.3),{duration:f}=n;c.onended=()=>{c.disconnect(),m.disconnect(),s()};const g=Ye(1);let y=c.connect(m).connect(g);const P=e+f;un(y.gain,r,i,a,o,0,1,e,P,"linear");const Z=P+o+.01;return d==null||d(Z),l(Z),{node:y,stop:S=>{l(S)}}},{type:"synth",prebake:!0})}),Vn("sbd",(t,e,n)=>{const{duration:s,decay:r=.5,pdecay:i=.5,penv:a=36,clip:o}=e,u=Lt(),c=.02,l=1.2,d=.025,m=1,f=u.createOscillator();f.type="triangle",f.frequency.value=ws(e,29),f.detune.setValueAtTime(a*100,0),f.detune.setValueAtTime(a*100,t),f.detune.exponentialRampToValueAtTime(.001,t+i);const g=Ye(1);g.gain.setValueAtTime(1,t+c),g.gain.exponentialRampToValueAtTime(.001,t+c+r),f.start(t);const y=Uo("brown",t,2),P=Ye(1);P.gain.setValueAtTime(l,t),P.gain.exponentialRampToValueAtTime(.001,t+d);const Z=new WaveShaperNode(u);Z.curve=PZ(2,u.sampleRate);const S=Ye(m);f.onended=()=>{f.disconnect(),g.disconnect(),Z.disconnect(),y.node.disconnect(),P.disconnect(),S.disconnect(),n()};const k=f.connect(Z).connect(g).connect(S);y.node.connect(P).connect(S);let v=t+r+.01;return o!=null&&(v=Math.min(t+o*s,v)),S.gain.setValueAtTime(m,v-.01),S.gain.linearRampToValueAtTime(0,v),f.stop(v),y.stop(v),{node:k,stop:X=>{f.stop(X)}}},{type:"synth",prebake:!0}),Vn("supersaw",(t,e,n)=>{const s=Lt();let{duration:r,n:i,unison:a=5,spread:o=.6,detune:u}=e;u=u??i??.18;const c=ws(e),[l,d,m,f]=cn([e.attack,e.decay,e.sustain,e.release],"linear",[.001,.05,.6,.01]),g=t+r,y=g+f+.01,P=ms(a,1,100);let Z=P>1?ms(o,0,1):0,S=je(s,"supersaw-oscillator",{frequency:c,begin:t,end:y,freqspread:u,voices:P,panspread:Z},{outputChannelCount:[2]});const k=1/Math.sqrt(P);fr(S.parameters.get("detune"),e,t,g);const v=yr(S.parameters.get("detune"),e,t),X=ti(S.parameters.get("frequency"),e,t);let L=Ye(1);L=S.connect(L),un(L.gain,l,d,m,f,0,.3*k,t,g,"linear");let V=or(s,()=>{ir(S),L.disconnect(),n(),X==null||X.stop(),v==null||v.stop()},t,y);return{node:L,stop:E=>{V.stop(E)}}},{prebake:!0,type:"synth"}),Vn("bytebeat",(t,e,n)=>{const s=["(t%255 >= t/255%255)*255","(t*(t*8%60 <= 300)|(-t)*(t*4%512 < 256))+t/400","t","t*(t >> 10^t)","t&128","t&t>>8","((t%255+t%128+t%64+t%32+t%16+t%127.8+t%64.8+t%32.8+t%16.8)/3)","((t%64+t%63.8+t%64.15+t%64.35+t%63.5)/1.25)","(t&(t>>7)-t)","(sin(t*PI/128)*127+127)","((t^t/2+t+64*(sin((t*PI/64)+(t*PI/32768))+64))%128*2)","((t^t/2+t+64*(cos >> 0))%127.85*2)","((t^t/2+t+64)%128*2)","(((t * .25)^(t * .25)/100+(t * .25))%128)*2","((t^t/2+t+64)%7 * 24)"],{n:r=0}=e,i=ws(e),{byteBeatExpression:a=s[r%s.length],byteBeatStartTime:o}=e,u=Lt();let{duration:c}=e;const[l,d,m,f]=cn([e.attack,e.decay,e.sustain,e.release],"linear",[.001,.05,.6,.01]),g=t+c,y=g+f+.01;let P=je(u,"byte-beat-processor",{frequency:i,begin:t,end:y},{outputChannelCount:[2]});P.port.postMessage({codeText:a,byteBeatStartTime:o,frequency:i});let Z=Ye(1);Z=P.connect(Z),un(Z.gain,l,d,m,f,0,1,t,g,"linear");let S=or(u,()=>{ir(P),Z.disconnect(),n()},t,y);return{node:Z,stop:k=>{S.stop(k)}}},{prebake:!0,type:"synth"}),Vn("pulse",(t,e,n)=>{const s=Lt();let{pwrate:r,pwsweep:i}=e;i==null&&(r!=null?i=.3:i=0),r==null&&i!=null&&(r=1);let{duration:a,pw:o=.5}=e;const u=ws(e),[c,l,d,m]=cn([e.attack,e.decay,e.sustain,e.release],"linear",[.001,.05,.6,.01]),f=t+a,g=f+m+.01;let y=je(s,"pulse-oscillator",{frequency:u,begin:t,end:g,pulsewidth:o},{outputChannelCount:[2]});fr(y.parameters.get("detune"),e,t,f);const P=yr(y.parameters.get("detune"),e,t),Z=ti(y.parameters.get("frequency"),e,t);let S=Ye(1);S=y.connect(S),un(S.gain,c,l,d,m,0,1,t,f,"linear");let k;i!=0&&(k=li(s,t,g,{frequency:r,depth:i}),k.connect(y.parameters.get("pulsewidth")));let v=or(s,()=>{ir(y),ir(k),S.disconnect(),n(),Z==null||Z.stop(),P==null||P.stop()},t,g);return{node:S,stop:X=>{v.stop(X)}}},{prebake:!0,type:"synth"}),[...Gu].forEach(t=>{Vn(t,(e,n,s)=>{const[r,i,a,o]=cn([n.attack,n.decay,n.sustain,n.release],"linear",[.001,.05,.6,.01]);let u,{density:c}=n;u=Uo(t,e,c);let{node:l,stop:d,triggerRelease:m}=u;const f=Ye(.3),{duration:g}=n;l.onended=()=>{l.disconnect(),f.disconnect(),s()};const y=Ye(1);let P=l.connect(f).connect(y);const Z=e+g;un(P.gain,r,i,a,o,0,1,e,Z,"linear");const S=Z+o+.01;return m==null||m(S),d(S),{node:P,stop:k=>{d(k)}}},{type:"synth",prebake:!0})}),xZ.forEach(([t,e])=>Zn.set({...Zn.get(),[t]:Zn.get()[e]}))}function Cg(t,e){const n=new Float32Array(t+1),s=new Float32Array(t+1),r=Lt(),i=r.createOscillator(),a={sawtooth:c=>[0,-1/c],square:c=>[0,c%2===0?0:1/c],triangle:c=>[c%2===0?0:1/(c*c),0]};if(!a[e])throw new Error(`unknown wave type ${e}`);n[0]=0,s[0]=0;let o=1;for(;o<=t;){const[c,l]=a[e](o);n[o]=c,s[o]=l,o++}const u=r.createPeriodicWave(n,s);return i.setPeriodicWave(u),i}function xg(t,e,n){let{n:s,duration:r,noise:i=0}=n,a;!s||t==="sine"?(a=Lt().createOscillator(),a.type=t||"triangle"):a=Cg(s,t),a.frequency.value=ws(n),a.start(e);let o=yr(a.detune,n,e);fr(a.detune,n,e,e+r);const u=ti(a.frequency,n,e);let c;return i&&(c=EX(a,i,e)),{node:(c==null?void 0:c.node)||a,stop:l=>{u.stop(l),o==null||o.stop(l),c==null||c.stop(l),a.stop(l)},triggerRelease:l=>{}}}function XZ(t=1,e=.05,n=220,s=0,r=0,i=.1,a=0,o=1,u=0,c=0,l=0,d=0,m=0,f=0,g=0,y=0,P=0,Z=1,S=0,k=0){let v=Math.PI*2,X=Lt().sampleRate,L=xt=>xt>0?1:-1,V=u*=500*v/X/X,E=n*=(1+e*2*Math.random()-e)*v/X,I=[],R=0,J=0,W=0,Y=1,tt=0,ct=0,Q=0,nt,q;for(s=s*X+9,S*=X,r*=X,i*=X,P*=X,c*=500*v/X**3,g*=v/X,l*=v/X,d*=X,m=m*X|0,q=s+S+r+i+P|0;W<q;I[W++]=Q)++ct%(y*100|0)||(Q=a?a>1?a>2?a>3?Math.sin((R%v)**3):Math.max(Math.min(Math.tan(R),1),-1):1-(2*R/v%2+2)%2:1-4*Math.abs(Math.round(R/v)-R/v):Math.sin(R),Q=(m?1-k+k*Math.sin(v*W/m):1)*L(Q)*Math.abs(Q)**o*t*1*(W<s?W/s:W<s+S?1-(W-s)/S*(1-Z):W<s+S+r?Z:W<q-P?(q-W-P)/i*Z:0),Q=P?Q/2+(P>W?0:(W<q-P?1:(q-W)/P)*I[W-P|0]/2):Q),nt=(n+=u+=c)*Math.cos(g*J++),R+=nt-nt*f*(1-(Math.sin(W)+1)*1e9%2),Y&&++Y>d&&(n+=l,E+=l,Y=0),m&&!(++tt%m)&&(n=E,u=V,Y||(Y=1));return I}const Pg=(t,e)=>{let{s:n,note:s=36,freq:r,zrand:i=0,attack:a=0,decay:o=0,sustain:u=.8,release:c=.1,curve:l=1,slide:d=0,deltaSlide:m=0,pitchJump:f=0,pitchJumpTime:g=0,lfo:y=0,znoise:P=0,zmod:Z=0,zcrush:S=0,zdelay:k=0,tremolo:v=0,duration:X=.2,zzfx:L}=t;const V=Math.max(X-a-o,0);typeof s=="string"&&(s=ua(s)),!r&&typeof s=="number"&&(r=Bb(s)),n=n.replace("z_","");const E=["sine","triangle","sawtooth","tan","noise"].indexOf(n)||0;l=n==="square"?0:l;const I=XZ(...L||[.25,i,r,a,V,c,E,l,d,m,f,g,y,P,Z,S,k,u,o,v]),R=Lt(),J=R.createBuffer(1,I.length,R.sampleRate);J.getChannelData(0).set(I);const W=Lt().createBufferSource();return W.buffer=J,W.start(e),{node:W}};function ZZ(){["zzfx","z_sine","z_sawtooth","z_triangle","z_square","z_tan","z_noise"].forEach(t=>{Vn(t,(e,n,s)=>{const{node:r}=Pg({s:t,...n},e);return r.onended=()=>{r.disconnect(),s()},{node:r,stop:()=>{}}},{type:"synth",prebake:!0})})}let rn;async function Gg(t,e){const n=`dsp-worklet-${Date.now()}`,s=`${e}
let __q = []; // trigger queue
class MyProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
    this.t = 0;
    this.stopped = false;
    this.port.onmessage = (e) => {
      if(e.data==='stop') {
        this.stopped = true;
      } else if(e.data?.dough) {
        __q.push(e.data)
      } else {
        msg?.(e.data)
      }
    };
  }
  process(inputs, outputs, parameters) {
    const output = outputs[0];
    if(__q.length) {
      for(let i=0;i<__q.length;++i) {
        const deadline = __q[i].time-currentTime;
        if(deadline<=0) {
          trigger(__q[i].dough)
          __q.splice(i,1)
        }
      }
    }
    for (let i = 0; i < output[0].length; i++) {
      const out = dsp(this.t / sampleRate);
      output.forEach((channel) => {
        channel[i] = out;
      });
      this.t++;
    }
  return !this.stopped;
  }
}
registerProcessor('${n}', MyProcessor);
`,r=`data:text/javascript;base64,${btoa(s)}`;await t.audioWorklet.addModule(r);const i=new AudioWorkletNode(t,n);return{node:i,stop:()=>i.port.postMessage("stop")}}const Xg=()=>{var t;rn&&(rn==null||rn.stop(),(t=rn==null?void 0:rn.node)==null||t.disconnect())};typeof window<"u"&&window.addEventListener("message",t=>{var e;t.data==="strudel-stop"?Xg():(e=t.data)!=null&&e.dough&&(rn==null||rn.node.port.postMessage(t.data))});const vZ=async t=>{const e=Lt();Xg(),rn=await Gg(e,t),rn.node.connect(e.destination)};function Zg(t,e,n,s){window.postMessage({time:s,dough:t.value,currentTime:e,duration:t.duration,cps:n})}const $o=Object.freeze({NONE:0,ASYM:1,MIRROR:2,BENDP:3,BENDM:4,BENDMP:5,SYNC:6,QUANT:7,FOLD:8,PWM:9,ORBIT:10,SPIN:11,CHAOS:12,PRIMES:13,BINARY:14,BROWNIAN:15,RECIPROCAL:16,WORMHOLE:17,LOGISTIC:18,SIGMOID:19,FRACTAL:20,FLIP:21}),ey=new Set;async function wZ(t,e,n=2048){const s=`${t},${n}`;if(!ey.has(s)){const r=(await SZ(t,e)).getChannelData(0),i=r.length,a=Math.max(1,Math.floor(i/n)),o=new Array(a);for(let u=0;u<a;u++){const c=u*n;o[u]=r.subarray(c,c+n)}return ey.add(s),{frames:o,frameLen:n,numFrames:a,key:s}}return{frameLen:n,key:s}}function FZ(t,e){var n=1024;if(t<n)return t+" B";var s=["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],r=-1;do t/=n,++r;while(t>=n);return t.toFixed(1)+" "+s[r]}function DZ(t){const e=new DataView(t);let n=12;for(;n+8<=e.byteLength;){const s=String.fromCharCode(e.getUint8(n),e.getUint8(n+1),e.getUint8(n+2),e.getUint8(n+3)),r=e.getUint32(n+4,!0);if(s==="fmt ")return e.getUint32(n+12,!0);n+=8+r+(r&1)}return null}async function AZ(t){const e=DZ(t)||44100;return await new OfflineAudioContext(1,1,e).decodeAudioData(t)}const Go={},SZ=(t,e)=>{if(t=t.replace("#","%23"),!Go[t]){le(`[wavetable] load table ${e}..`,"load-table",{url:t});const n=Date.now();Go[t]=fetch(t).then(s=>s.arrayBuffer()).then(async s=>{const r=Date.now()-n,i=FZ(s.byteLength);return le(`[wavetable] load table ${e}... done! loaded ${i} in ${r}ms`,"loaded-table",{url:t}),await AZ(s)})}return Go[t]};function vg(t,e=""){if(!t.startsWith("github:"))throw new Error('expected "github:" at the start of pseudoUrl');let[n,s]=t.split("github:");return s=s.endsWith("/")?s.slice(0,-1):s,s.split("/").length===2&&(s+="/main"),`https://raw.githubusercontent.com/${s}/${e}`}const ny=(t,e,n,s={})=>(e=t._base||e,Object.entries(t).forEach(([r,i])=>{if(r==="_base")return!1;if(typeof i=="string"&&(i=[i]),typeof i!="object")throw new Error("wrong json format for "+r);let a=e;a.startsWith("github:")&&(a=vg(a,"")),i=i.map(o=>a+o).filter(o=>o.toLowerCase().endsWith(".wav")?!0:(le(`[wavetable] skipping ${o} -- wavetables must be ".wav" format`),!1)),i.length&&Su(r,i,{baseUrl:e,frameLen:n})}));function Su(t,e,n){Vn(t,(s,r,i,a)=>wg(s,r,i,e,a,(n==null?void 0:n.frameLen)??2048),{type:"wavetable",tables:e,...n})}const VZ=async(t,e,n,s={})=>{if(n!==void 0)return ny(n,t,e);if(t.startsWith("github:")&&(t=vg(t,"strudel.json")),t.startsWith("local:")&&(t="http://localhost:5432"),typeof fetch=="function"&&!(typeof fetch>"u"))return fetch(t).then(r=>r.json()).then(r=>ny(r,t,e,s)).catch(r=>{throw console.error(r),new Error(`error loading "${t}"`)})};async function wg(t,e,n,s,r,i){const{s:a,n:o=0,duration:u,clip:c}=e,l=Lt(),[d,m,f,g]=cn([e.attack,e.decay,e.sustain,e.release]);let{warpmode:y}=e;typeof y=="string"&&(y=$o[y.toUpperCase()]??$o.NONE);const P=ws(e),{url:Z,label:S}=Nb(e,s),k=await wZ(Z,S,i);let v=t+u;c!==void 0&&(v=Math.min(t+c*u,v));const X=v+g,L=X+.01,V=je(l,"wavetable-oscillator-processor",{begin:t,end:L,frequency:P,freqspread:e.detune,position:e.wt,warp:e.warp,warpMode:y,voices:Math.max(e.unison??1,1),panspread:e.spread,phaserand:e.wtphaserand??e.unison>1?1:0},{outputChannelCount:[2]});if(V.port.postMessage({type:"table",payload:k}),l.currentTime>t){le(`[wavetable] still loading sound "${a}:${o}"`,"highlight");return}const E=[e.wtattack,e.wtdecay,e.wtsustain,e.wtrelease],I=[e.warpattack,e.warpdecay,e.warpsustain,e.warprelease],R=V.parameters,J=R.get("position"),W=R.get("warp");let Y=e.wtrate;e.wtsync!=null&&(Y=r*e.wtsync);const tt=Oo(l,J,t,X,{offset:e.wt,amount:e.wtenv,defaultAmount:.5,values:E,holdEnd:v,defaultValues:[0,.5,0,.1]},{frequency:Y,depth:e.wtdepth,defaultDepth:.5,shape:e.wtshape,skew:e.wtskew,dcoffset:e.wtdc??0});let ct=e.warprate;e.warpsync!=null&&(ct=ct=r*e.warpsync);const Q=Oo(l,W,t,X,{offset:e.warp,amount:e.warpenv,defaultAmount:.5,values:I,holdEnd:v,defaultValues:[0,.5,0,.1]},{frequency:ct,depth:e.warpdepth,defaultDepth:.5,shape:e.warpshape,skew:e.warpskew,dcoffset:e.warpdc??0}),nt=yr(V.parameters.get("detune"),e,t),q=ti(V.parameters.get("frequency"),e,t),xt=l.createGain(),st=V.connect(xt);un(st.gain,d,m,f,g,0,.3,t,v,"linear"),fr(V.parameters.get("detune"),e,t,v);const dt={node:st,source:V},H=or(l,()=>{ir(V),nt==null||nt.stop(),q==null||q.stop(),st.disconnect(),tt==null||tt.disconnect(),Q==null||Q.disconnect(),n()},t,L);return dt.stop=gt=>{H.stop(gt)},dt}typeof BigInt>"u"&&(BigInt=function(t){if(isNaN(t))throw new Error("");return t});const pt=BigInt(0),Gt=BigInt(1),ei=BigInt(2),tu=BigInt(5),He=BigInt(10),LZ=2e3,O={s:Gt,n:pt,d:Gt};function jn(t,e){try{t=BigInt(t)}catch{throw cs()}return t*e}function Cn(t){return typeof t=="bigint"?t:Math.floor(t)}function qt(t,e){if(e===pt)throw Vu();const n=Object.create(Jt.prototype);n.s=t<pt?-Gt:Gt,t=t<pt?-t:t;const s=vs(t,e);return n.n=t/s,n.d=e/s,n}function sr(t){const e={};let n=t,s=ei,r=tu-Gt;for(;r<=n;){for(;n%s===pt;)n/=s,e[s]=(e[s]||pt)+Gt;r+=Gt+ei*s++}return n!==t?n>1&&(e[n]=(e[n]||pt)+Gt):e[t]=(e[t]||pt)+Gt,e}const me=function(t,e){let n=pt,s=Gt,r=Gt;if(t!=null)if(e!==void 0){if(typeof t=="bigint")n=t;else{if(isNaN(t))throw cs();if(t%1!==0)throw sy();n=BigInt(t)}if(typeof e=="bigint")s=e;else{if(isNaN(e))throw cs();if(e%1!==0)throw sy();s=BigInt(e)}r=n*s}else if(typeof t=="object"){if("d"in t&&"n"in t)n=BigInt(t.n),s=BigInt(t.d),"s"in t&&(n*=BigInt(t.s));else if(0 in t)n=BigInt(t[0]),1 in t&&(s=BigInt(t[1]));else if(typeof t=="bigint")n=t;else throw cs();r=n*s}else if(typeof t=="number"){if(isNaN(t))throw cs();if(t<0&&(r=-Gt,t=-t),t%1===0)n=BigInt(t);else if(t>0){let i=1,a=0,o=1,u=1,c=1,l=1e7;for(t>=1&&(i=10**Math.floor(1+Math.log10(t)),t/=i);o<=l&&c<=l;){let d=(a+u)/(o+c);if(t===d){o+c<=l?(n=a+u,s=o+c):c>o?(n=u,s=c):(n=a,s=o);break}else t>d?(a+=u,o+=c):(u+=a,c+=o),o>l?(n=u,s=c):(n=a,s=o)}n=BigInt(n)*BigInt(i),s=BigInt(s)}}else if(typeof t=="string"){let i=0,a=pt,o=pt,u=pt,c=Gt,l=Gt,d=t.replace(/_/g,"").match(/\d+|./g);if(d===null)throw cs();if(d[i]==="-"?(r=-Gt,i++):d[i]==="+"&&i++,d.length===i+1?o=jn(d[i++],r):d[i+1]==="."||d[i]==="."?(d[i]!=="."&&(a=jn(d[i++],r)),i++,(i+1===d.length||d[i+1]==="("&&d[i+3]===")"||d[i+1]==="'"&&d[i+3]==="'")&&(o=jn(d[i],r),c=He**BigInt(d[i].length),i++),(d[i]==="("&&d[i+2]===")"||d[i]==="'"&&d[i+2]==="'")&&(u=jn(d[i+1],r),l=He**BigInt(d[i+1].length)-Gt,i+=3)):d[i+1]==="/"||d[i+1]===":"?(o=jn(d[i],r),c=jn(d[i+2],Gt),i+=3):d[i+3]==="/"&&d[i+1]===" "&&(a=jn(d[i],r),o=jn(d[i+2],r),c=jn(d[i+4],Gt),i+=5),d.length<=i)s=c*l,r=n=u+s*a+l*o;else throw cs()}else if(typeof t=="bigint")n=t,r=t,s=Gt;else throw cs();if(s===pt)throw Vu();O.s=r<pt?-Gt:Gt,O.n=n<pt?-n:n,O.d=s<pt?-s:s};function kZ(t,e,n){let s=Gt;for(;e>pt;t=t*t%n,e>>=Gt)e&Gt&&(s=s*t%n);return s}function EZ(t,e){for(;e%ei===pt;e/=ei);for(;e%tu===pt;e/=tu);if(e===Gt)return pt;let n=He%e,s=1;for(;n!==Gt;s++)if(n=n*He%e,s>LZ)return pt;return BigInt(s)}function WZ(t,e,n){let s=Gt,r=kZ(He,n,e);for(let i=0;i<300;i++){if(s===r)return BigInt(i);s=s*He%e,r=r*He%e}return 0}function vs(t,e){if(!t)return e;if(!e)return t;for(;;){if(t%=e,!t)return e;if(e%=t,!e)return t}}function Jt(t,e){if(me(t,e),this instanceof Jt)t=vs(O.d,O.n),this.s=O.s,this.n=O.n/t,this.d=O.d/t;else return qt(O.s*O.n,O.d)}var Vu=function(){return new Error("Division by Zero")},cs=function(){return new Error("Invalid argument")},sy=function(){return new Error("Parameters must be integer")};Jt.prototype={s:Gt,n:pt,d:Gt,abs:function(){return qt(this.n,this.d)},neg:function(){return qt(-this.s*this.n,this.d)},add:function(t,e){return me(t,e),qt(this.s*this.n*O.d+O.s*this.d*O.n,this.d*O.d)},sub:function(t,e){return me(t,e),qt(this.s*this.n*O.d-O.s*this.d*O.n,this.d*O.d)},mul:function(t,e){return me(t,e),qt(this.s*O.s*this.n*O.n,this.d*O.d)},div:function(t,e){return me(t,e),qt(this.s*O.s*this.n*O.d,this.d*O.n)},clone:function(){return qt(this.s*this.n,this.d)},mod:function(t,e){if(t===void 0)return qt(this.s*this.n%this.d,Gt);if(me(t,e),pt===O.n*this.d)throw Vu();return qt(this.s*(O.d*this.n)%(O.n*this.d),O.d*this.d)},gcd:function(t,e){return me(t,e),qt(vs(O.n,this.n)*vs(O.d,this.d),O.d*this.d)},lcm:function(t,e){return me(t,e),O.n===pt&&this.n===pt?qt(pt,Gt):qt(O.n*this.n,vs(O.n,this.n)*vs(O.d,this.d))},inverse:function(){return qt(this.s*this.d,this.n)},pow:function(t,e){if(me(t,e),O.d===Gt)return O.s<pt?qt((this.s*this.d)**O.n,this.n**O.n):qt((this.s*this.n)**O.n,this.d**O.n);if(this.s<pt)return null;let n=sr(this.n),s=sr(this.d),r=Gt,i=Gt;for(let a in n)if(a!=="1"){if(a==="0"){r=pt;break}if(n[a]*=O.n,n[a]%O.d===pt)n[a]/=O.d;else return null;r*=BigInt(a)**n[a]}for(let a in s)if(a!=="1"){if(s[a]*=O.n,s[a]%O.d===pt)s[a]/=O.d;else return null;i*=BigInt(a)**s[a]}return O.s<pt?qt(i,r):qt(r,i)},log:function(t,e){if(me(t,e),this.s<=pt||O.s<=pt)return null;const n={},s=sr(O.n),r=sr(O.d),i=sr(this.n),a=sr(this.d);for(const c in r)s[c]=(s[c]||pt)-r[c];for(const c in a)i[c]=(i[c]||pt)-a[c];for(const c in s)c!=="1"&&(n[c]=!0);for(const c in i)c!=="1"&&(n[c]=!0);let o=null,u=null;for(const c in n){const l=s[c]||pt,d=i[c]||pt;if(l===pt){if(d!==pt)return null;continue}let m=d,f=l;const g=vs(m,f);if(m/=g,f/=g,o===null&&u===null)o=m,u=f;else if(m*u!==o*f)return null}return o!==null&&u!==null?qt(o,u):null},equals:function(t,e){return me(t,e),this.s*this.n*O.d===O.s*O.n*this.d},lt:function(t,e){return me(t,e),this.s*this.n*O.d<O.s*O.n*this.d},lte:function(t,e){return me(t,e),this.s*this.n*O.d<=O.s*O.n*this.d},gt:function(t,e){return me(t,e),this.s*this.n*O.d>O.s*O.n*this.d},gte:function(t,e){return me(t,e),this.s*this.n*O.d>=O.s*O.n*this.d},compare:function(t,e){me(t,e);let n=this.s*this.n*O.d-O.s*O.n*this.d;return(pt<n)-(n<pt)},ceil:function(t){return t=He**BigInt(t||0),qt(Cn(this.s*t*this.n/this.d)+(t*this.n%this.d>pt&&this.s>=pt?Gt:pt),t)},floor:function(t){return t=He**BigInt(t||0),qt(Cn(this.s*t*this.n/this.d)-(t*this.n%this.d>pt&&this.s<pt?Gt:pt),t)},round:function(t){return t=He**BigInt(t||0),qt(Cn(this.s*t*this.n/this.d)+this.s*((this.s>=pt?Gt:pt)+ei*(t*this.n%this.d)>this.d?Gt:pt),t)},roundTo:function(t,e){me(t,e);const n=this.n*O.d,s=this.d*O.n,r=n%s;let i=Cn(n/s);return r+r>=s&&i++,qt(this.s*i*O.n,O.d)},divisible:function(t,e){return me(t,e),!(!(O.n*this.d)||this.n*O.d%(O.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(t){let e=this.n,n=this.d;t=t||15;let s=EZ(e,n),r=WZ(e,n,s),i=this.s<pt?"-":"";if(i+=Cn(e/n),e%=n,e*=He,e&&(i+="."),s){for(let a=r;a--;)i+=Cn(e/n),e%=n,e*=He;i+="(";for(let a=s;a--;)i+=Cn(e/n),e%=n,e*=He;i+=")"}else for(let a=t;e&&a--;)i+=Cn(e/n),e%=n,e*=He;return i},toFraction:function(t){let e=this.n,n=this.d,s=this.s<pt?"-":"";if(n===Gt)s+=e;else{let r=Cn(e/n);t&&r>pt&&(s+=r,s+=" ",e%=n),s+=e,s+="/",s+=n}return s},toLatex:function(t){let e=this.n,n=this.d,s=this.s<pt?"-":"";if(n===Gt)s+=e;else{let r=Cn(e/n);t&&r>pt&&(s+=r,e%=n),s+="\\frac{",s+=e,s+="}{",s+=n,s+="}"}return s},toContinued:function(){let t=this.n,e=this.d,n=[];do{n.push(Cn(t/e));let s=t%e;t=e,e=s}while(t!==Gt);return n},simplify:function(t){const e=BigInt(1/(t||.001)|0),n=this.abs(),s=n.toContinued();for(let r=1;r<s.length;r++){let i=qt(s[r-1],Gt);for(let o=r-2;o>=0;o--)i=i.inverse().add(s[o]);let a=i.sub(n);if(a.n*e<a.d)return i.mul(this.s)}return this}};const la="strudel.log";let zZ=1e3,ry,iy;function Lu(t,e="cyclist"){ye(`[${e}] error: ${t.message}`)}function ye(t,e,n={}){let s=performance.now();ry===t&&s-iy<zZ||(ry=t,iy=s,console.log(`%c${t}`,"background-color: black;color:white;border-radius:15px"),typeof document<"u"&&typeof CustomEvent<"u"&&document.dispatchEvent(new CustomEvent(la,{detail:{message:t,type:e,data:n}})))}ye.key=la;const Fg=t=>/^[a-gA-G][#bs]*[0-9]$/.test(t),Ms=t=>/^[a-gA-G][#bsf]*-?[0-9]?$/.test(t),ku=t=>{var r;if(typeof t!="string")return[];const[e,n="",s]=((r=t.match(/^([a-gA-G])([#bsf]*)(-?[0-9]*)$/))==null?void 0:r.slice(1))||[];return e?[e,n,s?Number(s):void 0]:[]},RZ={c:0,d:2,e:4,f:5,g:7,a:9,b:11},BZ={"#":1,b:-1,s:1,f:-1},wn=(t,e=3)=>{const[n,s,r=e]=ku(t);if(!n)throw new Error('not a note: "'+t+'"');const i=RZ[n.toLowerCase()],a=(s==null?void 0:s.split("").reduce((o,u)=>o+BZ[u],0))||0;return(Number(r)+1)*12+i+a},zs=t=>Math.pow(2,(t-69)/12)*440,ha=t=>12*Math.log(t/440)/Math.LN2+69,Dg=(t,e)=>{if(typeof t!="object")throw new Error("valueToMidi: expected object value");let{freq:n,note:s}=t;if(typeof n=="number")return ha(n);if(typeof s=="string")return wn(s);if(typeof s=="number")return s;if(!e)throw new Error("valueToMidi: expected freq or note to be set");return e},Ag=(t,e)=>(t-e)*1e3,Eu=t=>zs(typeof t=="number"?t:wn(t)),TZ=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],Sg=t=>{const e=Math.floor(t/12)-1;return TZ[t%12]+e},qe=(t,e)=>(t%e+e)%e,Wu=t=>t.reduce((e,n)=>e+n)/t.length;function zu(t,e=0){return isNaN(Number(t))?(ye(`"${t}" is not a number, falling back to ${e}`,"warning"),e):t}const Vg=(t,e)=>qe(Math.round(zu(t??0,0)),e),Lg=t=>{let{value:e,context:n}=t,s=e;if(typeof s=="object"&&!Array.isArray(s)&&(s=s.note||s.n||s.value,s===void 0))throw new Error(`cannot find a playable note for ${JSON.stringify(e)}`);if(typeof s=="number"&&n.type!=="frequency")s=zs(t.value);else if(typeof s=="number"&&n.type==="frequency")s=t.value;else if(typeof s!="string"||!Ms(s))throw new Error("not a note: "+JSON.stringify(s));return s},Ru=t=>{let{value:e,context:n}=t;if(typeof e=="object")return e.freq?e.freq:Eu(e.note||e.n||e.value);if(typeof e=="number"&&n.type!=="frequency")e=zs(t.value);else if(typeof e=="string"&&Ms(e))e=zs(wn(t.value));else if(typeof e!="number")throw new Error("not a note or frequency: "+e);return e},Bu=(t,e)=>t.slice(e).concat(t.slice(0,e)),Tu=(...t)=>t.reduce((e,n)=>(...s)=>e(n(...s)),e=>e),kg=(...t)=>Tu(...t.reverse()),Ks=t=>t.filter(e=>e!=null),Ln=t=>[].concat(...t),Fs=t=>t,Eg=(t,e)=>t,xr=(t,e)=>Array.from({length:e-t+1},(n,s)=>s+t);function Zt(t,e,n=t.length){const s=function r(...i){if(i.length>=n)return t.apply(this,i);{const a=function(...o){return r.apply(this,i.concat(o))};return e&&e(a,i),a}};return e&&e(s,[]),s}function pa(t){const e=Number(t);if(!isNaN(e))return e;if(Ms(t))return wn(t);throw new Error(`cannot parse as numeral: "${t}"`)}function da(t,e){return(...n)=>t(...n.map(e))}function Ke(t){return da(t,pa)}function Nu(t){const e=Number(t);if(!isNaN(e))return e;const n={pi:Math.PI,w:1,h:.5,q:.25,e:.125,s:.0625,t:1/3,f:.2,x:1/6}[t];if(typeof n<"u")return n;throw new Error(`cannot parse as fractional: "${t}"`)}const Wg=t=>da(t,Nu),ma=function(t,e){return[e.slice(0,t),e.slice(t)]},pi=(t,e,n)=>e.map((s,r)=>t(s,n[r])),Iu=function(t){const e=[];for(let n=0;n<t.length-1;++n)e.push([t[n],t[n+1]]);return e},di=(t,e,n)=>Math.min(Math.max(t,e),n),NZ=["Do","Reb","Re","Mib","Mi","Fa","Solb","Sol","Lab","La","Sib","Si"],IZ=["Sa","Re","Ga","Ma","Pa","Dha","Ni"],KZ=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Hb","H"],YZ=["Ni","Pab","Pa","Voub","Vou","Ga","Dib","Di","Keb","Ke","Zob","Zo"],HZ=["I","Ro","Ha","Ni","Ho","He","To"],jZ=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],zg=(t,e="letters")=>{const n=(e==="solfeggio"?NZ:e==="indian"?IZ:e==="german"?KZ:e==="byzantine"?YZ:e==="japanese"?HZ:jZ)[t%12],s=Math.floor(t/12)-1;return n+s};function Rg(t){var e={};return t.filter(function(n){return e.hasOwn(n)?!1:e[n]=!0})}function Bg(t){return t.sort().filter(function(e,n,s){return!n||e!=s[n-1]})}function Ku(t){return t.sort((e,n)=>e.compare(n)).filter(function(e,n,s){return!n||e.ne(s[n-1])})}function Yu(t){const e=new TextEncoder().encode(t);return btoa(String.fromCharCode(...e))}function Hu(t){const e=new Uint8Array(atob(t).split("").map(n=>n.charCodeAt(0)));return new TextDecoder().decode(e)}function Tg(t){return encodeURIComponent(Yu(t))}function Ng(t){return Hu(decodeURIComponent(t))}function ju(t,e){return Array.isArray(t)?t.map(e):Object.fromEntries(Object.entries(t).map(([n,s],r)=>[n,e(s,n,r)]))}function _i(t,e){return t/e}class Ju{constructor({getTargetClockTime:e=JZ,weight:n=16,offsetDelta:s=.005,checkAfterTime:r=2,resetAfterTime:i=8}){this.offsetTime,this.timeAtPrevOffsetSample,this.prevOffsetTimes=[],this.getTargetClockTime=e,this.weight=n,this.offsetDelta=s,this.checkAfterTime=r,this.resetAfterTime=i,this.reset=()=>{this.prevOffsetTimes=[],this.offsetTime=null,this.timeAtPrevOffsetSample=null}}calculateOffset(e){const n=this.getTargetClockTime(),s=n-this.timeAtPrevOffsetSample,r=n-e;if(s>this.resetAfterTime&&this.reset(),this.offsetTime==null&&(this.offsetTime=r),this.prevOffsetTimes.push(r),this.prevOffsetTimes.length>this.weight&&this.prevOffsetTimes.shift(),this.timeAtPrevOffsetSample==null||s>this.checkAfterTime){this.timeAtPrevOffsetSample=n;const i=Wu(this.prevOffsetTimes);Math.abs(i-this.offsetTime)>this.offsetDelta&&(this.offsetTime=i)}return this.offsetTime}calculateTimestamp(e,n){return this.calculateOffset(e)+n}}function Ig(){return performance.now()*.001}function JZ(){return Date.now()*.001}const _u=new Map([["control","Control"],["ctrl","Control"],["alt","Alt"],["shift","Shift"],["down","ArrowDown"],["up","ArrowUp"],["left","ArrowLeft"],["right","ArrowRight"]]);let Tr;function Uu(){if(Tr==null){if(typeof window>"u")return;Tr={},window.addEventListener("keydown",t=>{Tr[t.key]=!0}),window.addEventListener("keyup",t=>{Tr[t.key]=!1})}return{...Tr}}function fa(t,e=!1){return typeof t=="object"?e?JSON.stringify(t).slice(1,-1).replaceAll('"',"").replaceAll(","," "):JSON.stringify(t):t}Jt.prototype.sam=function(){return this.floor()};Jt.prototype.nextSam=function(){return this.sam().add(1)};Jt.prototype.wholeCycle=function(){return new se(this.sam(),this.nextSam())};Jt.prototype.cyclePos=function(){return this.sub(this.sam())};Jt.prototype.lt=function(t){return this.compare(t)<0};Jt.prototype.gt=function(t){return this.compare(t)>0};Jt.prototype.lte=function(t){return this.compare(t)<=0};Jt.prototype.gte=function(t){return this.compare(t)>=0};Jt.prototype.eq=function(t){return this.compare(t)==0};Jt.prototype.ne=function(t){return this.compare(t)!=0};Jt.prototype.max=function(t){return this.gt(t)?this:t};Jt.prototype.maximum=function(...t){return t=t.map(e=>new Jt(e)),t.reduce((e,n)=>n.max(e),this)};Jt.prototype.min=function(t){return this.lt(t)?this:t};Jt.prototype.mulmaybe=function(t){return t!==void 0?this.mul(t):void 0};Jt.prototype.divmaybe=function(t){return t!==void 0?this.div(t):void 0};Jt.prototype.addmaybe=function(t){return t!==void 0?this.add(t):void 0};Jt.prototype.submaybe=function(t){return t!==void 0?this.sub(t):void 0};Jt.prototype.show=function(){return this.s*this.n+"/"+this.d};Jt.prototype.or=function(t){return this.eq(0)?t:this};const j=t=>Jt(t),_Z=(...t)=>{if(t=Ks(t),t.length!==0)return t.reduce((e,n)=>e.gcd(n),j(1))},Xn=(...t)=>{if(t=Ks(t),t.length===0)return;const e=t.pop();return t.reduce((n,s)=>n===void 0||s===void 0?void 0:n.lcm(s),e)},UZ=t=>t instanceof Jt;j._original=Jt;class se{constructor(e,n){this.begin=j(e),this.end=j(n)}get spanCycles(){const e=[];var n=this.begin;const s=this.end,r=s.sam();if(n.equals(s))return[new se(n,s)];for(;s.gt(n);){if(n.sam().equals(r)){e.push(new se(n,this.end));break}const i=n.nextSam();e.push(new se(n,i)),n=i}return e}get duration(){return this.end.sub(this.begin)}cycleArc(){const e=this.begin.cyclePos(),n=e.add(this.duration);return new se(e,n)}withTime(e){return new se(e(this.begin),e(this.end))}withEnd(e){return new se(this.begin,e(this.end))}withCycle(e){const n=this.begin.sam(),s=n.add(e(this.begin.sub(n))),r=n.add(e(this.end.sub(n)));return new se(s,r)}intersection(e){const n=this.begin.max(e.begin),s=this.end.min(e.end);if(!n.gt(s)&&!(n.equals(s)&&(n.equals(this.end)&&this.begin.lt(this.end)||n.equals(e.end)&&e.begin.lt(e.end))))return new se(n,s)}intersection_e(e){const n=this.intersection(e);if(n==null)throw"TimeSpans do not intersect";return n}midpoint(){return this.begin.add(this.duration.div(j(2)))}equals(e){return this.begin.equals(e.begin)&&this.end.equals(e.end)}show(){return this.begin.show()+" → "+this.end.show()}}class ee{constructor(e,n,s,r={},i=!1){this.whole=e,this.part=n,this.value=s,this.context=r,this.stateful=i,i&&console.assert(typeof this.value=="function","Stateful values must be functions")}get duration(){var n,s;let e;return typeof((n=this.value)==null?void 0:n.duration)=="number"?e=j(this.value.duration):e=this.whole.end.sub(this.whole.begin),typeof((s=this.value)==null?void 0:s.clip)=="number"?e.mul(this.value.clip):e}get endClipped(){return this.whole.begin.add(this.duration)}isActive(e){return this.whole.begin<=e&&this.endClipped>=e}isInPast(e){return e>this.endClipped}isInNearPast(e,n){return n-e<=this.endClipped}isInFuture(e){return e<this.whole.begin}isInNearFuture(e,n){return n<this.whole.begin&&n>this.whole.begin-e}isWithinTime(e,n){return this.whole.begin<=n&&this.endClipped>=e}wholeOrPart(){return this.whole?this.whole:this.part}withSpan(e){const n=this.whole?e(this.whole):void 0;return new ee(n,e(this.part),this.value,this.context)}withValue(e){return new ee(this.whole,this.part,e(this.value),this.context)}hasOnset(){return this.whole!=null&&this.whole.begin.equals(this.part.begin)}hasTag(e){var n;return(n=this.context.tags)==null?void 0:n.includes(e)}resolveState(e){if(this.stateful&&this.hasOnset()){console.log("stateful");const n=this.value,[s,r]=n(e);return[s,new ee(this.whole,this.part,r,this.context,!1)]}return[e,this]}spanEquals(e){return this.whole==null&&e.whole==null||this.whole.equals(e.whole)}equals(e){return this.spanEquals(e)&&this.part.equals(e.part)&&this.value===e.value}show(e=!1){const n=typeof this.value=="object"?e?JSON.stringify(this.value).slice(1,-1).replaceAll('"',"").replaceAll(","," "):JSON.stringify(this.value):this.value;var s="";if(this.whole==null)s="~"+this.part.show;else{var r=this.whole.begin.equals(this.part.begin)&&this.whole.end.equals(this.part.end);this.whole.begin.equals(this.part.begin)||(s=this.whole.begin.show()+" ⇜ "),r||(s+="("),s+=this.part.show(),r||(s+=")"),this.whole.end.equals(this.part.end)||(s+=" ⇝ "+this.whole.end.show())}return"[ "+s+" | "+n+" ]"}showWhole(e=!1){return`${this.whole==null?"~":this.whole.show()}: ${fa(this.value,e)}`}combineContext(e){const n=this;return{...n.context,...e.context,locations:(n.context.locations||[]).concat(e.context.locations||[])}}setContext(e){return new ee(this.whole,this.part,this.value,e)}ensureObjectValue(){if(typeof this.value!="object")throw new Error(`expected hap.value to be an object, but got "${this.value}". Hint: append .note() or .s() to the end`,"error")}}class Rs{constructor(e,n={}){this.span=e,this.controls=n}setSpan(e){return new Rs(e,this.controls)}withSpan(e){return this.setSpan(e(this.span))}setControls(e){return new Rs(this.span,{...this.controls,...e})}}function OZ(t,e,n){if((e==null?void 0:e.value)!==void 0&&Object.keys(e).length===1)return ye("[warn]: Can't do arithmetic on control pattern."),t;const s=Object.keys(t).filter(r=>Object.keys(e).includes(r));return Object.assign({},t,e,Object.fromEntries(s.map(r=>[r,n(t[r],e[r])])))}Zt((t,e)=>t*e);Zt((t,e)=>e.map(t));function Ou(t,e=60){let n=0,s=j(0),r=[""],i="";for(;r[0].length<e;){const a=t.queryArc(n,n+1),o=a.filter(l=>l.hasOnset()).map(l=>l.duration),u=_Z(...o),c=u.inverse();r=r.map(l=>l+"|"),i+="|";for(let l=0;l<c;l++){const[d,m]=[s,s.add(u)],f=a.filter(y=>y.whole.begin.lte(d)&&y.whole.end.gte(m)),g=f.length-r.length;g>0&&(r=r.concat(Array(g).fill(i))),r=r.map((y,P)=>{const Z=f[P];if(Z){const S=Z.whole.begin.eq(d)?""+Z.value:"-";return y+S}return y+"."}),i+=".",s=s.add(u)}n++}return r.join(`
`)}let eu,$e=!0;const Kg=function(t){$e=!!t},Qu=t=>eu=t;let _=class fe{constructor(e,n=void 0){Ht(this,"polyJoin",function(){const e=this;return e.fmap(n=>n.extend(e._steps.div(n._steps))).outerJoin()});this.query=e,this._Pattern=!0,this._steps=n}get _steps(){return this.__steps}set _steps(e){this.__steps=e===void 0?void 0:j(e)}setSteps(e){return this._steps=e,this}withSteps(e){return $e?new fe(this.query,this._steps===void 0?void 0:e(this._steps)):this}get hasSteps(){return this._steps!==void 0}withValue(e){const n=new fe(s=>this.query(s).map(r=>r.withValue(e)));return n._steps=this._steps,n}withState(e){return new fe(n=>this.query(e(n)))}fmap(e){return this.withValue(e)}appWhole(e,n){const s=this,r=function(i){const a=s.query(i),o=n.query(i),u=function(c,l){const d=c.part.intersection(l.part);if(d!=null)return new ee(e(c.whole,l.whole),d,c.value(l.value),l.combineContext(c))};return Ln(a.map(c=>Ks(o.map(l=>u(c,l)))))};return new fe(r)}appBoth(e){const n=this,s=function(i,a){if(!(i==null||a==null))return i.intersection_e(a)},r=n.appWhole(s,e);return $e&&(r._steps=Xn(e._steps,n._steps)),r}appLeft(e){const n=this,s=function(i){const a=[];for(const o of n.query(i)){const u=e.query(i.setSpan(o.wholeOrPart()));for(const c of u){const l=o.whole,d=o.part.intersection(c.part);if(d){const m=o.value(c.value),f=c.combineContext(o),g=new ee(l,d,m,f);a.push(g)}}}return a},r=new fe(s);return r._steps=this._steps,r}appRight(e){const n=this,s=function(i){const a=[];for(const o of e.query(i)){const u=n.query(i.setSpan(o.wholeOrPart()));for(const c of u){const l=o.whole,d=c.part.intersection(o.part);if(d){const m=c.value(o.value),f=o.combineContext(c),g=new ee(l,d,m,f);a.push(g)}}}return a},r=new fe(s);return r._steps=e._steps,r}bindWhole(e,n){const s=this,r=function(i){const a=function(u,c){return new ee(e(u.whole,c.whole),c.part,c.value,Object.assign({},u.context,c.context,{locations:(u.context.locations||[]).concat(c.context.locations||[])}))},o=function(u){return n(u.value).query(i.setSpan(u.part)).map(c=>a(u,c))};return Ln(s.query(i).map(u=>o(u)))};return new fe(r)}bind(e){const n=function(s,r){if(!(s==null||r==null))return s.intersection_e(r)};return this.bindWhole(n,e)}join(){return this.bind(Fs)}outerBind(e){return this.bindWhole(n=>n,e).setSteps(this._steps)}outerJoin(){return this.outerBind(Fs)}innerBind(e){return this.bindWhole((n,s)=>s,e)}innerJoin(){return this.innerBind(Fs)}resetJoin(e=!1){const n=this;return new fe(s=>n.discreteOnly().query(s).map(r=>r.value.late(e?r.whole.begin:r.whole.begin.cyclePos()).query(s).map(i=>new ee(i.whole?i.whole.intersection(r.whole):void 0,i.part.intersection(r.part),i.value).setContext(r.combineContext(i))).filter(i=>i.part)).flat())}restartJoin(){return this.resetJoin(!0)}squeezeJoin(){const e=this;function n(s){const r=e.discreteOnly().query(s);function i(a){const o=a.value._focusSpan(a.wholeOrPart()).query(s.setSpan(a.part));function u(c,l){let d;if(l.whole&&c.whole&&(d=l.whole.intersection(c.whole),!d))return;const m=l.part.intersection(c.part);if(!m)return;const f=l.combineContext(c);return new ee(d,m,l.value,f)}return o.map(c=>u(a,c))}return Ln(r.map(i)).filter(a=>a)}return new fe(n)}squeezeBind(e){return this.fmap(e).squeezeJoin()}polyBind(e){return this.fmap(e).polyJoin()}queryArc(e,n,s={}){try{return this.query(new Rs(new se(e,n),s))}catch(r){return ye(`[query]: ${r.message}`,"error"),[]}}splitQueries(){const e=this,n=s=>Ln(s.span.spanCycles.map(r=>e.query(s.setSpan(r))));return new fe(n)}withQuerySpan(e){return new fe(n=>this.query(n.withSpan(e)))}withQuerySpanMaybe(e){const n=this;return new fe(s=>{const r=s.withSpan(e);return r.span?n.query(r):[]})}withQueryTime(e){return new fe(n=>this.query(n.withSpan(s=>s.withTime(e))))}withHapSpan(e){return new fe(n=>this.query(n).map(s=>s.withSpan(e)))}withHapTime(e){return this.withHapSpan(n=>n.withTime(e))}withHaps(e){const n=new fe(s=>e(this.query(s),s));return n._steps=this._steps,n}withHap(e){return this.withHaps(n=>n.map(e))}setContext(e){return this.withHap(n=>n.setContext(e))}withContext(e){const n=this.withHap(s=>s.setContext(e(s.context)));return this.__pure!==void 0&&(n.__pure=this.__pure,n.__pure_loc=this.__pure_loc),n}stripContext(){return this.withHap(e=>e.setContext({}))}withLoc(e,n){const s={start:e,end:n},r=this.withContext(i=>{const a=(i.locations||[]).concat([s]);return{...i,locations:a}});return this.__pure&&(r.__pure=this.__pure,r.__pure_loc=s),r}filterHaps(e){return new fe(n=>this.query(n).filter(e))}filterValues(e){return new fe(n=>this.query(n).filter(s=>e(s.value))).setSteps(this._steps)}removeUndefineds(){return this.filterValues(e=>e!=null)}onsetsOnly(){return this.filterHaps(e=>e.hasOnset())}discreteOnly(){return this.filterHaps(e=>e.whole)}defragmentHaps(){return this.discreteOnly().withHaps(e=>{const n=[];for(var s=0;s<e.length;++s){for(var r=!0,i=e[s];r;){const u=JSON.stringify(e[s].value);for(var a=!1,o=s+1;o<e.length;o++){const c=e[o];if(i.whole.equals(c.whole)){if(i.part.begin.eq(c.part.end)){if(u===JSON.stringify(c.value)){i=new ee(i.whole,new se(c.part.begin,i.part.end),i.value),e.splice(o,1),a=!0;break}}else if(c.part.begin.eq(i.part.end)&&u==JSON.stringify(c.value)){i=new ee(i.whole,new se(i.part.begin,c.part.end),i.value),e.splice(o,1),a=!0;break}}}r=a}n.push(i)}return n})}firstCycle(e=!1){var n=this;return e||(n=n.stripContext()),n.query(new Rs(new se(j(0),j(1))))}get firstCycleValues(){return this.firstCycle().map(e=>e.value)}get showFirstCycle(){return this.firstCycle().map(e=>`${e.value}: ${e.whole.begin.toFraction()} - ${e.whole.end.toFraction()}`)}sortHapsByPart(){return this.withHaps(e=>e.sort((n,s)=>n.part.begin.sub(s.part.begin).or(n.part.end.sub(s.part.end)).or(n.whole.begin.sub(s.whole.begin).or(n.whole.end.sub(s.whole.end)))))}asNumber(){return this.fmap(pa)}_opIn(e,n){return this.fmap(n).appLeft(U(e))}_opOut(e,n){return this.fmap(n).appRight(U(e))}_opMix(e,n){return this.fmap(n).appBoth(U(e))}_opSqueeze(e,n){const s=U(e);return this.fmap(r=>s.fmap(i=>n(r)(i))).squeezeJoin()}_opSqueezeOut(e,n){const s=this;return U(e).fmap(r=>s.fmap(i=>n(i)(r))).squeezeJoin()}_opReset(e,n){return U(e).fmap(s=>this.fmap(r=>n(r)(s))).resetJoin()}_opRestart(e,n){return U(e).fmap(s=>this.fmap(r=>n(r)(s))).restartJoin()}_opPoly(e,n){const s=U(e);return this.fmap(r=>s.fmap(i=>n(i)(r))).polyJoin()}layer(...e){return jt(...e.map(n=>n(this)))}superimpose(...e){return this.stack(...e.map(n=>n(this)))}stack(...e){return jt(this,...e)}sequence(...e){return dn(this,...e)}seq(...e){return dn(this,...e)}cat(...e){return br(this,...e)}fastcat(...e){return Ge(this,...e)}slowcat(...e){return ns(this,...e)}onTrigger(e,n=!0){return this.withHap(s=>s.setContext({...s.context,onTrigger:(...r)=>{var i,a;(a=(i=s.context).onTrigger)==null||a.call(i,...r),e(...r)},dominantTrigger:s.context.dominantTrigger||n}))}log(e=s=>`[hap] ${s.showWhole(!0)}`,n=s=>({hap:s})){return this.onTrigger((...s)=>{ye(e(...s),void 0,n(...s))},!1)}logValues(e=n=>`[hap] ${fa(n,!0)}`){return this.log(n=>e(n.value))}drawLine(){return console.log(Ou(this)),this}unjoin(e,n=Fs){return e.withHap(s=>s.withValue(r=>r?n(this.ribbon(s.whole.begin,s.whole.duration)):this))}into(e,n){return this.unjoin(e,n).innerJoin()}};function QZ(t,e){let n=[];return e.forEach(s=>{const r=n.findIndex(([i])=>t(s,i));r===-1?n.push([s]):n[r].push(s)}),n}const qZ=(t,e)=>t.spanEquals(e);_.prototype.collect=function(){return this.withHaps(t=>QZ(qZ,t).map(e=>new ee(e[0].whole,e[0].part,e,{})))};const Yg=B("arpWith",(t,e)=>e.collect().fmap(n=>U(t(n))).innerJoin().withHap(n=>new ee(n.whole,n.part,n.value.value,n.combineContext(n.value)))),Hg=B("arp",(t,e)=>e.arpWith(n=>U(t).fmap(s=>n[s%n.length])),!1);function Li(t){return!Array.isArray(t)&&typeof t=="object"&&!UZ(t)}function $Z(t,e,n){return Li(t)||Li(e)?(Li(t)||(t={value:t}),Li(e)||(e={value:e}),OZ(t,e,n)):n(t,e)}(function(){const t={set:[(n,s)=>s],keep:[n=>n],keepif:[(n,s)=>s?n:void 0],add:[Ke((n,s)=>n+s)],sub:[Ke((n,s)=>n-s)],mul:[Ke((n,s)=>n*s)],div:[Ke((n,s)=>n/s)],mod:[Ke(qe)],pow:[Ke(Math.pow)],log2:[Ke(Math.log2)],band:[Ke((n,s)=>n&s)],bor:[Ke((n,s)=>n|s)],bxor:[Ke((n,s)=>n^s)],blshift:[Ke((n,s)=>n<<s)],brshift:[Ke((n,s)=>n>>s)],lt:[(n,s)=>n<s],gt:[(n,s)=>n>s],lte:[(n,s)=>n<=s],gte:[(n,s)=>n>=s],eq:[(n,s)=>n==s],eqt:[(n,s)=>n===s],ne:[(n,s)=>n!=s],net:[(n,s)=>n!==s],and:[(n,s)=>n&&s],or:[(n,s)=>n||s],func:[(n,s)=>s(n)]},e=["In","Out","Mix","Squeeze","SqueezeOut","Reset","Restart","Poly"];for(const[n,[s,r]]of Object.entries(t)){_.prototype["_"+n]=function(i){return this.fmap(a=>s(a,i))},Object.defineProperty(_.prototype,n,{get:function(){const i=this,a=(...o)=>i[n].in(...o);for(const o of e)a[o.toLowerCase()]=function(...u){var c=i;u=dn(u),r&&(c=r(c),u=r(u));var l;return n==="keepif"?(l=c["_op"+o](u,d=>m=>s(d,m)),l=l.removeUndefineds()):l=c["_op"+o](u,d=>m=>$Z(d,m,s)),l};return a.squeezein=a.squeeze,a}});for(const i of e)_.prototype[i.toLowerCase()]=function(...a){return this.set[i.toLowerCase()](a)}}_.prototype.struct=function(...n){return this.keepif.out(...n)},_.prototype.structAll=function(...n){return this.keep.out(...n)},_.prototype.mask=function(...n){return this.keepif.in(...n)},_.prototype.maskAll=function(...n){return this.keep.in(...n)},_.prototype.reset=function(...n){return this.keepif.reset(...n)},_.prototype.resetAll=function(...n){return this.keep.reset(...n)},_.prototype.restart=function(...n){return this.keepif.restart(...n)},_.prototype.restartAll=function(...n){return this.keep.restart(...n)}})();const jg=jt,Jg=jt,_g=mi,Ys=t=>new _(()=>[],t),zt=Ys(1),pn=Ys(0);function te(t){function e(s){return s.span.spanCycles.map(r=>new ee(j(r.begin).wholeCycle(),r,t))}const n=new _(e,1);return n.__pure=t,n}function ya(t){return t instanceof _||(t==null?void 0:t._Pattern)}function U(t){return ya(t)?t:eu&&typeof t=="string"?eu(t):te(t)}function qu(t){let e=te([]);for(const n of t)e=e.bind(s=>n.fmap(r=>s.concat([r])));return e}function jt(...t){t=t.map(s=>Array.isArray(s)?dn(...s):U(s));const e=s=>Ln(t.map(r=>r.query(s))),n=new _(e);return $e&&(n._steps=Xn(...t.map(s=>s._steps))),n}function $u(t,e){if(e=e.map(i=>Array.isArray(i)?dn(...i):U(i)),e.length===0)return zt;if(e.length===1)return e[0];const[n,...s]=e.map(i=>i._steps),r=$e?n.maximum(...s):void 0;return jt(...t(r,e))}function tc(...t){return $u((e,n)=>n.map(s=>s._steps.eq(e)?s:Ee(s,Ys(e.sub(s._steps)))),t)}function ec(...t){return $u((e,n)=>n.map(s=>s._steps.eq(e)?s:Ee(Ys(e.sub(s._steps)),s)),t)}function nc(...t){return $u((e,n)=>n.map(s=>{if(s._steps.eq(e))return s;const r=Ys(e.sub(s._steps).div(2));return Ee(r,s,r)}),t)}function Ug(t,...e){const[n,...s]=e.map(a=>a._steps),r=n.maximum(...s),i={centre:nc,left:tc,right:ec,expand:jt,repeat:(...a)=>mi(...a).steps(r)};return t.inhabit(i).fmap(a=>a(...e)).innerJoin().setSteps(r)}function ns(...t){if(t=t.map(s=>Array.isArray(s)?Ge(...s):U(s)),t.length==1)return t[0];const e=function(s){const r=s.span,i=qe(r.begin.sam(),t.length),a=t[i];if(!a)return[];const o=r.begin.floor().sub(r.begin.div(t.length).floor());return a.withHapTime(u=>u.add(o)).query(s.setSpan(r.withTime(u=>u.sub(o))))},n=$e?Xn(...t.map(s=>s._steps)):void 0;return new _(e).splitQueries().setSteps(n)}function ba(...t){t=t.map(U);const e=function(n){var r;const s=Math.floor(n.span.begin)%t.length;return((r=t[s])==null?void 0:r.query(n))||[]};return new _(e).splitQueries()}function br(...t){return ns(...t)}function Og(...t){const e=t.reduce((n,[s])=>n+s,0);return t=t.map(([n,s])=>[n,s.fast(n)]),Ee(...t).slow(e)}function Qg(...t){let e=j(0);for(let n of t)n.length==2&&n.unshift(e),e=n[1];return jt(...t.map(([n,s,r])=>te(U(r)).compress(j(n).div(e),j(s).div(e)))).slow(e).innerJoin()}function Ge(...t){let e=ns(...t);return t.length>1&&(e=e._fast(t.length),e._steps=t.length),t.length==1&&t[0].__steps_source&&(t._steps=t[0]._steps),e}function dn(...t){return Ge(...t)}function sc(...t){return Ge(...t)}function nu(t){return Array.isArray(t)?t.length==0?[zt,0]:t.length==1?nu(t[0]):[Ge(...t.map(e=>nu(e)[0])),t.length]:[U(t),1]}const qg=Zt((t,e)=>U(e).mask(t)),$g=Zt((t,e)=>U(e).struct(t)),t2=Zt((t,e)=>U(e).superimpose(...t)),e2=Zt((t,e)=>U(e).withValue(t)),n2=Zt((t,e)=>U(e).bind(t)),s2=Zt((t,e)=>U(e).innerBind(t)),r2=Zt((t,e)=>U(e).outerBind(t)),i2=Zt((t,e)=>U(e).squeezeBind(t)),a2=Zt((t,e)=>U(e).stepBind(t)),o2=Zt((t,e)=>U(e).polyBind(t)),u2=Zt((t,e)=>U(e).set(t)),c2=Zt((t,e)=>U(e).keep(t)),l2=Zt((t,e)=>U(e).keepif(t)),h2=Zt((t,e)=>U(e).add(t)),p2=Zt((t,e)=>U(e).sub(t)),d2=Zt((t,e)=>U(e).mul(t)),m2=Zt((t,e)=>U(e).div(t)),f2=Zt((t,e)=>U(e).mod(t)),y2=Zt((t,e)=>U(e).pow(t)),b2=Zt((t,e)=>U(e).band(t)),g2=Zt((t,e)=>U(e).bor(t)),M2=Zt((t,e)=>U(e).bxor(t)),C2=Zt((t,e)=>U(e).blshift(t)),x2=Zt((t,e)=>U(e).brshift(t)),P2=Zt((t,e)=>U(e).lt(t)),G2=Zt((t,e)=>U(e).gt(t)),X2=Zt((t,e)=>U(e).lte(t)),Z2=Zt((t,e)=>U(e).gte(t)),v2=Zt((t,e)=>U(e).eq(t)),w2=Zt((t,e)=>U(e).eqt(t)),F2=Zt((t,e)=>U(e).ne(t)),D2=Zt((t,e)=>U(e).net(t)),A2=Zt((t,e)=>U(e).and(t)),S2=Zt((t,e)=>U(e).or(t)),V2=Zt((t,e)=>U(e).func(t));function B(t,e,n=!0,s=!1,r=i=>i.innerJoin()){if(Array.isArray(t)){const o={};for(const u of t)o[u]=B(u,e,n,s,r);return o}const i=e.length;var a;return n?a=function(...o){o=o.map(U);const u=o[o.length-1];let c;if(i===1)c=e(u);else{const l=o.slice(0,-1);if(l.every(d=>d.__pure!=null)){const d=l.map(f=>f.__pure),m=l.filter(f=>f.__pure_loc).map(f=>f.__pure_loc);c=e(...d,u),c=c.withContext(f=>{const g=(f.locations||[]).concat(m);return{...f,locations:g}})}else{const[d,...m]=l;let f=(...g)=>e(...g,u);f=Zt(f,null,i-1),c=r(m.reduce((g,y)=>g.appLeft(y),d.fmap(f)))}}return s&&(c._steps=u._steps),c}:a=function(...o){o=o.map(U);const u=e(...o);return s&&(u._steps=o[o.length-1]._steps),u},_.prototype[t]=function(...o){if(i===2&&o.length!==1)o=[dn(...o)];else if(i!==o.length+1)throw new Error(`.${t}() expects ${i-1} inputs but got ${o.length}.`);return o=o.map(U),a(...o,this)},i>1&&(_.prototype["_"+t]=function(...o){const u=e(...o,this);return s&&u.setSteps(this._steps),u}),Zt(a,null,i)}function Pr(t,e,n=!0,s=!1,r=i=>i.stepJoin()){return B(t,e,n,s,r)}const L2=B("round",function(t){return t.asNumber().fmap(e=>Math.round(e))}),k2=B("floor",function(t){return t.asNumber().fmap(e=>Math.floor(e))}),E2=B("ceil",function(t){return t.asNumber().fmap(e=>Math.ceil(e))}),W2=B("toBipolar",function(t){return t.fmap(e=>e*2-1)}),z2=B("fromBipolar",function(t){return t.fmap(e=>(e+1)/2)}),R2=B("range",function(t,e,n){return n.mul(e-t).add(t)}),B2=B("rangex",function(t,e,n){return n._range(Math.log(t),Math.log(e)).fmap(Math.exp)}),T2=B("range2",function(t,e,n){return n.fromBipolar()._range(t,e)}),N2=B("ratio",t=>t.fmap(e=>Array.isArray(e)?e.slice(1).reduce((n,s)=>n/s,e[0]):e)),I2=B("compress",function(t,e,n){return t=j(t),e=j(e),t.gt(e)||t.gt(1)||e.gt(1)||t.lt(0)||e.lt(0)?zt:n._fastGap(j(1).div(e.sub(t)))._late(t)}),{compressSpan:K2,compressspan:Y2}=B(["compressSpan","compressspan"],function(t,e){return e._compress(t.begin,t.end)}),{fastGap:H2,fastgap:j2}=B(["fastGap","fastgap"],function(t,e){const n=function(r){const i=r.begin.sam(),a=r.begin.sub(i).mul(t).min(1),o=r.end.sub(i).mul(t).min(1);if(!(a>=1))return new se(i.add(a),i.add(o))},s=function(r){const i=r.part.begin,a=r.part.end,o=i.sam(),u=i.sub(o).div(t).min(1),c=a.sub(o).div(t).min(1),l=new se(o.add(u),o.add(c)),d=r.whole?new se(l.begin.sub(i.sub(r.whole.begin).div(t)),l.end.add(r.whole.end.sub(a).div(t))):void 0;return new ee(d,l,r.value,r.context)};return e.withQuerySpanMaybe(n).withHap(s).splitQueries()}),J2=B("focus",function(t,e,n){return t=j(t),e=j(e),n._early(t.sam())._fast(j(1).div(e.sub(t)))._late(t)}),{focusSpan:_2,focusspan:U2}=B(["focusSpan","focusspan"],function(t,e){return e._focus(t.begin,t.end)}),O2=B("ply",function(t,e){const n=e.fmap(s=>te(s)._fast(t)).squeezeJoin();return $e&&(n._steps=j(t).mulmaybe(e._steps)),n}),{fast:Q2,density:KL}=B(["fast","density"],function(t,e){return t===0?zt:(t=j(t),e.withQueryTime(n=>n.mul(t)).withHapTime(n=>n.div(t)).setSteps(e._steps))},!0,!0),q2=B("hurry",function(t,e){return e._fast(t).mul(te({speed:t}))}),{slow:$2,sparsity:tM}=B(["slow","sparsity"],function(t,e){return t===0?zt:e._fast(j(1).div(t))}),eM=B("inside",function(t,e,n){return e(n._slow(t))._fast(t)}),nM=B("outside",function(t,e,n){return e(n._fast(t))._slow(t)}),sM=B("lastOf",function(t,e,n){const s=Array(t-1).fill(n);return s.push(e(n)),ba(...s)}),{firstOf:rM,every:iM}=B(["firstOf","every"],function(t,e,n){const s=Array(t-1).fill(n);return s.unshift(e(n)),ba(...s)}),aM=B("apply",function(t,e){return t(e)}),oM=B("cpm",function(t,e){return e._fast(t/60/1)}),uM=B("early",function(t,e){return t=j(t),e.withQueryTime(n=>n.add(t)).withHapTime(n=>n.sub(t))},!0,!0),rc=B("late",function(t,e){return t=j(t),e._early(j(0).sub(t))},!0,!0),cM=B("zoom",function(t,e,n){var i;if(e=j(e),t=j(t),t.gte(e))return pn;const s=e.sub(t),r=$e?(i=n._steps)==null?void 0:i.mulmaybe(s):void 0;return n.withQuerySpan(a=>a.withCycle(o=>o.mul(s).add(t))).withHapSpan(a=>a.withCycle(o=>o.sub(t).div(s))).splitQueries().setSteps(r)}),{zoomArc:lM,zoomarc:hM}=B(["zoomArc","zoomarc"],function(t,e){return e.zoom(t.begin,t.end)}),pM=B("bite",(t,e,n)=>e.fmap(s=>r=>{const i=j(s).div(r).mod(1),a=i.add(j(1).div(r));return n.zoom(i,a)}).appLeft(t).squeezeJoin(),!1),dM=B("linger",function(t,e){return t==0?zt:t<0?e._zoom(t.add(1),1)._slow(t):e._zoom(0,t)._slow(t)},!0,!0),{segment:mM,seg:fM}=B(["segment","seg"],function(t,e){return e.struct(te(!0)._fast(t)).setSteps(t)}),yM=B("swingBy",(t,e,n)=>n.inside(e,rc(sc(0,t/2)))),bM=B("swing",(t,e)=>e.swingBy(1/3,t)),{invert:gM,inv:MM}=B(["invert","inv"],function(t){return t.fmap(e=>!e)},!0,!0),CM=B("when",function(t,e,n){return t?e(n):n}),xM=B("off",function(t,e,n){return jt(n,e(n.late(t)))}),PM=B("brak",function(t){return t.when(ns(!1,!0),e=>Ge(e,zt)._late(.25))}),ic=B("rev",function(t){const e=function(n){const s=n.span,r=s.begin.sam(),i=s.begin.nextSam(),a=function(o){const u=o.withTime(l=>r.add(i.sub(l))),c=u.begin;return u.begin=u.end,u.end=c,u};return t.query(n.setSpan(a(s))).map(o=>o.withSpan(a))};return new _(e).splitQueries()},!1,!0),GM=B("pressBy",function(t,e){return e.fmap(n=>te(n).compress(t,1)).squeezeJoin()}),XM=B("press",function(t){return t._pressBy(.5)});_.prototype.hush=function(){return zt};const ZM=B("palindrome",function(t){return t.lastOf(2,ic)},!0,!0),{juxBy:vM,juxby:wM}=B(["juxBy","juxby"],function(t,e,n){t/=2;const s=function(a,o,u){return o in a?a[o]:u},r=n.withValue(a=>Object.assign({},a,{pan:s(a,"pan",.5)-t})),i=e(n.withValue(a=>Object.assign({},a,{pan:s(a,"pan",.5)+t})));return jt(r,i).setSteps($e?Xn(r._steps,i._steps):void 0)}),FM=B("jux",function(t,e){return e._juxBy(1,t,e)}),{echoWith:DM,echowith:AM,stutWith:SM,stutwith:VM}=B(["echoWith","echowith","stutWith","stutwith"],function(t,e,n,s){return jt(...xr(0,t-1).map(r=>n(s.late(j(e).mul(r)),r)))}),LM=B("echo",function(t,e,n,s){return s._echoWith(t,e,(r,i)=>r.gain(Math.pow(n,i)))}),kM=B("stut",function(t,e,n,s){return s._echoWith(t,n,(r,i)=>r.gain(Math.pow(e,i)))}),ac=B("applyN",function(t,e,n){let s=n;for(let r=0;r<t;r++)s=e(s);return s}),EM=B(["plyWith","plywith"],function(t,e,n){const s=n.fmap(r=>br(...xr(0,t-1).map(i=>ac(i,e,r)))._fast(t)).squeezeJoin();return $e&&(s._steps=j(t).mulmaybe(n._steps)),s}),WM=B(["plyForEach","plyforeach"],function(t,e,n){const s=n.fmap(r=>br(br(te(r),...xr(1,t-1).map(i=>e(te(r),i))))._fast(t)).squeezeJoin();return $e&&(s._steps=j(t).mulmaybe(n._steps)),s}),oc=function(t,e,n=!1){return t=j(t),ns(...xr(0,t.sub(1)).map(s=>n?e.late(j(s).div(t)):e.early(j(s).div(t))))},zM=B("iter",function(t,e){return oc(t,e,!1)},!0,!0),{iterBack:RM,iterback:BM}=B(["iterBack","iterback"],function(t,e){return oc(t,e,!0)},!0,!0),{repeatCycles:TM}=B("repeatCycles",function(t,e){return new _(function(n){const s=n.span.begin.sam(),r=s.div(t).sam(),i=s.sub(r);return n=n.withSpan(a=>a.withTime(o=>o.sub(i))),e.query(n).map(a=>a.withSpan(o=>o.withTime(u=>u.add(i))))}).splitQueries()},!0,!0),uc=function(t,e,n,s=!1,r=!1){const i=Array(t-1).fill(!1);i.unshift(!0);const a=oc(t,dn(...i),!s);return r||(n=n.repeatCycles(t)),n.when(a,e)},{chunk:NM,slowchunk:IM,slowChunk:KM}=B(["chunk","slowchunk","slowChunk"],function(t,e,n){return uc(t,e,n,!1,!1)},!0,!0),{chunkBack:YM,chunkback:HM}=B(["chunkBack","chunkback"],function(t,e,n){return uc(t,e,n,!0)},!0,!0),{fastchunk:jM,fastChunk:JM}=B(["fastchunk","fastChunk"],function(t,e,n){return uc(t,e,n,!1,!0)},!0,!0),{chunkinto:_M,chunkInto:UM}=B(["chunkinto","chunkInto"],function(t,e,n){return n.into(Ge(!0,...Array(t-1).fill(!1))._iterback(t),e)}),{chunkbackinto:OM,chunkBackInto:QM}=B(["chunkbackinto","chunkBackInto"],function(t,e,n){return n.into(Ge(!0,...Array(t-1).fill(!1))._iter(t)._early(1),e)}),qM=B("bypass",function(t,e){return t=!!parseInt(t),t?zt:e},!0,!0),{ribbon:$M,rib:t3}=B(["ribbon","rib"],(t,e,n)=>n.early(t).restart(te(1).slow(e))),e3=B("hsla",(t,e,n,s,r)=>r.color(`hsla(${t}turn,${e*100}%,${n*100}%,${s})`)),n3=B("hsl",(t,e,n,s)=>s.color(`hsl(${t}turn,${e*100}%,${n*100}%)`));_.prototype.tag=function(t){return this.withContext(e=>({...e,tags:(e.tags||[]).concat([t])}))};const s3=B("filter",(t,e)=>e.withHaps(n=>n.filter(t))),r3=B("filterWhen",(t,e)=>e.filter(n=>t(n.whole.begin))),i3=B("within",(t,e,n,s)=>jt(n(s.filterWhen(r=>r.cyclePos()>=t&&r.cyclePos()<=e)),s.filterWhen(r=>r.cyclePos()<t||r.cyclePos()>e)));_.prototype.stepJoin=function(){const t=this,e=Ee(...Ui(Oi(t.queryArc(0,1))))._steps,n=function(s){const r=t.early(s.span.begin.sam()).query(s.setSpan(new se(j(0),j(1))));return Ee(...Ui(Oi(r))).query(s)};return new _(n,e)};_.prototype.stepBind=function(t){return this.fmap(t).stepJoin()};function Ui(t){const e=t.filter((i,a)=>a.hasSteps).reduce((i,a)=>i.add(a),j(0)),n=Ks(t.map((i,a)=>a._steps)).reduce((i,a)=>i.add(a),j(0)),s=e.eq(0)?void 0:n.div(e);function r(i,a){return a._steps===void 0?[i.mulmaybe(s),a]:[a._steps,a]}return t.map(i=>r(...i))}function Oi(t){const e=Ln(t.map(s=>[s.part.begin,s.part.end])),n=Ku([j(0),j(1),...e]);return Iu(n).map(s=>[s[1].sub(s[0]),jt(...cc(new se(...s),t).map(r=>r.value.withHap(i=>i.setContext(i.combineContext(r)))))])}function cc(t,e){return Ks(e.map(n=>lc(t,n)))}function lc(t,e){const n=t.intersection(e.part);if(n!=null)return new ee(e.whole,n,e.value,e.context)}const hc=B("pace",function(t,e){return e._steps===void 0?e:e._steps.eq(j(0))?pn:e._fast(j(t).div(e._steps)).setSteps(t)});function pc(t,...e){const n=e.map(r=>nu(r));if(n.length==0)return zt;t==0&&(t=n[0][1]);const s=[];for(const r of n)r[1]!=0&&(t==r[1]?s.push(r[0]):s.push(r[0]._fast(j(t).div(j(r[1])))));return jt(...s)}function mi(...t){if(Array.isArray(t[0]))return pc(0,...t);if(t=t.filter(s=>s.hasSteps),t.length==0)return zt;const e=Xn(...t.map(s=>s._steps));if(e.eq(j(0)))return pn;const n=jt(...t.map(s=>s.pace(e)));return n._steps=e,n}function Ee(...t){if(t.length===0)return pn;const e=a=>Array.isArray(a)?a:[a._steps??1,a];if(t=t.map(e),t.find(a=>a[0]===void 0)){const a=t.map(u=>u[0]).filter(u=>u!==void 0);if(a.length===0)return Ge(...t.map(u=>u[1]));if(a.length===t.length)return pn;const o=a.reduce((u,c)=>u.add(c),j(0)).div(a.length);for(let u of t)u[0]===void 0&&(u[0]=o)}if(t.length==1)return U(t[0][1]).withSteps(a=>t[0][0]);const n=t.map(a=>a[0]).reduce((a,o)=>a.add(o),j(0));let s=j(0);const r=[];for(const[a,o]of t){if(j(a).eq(0))continue;const u=s.add(a);r.push(U(o)._compress(s.div(n),u.div(n))),s=u}const i=jt(...r);return i._steps=n,i}function dc(...t){t=t.map(r=>Array.isArray(r)?r.map(U):[U(r)]);const e=Xn(...t.map(r=>j(r.length)));let n=[];for(let r=0;r<e;++r)n.push(...t.map(i=>i.length==0?zt:i[r%i.length]));n=n.filter(r=>r.hasSteps&&r._steps>0);const s=n.reduce((r,i)=>r.add(i._steps),j(0));return n=Ee(...n),n._steps=s,n}const mc=Pr("take",function(t,e){if(!e.hasSteps||e._steps.lte(0)||(t=j(t),t.eq(0)))return pn;const n=t<0;n&&(t=t.abs());const s=t.div(e._steps);return s.lte(0)?pn:s.gte(1)?e:n?e.zoom(j(1).sub(s),1):e.zoom(0,s)}),fc=Pr("drop",function(t,e){return e.hasSteps?(t=j(t),t.lt(0)?e.take(e._steps.add(t)):e.take(j(0).sub(e._steps.sub(t)))):pn}),yc=Pr("extend",function(t,e){return e.fast(t).expand(t)}),a3=Pr("replicate",function(t,e){return e.repeatCycles(t).fast(t).expand(t)}),bc=Pr("expand",function(t,e){return e.withSteps(n=>n.mul(j(t)))}),gc=Pr("contract",function(t,e){return e.withSteps(n=>n.div(j(t)))});_.prototype.shrinklist=function(t){const e=this;if(!e.hasSteps)return[e];let[n,s]=Array.isArray(t)?t:[t,e._steps];if(n=j(n),s===0||n===0)return[e];const r=n>0,i=[];if(r){const a=j(1).div(e._steps).mul(n);for(let o=0;o<s;++o){const u=a.mul(o);if(u.gt(1))break;i.push([u,1])}}else{n=j(0).sub(n);const a=j(1).div(e._steps).mul(n);for(let o=0;o<s;++o){const u=j(1).sub(a.mul(o));if(u.lt(0))break;i.push([j(0),u])}}return i.map(a=>e.zoom(...a))};const Mc=(t,e)=>e.shrinklist(t),Cc=B("shrink",function(t,e){if(!e.hasSteps)return pn;const n=e.shrinklist(t),s=Ee(...n);return s._steps=n.reduce((r,i)=>r.add(i._steps),j(0)),s},!0,!1,t=>t.stepJoin()),o3=B("grow",function(t,e){if(!e.hasSteps)return pn;const n=e.shrinklist(j(0).sub(t));n.reverse();const s=Ee(...n);return s._steps=n.reduce((r,i)=>r.add(i._steps),j(0)),s},!0,!1,t=>t.stepJoin()),xc=function(t,...e){return t.tour(...e)};_.prototype.tour=function(...t){return Ee(...[].concat(...t.map((e,n)=>[...t.slice(0,t.length-n),this,...t.slice(t.length-n)]),this,...t))};const Pc=function(...t){t=t.filter(s=>s.hasSteps);const e=ns(...t.map(s=>s._slow(s._steps))),n=Xn(...t.map(s=>s._steps));return e._fast(n).setSteps(n)},u3=Ee,ga=Ee,c3=Ee,l3=dc,h3=mi;_.prototype.s_polymeter=_.prototype.polymeter;const p3=Cc;_.prototype.s_taper=_.prototype.shrink;const d3=Mc;_.prototype.s_taperlist=_.prototype.shrinklist;const m3=mc;_.prototype.s_add=_.prototype.take;const f3=fc;_.prototype.s_sub=_.prototype.drop;const y3=bc;_.prototype.s_expand=_.prototype.expand;const b3=yc;_.prototype.s_extend=_.prototype.extend;const g3=gc;_.prototype.s_contract=_.prototype.contract;const M3=xc;_.prototype.s_tour=_.prototype.tour;const C3=Pc;_.prototype.s_zip=_.prototype.zip;const x3=hc;_.prototype.steps=_.prototype.pace;const P3=B("chop",function(t,e){const n=Array.from({length:t},(i,a)=>a).map(i=>({begin:i/t,end:(i+1)/t})),s=function(i,a){if("begin"in i&&"end"in i&&i.begin!==void 0&&i.end!==void 0){const o=i.end-i.begin;a={begin:i.begin+a.begin*o,end:i.begin+a.end*o}}return Object.assign({},i,a)},r=function(i){return dn(n.map(a=>s(i,a)))};return e.squeezeBind(r).setSteps($e?j(t).mulmaybe(e._steps):void 0)}),G3=B("striate",function(t,e){const n=Array.from({length:t},(r,i)=>i).map(r=>({begin:r/t,end:(r+1)/t})),s=ns(...n);return e.set(s)._fast(t).setSteps($e?j(t).mulmaybe(e._steps):void 0)}),X3=function(t,e,n=.5){return e.speed(1/t*n).unit("c").slow(t)},Gc=B("slice",function(t,e,n){return t.innerBind(s=>e.outerBind(r=>n.outerBind(i=>{i=i instanceof Object?i:{s:i};const a=Array.isArray(s)?s[r]:r/s,o=Array.isArray(s)?s[r+1]:(r+1)/s;return te({begin:a,end:o,_slices:s,...i})}))).setSteps(e._steps)},!1);_.prototype.onTriggerTime=function(t){return this.onTrigger((e,n,s,r)=>{const i=r-n;window.setTimeout(()=>{t(e)},i*1e3)},!1)};const Z3=B("splice",function(t,e,n){const s=Gc(t,e,n);return new _(r=>{const i=r.controls._cps||1;return s.query(r).map(a=>a.withValue(o=>({speed:i/o._slices/a.whole.duration*(o.speed||1),unit:"c",...o})))}).setSteps(e._steps)},!1),{loopAt:v3,loopat:w3}=B(["loopAt","loopat"],function(t,e){const n=e._steps?e._steps.div(t):void 0;return new _(s=>X3(t,e,s.controls._cps).query(s),n)}),F3=B("fit",t=>t.withHaps((e,n)=>e.map(s=>s.withValue(r=>{const i=("end"in r?r.end:1)-("begin"in r?r.begin:0);return{...r,speed:(n.controls._cps||1)/s.whole.duration*i,unit:"c"}})))),{loopAtCps:D3,loopatcps:A3}=B(["loopAtCps","loopatcps"],function(t,e,n){return X3(t,n,e)}),S3=t=>te(1).withValue(()=>U(t())).innerJoin();let ay=t=>t<.5?1:1-(t-.5)/.5,Xc=(t,e,n)=>{e=U(e),t=U(t),n=U(n);let s=e.fmap(i=>({gain:ay(i)})),r=e.fmap(i=>({gain:ay(1-i)}));return jt(t.mul(s),n.mul(r))};_.prototype.xfade=function(t,e){return Xc(this,t,e)};const tv=t=>(e,n,s)=>{e=j(e).mod(n),n=j(n);const r=e.div(n),i=e.add(1).div(n);return t(s.fmap(a=>te(a)._compress(r,i)))},{beat:V3}=B(["beat"],tv(t=>t.innerJoin())),Ma=(t,e,n)=>{n=j(n);const s=j(1).div(t.length),r=o=>{const u=[];for(const[c,l]of o.entries())l&&u.push([j(c).div(o.length),l]);return u},i=pi(([o,u],[c,l])=>{const d=n.mul(c-o).add(o),m=d.add(s);return new se(d,m)},r(t),r(e));function a(o){const u=o.span.begin.sam(),c=o.span.cycleArc(),l=[];for(const d of i){const m=d.intersection(c);m!==void 0&&l.push(new ee(d.withTime(f=>f.add(u)),m.withTime(f=>f.add(u)),!0))}return l}return new _(a).splitQueries()},L3=(t,e,n)=>(t=U(t),e=U(e),n=U(n),t.innerBind(s=>e.innerBind(r=>n.innerBind(i=>Ma(s,r,i))))),ev=["scurve","soft","hard","cubic","diode","asym","fold","sinefold","chebyshev"];for(const t of ev)_.prototype[t]=function(e){const n=U(e).fmap(s=>Array.isArray(s)?[...s,t]:[s,1,t]);return this.distort(n)};function fi(t){let e=Array.isArray(t);t=e?t:[t];const n=t[0],s=i=>{let a;if(typeof i=="object"&&i.value!==void 0&&(a={...i},i=i.value,delete a.value),e&&Array.isArray(i)){const o=a||{};return i.forEach((u,c)=>{c<t.length&&(o[t[c]]=u)}),o}else return a?(a[n]=i,a):{[n]:i}},r=function(i,a){return a?typeof i>"u"?a.fmap(s):a.set(U(i).withValue(s)):U(i).withValue(s)};return _.prototype[n]=function(i){return r(i,this)},r}const ni=new Map;function Zc(t){return ni.has(t)}function D(t,...e){const n=Array.isArray(t)?t[0]:t;let s={};return s[n]=fi(t),ni.set(n,n),e.forEach(r=>{s[r]=s[n],ni.set(r,n),_.prototype[r]=_.prototype[n]}),s}const{s:vc,sound:wc}=D(["s","n","gain"],"sound"),{wt:Fc,wavetablePosition:Dc}=D("wt","wavetablePosition"),{wtenv:Ac}=D("wtenv"),{wtattack:Sc,wtatt:Vc}=D("wtattack","wtatt"),{wtdecay:Lc,wtdec:kc}=D("wtdecay","wtdec"),{wtsustain:Ec,wtsus:Wc}=D("wtsustain","wtsus"),{wtrelease:zc,wtrel:Rc}=D("wtrelease","wtrel"),{wtrate:Bc}=D("wtrate"),{wtsync:Tc}=D("wtsync"),{wtdepth:Nc}=D("wtdepth"),{wtshape:Ic}=D("wtshape"),{wtdc:Kc}=D("wtdc"),{wtskew:Yc}=D("wtskew"),{warp:Hc,wavetableWarp:jc}=D("warp","wavetableWarp"),{warpattack:Jc,warpatt:_c}=D("warpattack","warpatt"),{warpdecay:Uc,warpdec:Oc}=D("warpdecay","warpdec"),{warpsustain:Qc,warpsus:qc}=D("warpsustain","warpsus"),{warprelease:$c,warprel:tl}=D("warprelease","warprel"),{warprate:el}=D("warprate"),{warpdepth:nl}=D("warpdepth"),{warpshape:sl}=D("warpshape"),{warpdc:rl}=D("warpdc"),{warpskew:il}=D("warpskew"),{warpmode:al,wavetableWarpMode:ol}=D("warpmode","wavetableWarpMode"),{wtphaserand:ul,wavetablePhaseRand:cl}=D("wtphaserand","wavetablePhaseRand"),{warpenv:ll}=D("warpenv"),{warpsync:hl}=D("warpsync"),{source:pl,src:dl}=D("source","src"),{n:ml}=D("n"),{note:fl}=D(["note","n"]),{accelerate:yl}=D("accelerate"),{velocity:bl}=D("velocity"),{gain:gl}=D("gain"),{postgain:Ml}=D("postgain"),{amp:Cl}=D("amp"),{attack:xl,att:Pl}=D("attack","att"),{fmh:Gl}=D(["fmh","fmi"],"fmh"),{fmi:Xl,fm:Zl}=D(["fmi","fmh"],"fm"),{fmenv:vl}=D("fmenv"),{fmattack:wl}=D("fmattack"),{fmwave:Fl}=D("fmwave"),{fmdecay:Dl}=D("fmdecay"),{fmsustain:Al}=D("fmsustain"),{fmrelease:Sl}=D("fmrelease"),{fmvelocity:Vl}=D("fmvelocity"),{bank:Ll}=D("bank"),{chorus:kl}=D("chorus"),{analyze:El}=D("analyze"),{fft:Wl}=D("fft"),{decay:zl,dec:Rl}=D("decay","dec"),{sustain:Bl,sus:Tl}=D("sustain","sus"),{release:Nl,rel:Il}=D("release","rel"),{hold:Kl}=D("hold"),{bandf:Yl,bpf:Hl,bp:jl}=D(["bandf","bandq","bpenv"],"bpf","bp"),{bandq:Jl,bpq:_l}=D("bandq","bpq"),{begin:Ul}=D("begin"),{end:Ol}=D("end"),{loop:Ql}=D("loop"),{loopBegin:ql,loopb:$l}=D("loopBegin","loopb"),{loopEnd:th,loope:eh}=D("loopEnd","loope"),{crush:nh}=D("crush"),{coarse:sh}=D("coarse"),{tremolo:rh}=D(["tremolo","tremolodepth","tremoloskew","tremolophase"],"trem"),{tremolosync:ih}=D(["tremolosync","tremolodepth","tremoloskew","tremolophase"],"tremsync"),{tremolodepth:ah}=D("tremolodepth","tremdepth"),{tremoloskew:oh}=D("tremoloskew","tremskew"),{tremolophase:uh}=D("tremolophase","tremphase"),{tremoloshape:ch}=D("tremoloshape","tremshape"),{drive:lh}=D("drive"),{duck:hh}=D("duckorbit","duck"),{duckdepth:ph}=D("duckdepth"),{duckonset:dh}=D("duckonset","duckons"),{duckattack:mh}=D("duckattack","duckatt"),{byteBeatExpression:fh,bbexpr:yh}=D("byteBeatExpression","bbexpr"),{byteBeatStartTime:bh,bbst:gh}=D("byteBeatStartTime","bbst"),{channels:Mh,ch:Ch}=D("channels","ch"),{pw:xh}=D(["pw","pwrate","pwsweep"]),{pwrate:Ph}=D("pwrate"),{pwsweep:Gh}=D("pwsweep"),{phaserrate:Xh,ph:Zh,phaser:vh}=D(["phaserrate","phaserdepth","phasercenter","phasersweep"],"ph","phaser"),{phasersweep:wh,phs:Fh}=D("phasersweep","phs"),{phasercenter:Dh,phc:Ah}=D("phasercenter","phc"),{phaserdepth:Sh,phd:Vh,phasdp:Lh}=D("phaserdepth","phd","phasdp"),{channel:kh}=D("channel"),{cut:Eh}=D("cut"),{cutoff:Wh,ctf:zh,lpf:Rh,lp:Bh}=D(["cutoff","resonance","lpenv"],"ctf","lpf","lp"),{lpenv:Th,lpe:Nh}=D("lpenv","lpe"),{hpenv:Ih,hpe:Kh}=D("hpenv","hpe"),{bpenv:Yh,bpe:Hh}=D("bpenv","bpe"),{lpattack:jh,lpa:Jh}=D("lpattack","lpa"),{hpattack:_h,hpa:Uh}=D("hpattack","hpa"),{bpattack:Oh,bpa:Qh}=D("bpattack","bpa"),{lpdecay:qh,lpd:$h}=D("lpdecay","lpd"),{hpdecay:tp,hpd:ep}=D("hpdecay","hpd"),{bpdecay:np,bpd:sp}=D("bpdecay","bpd"),{lpsustain:rp,lps:ip}=D("lpsustain","lps"),{hpsustain:ap,hps:op}=D("hpsustain","hps"),{bpsustain:up,bps:cp}=D("bpsustain","bps"),{lprelease:lp,lpr:hp}=D("lprelease","lpr"),{hprelease:pp,hpr:dp}=D("hprelease","hpr"),{bprelease:mp,bpr:fp}=D("bprelease","bpr"),{ftype:yp}=D("ftype"),{fanchor:bp}=D("fanchor"),{vib:gp,vibrato:Mp,v:Cp}=D(["vib","vibmod"],"vibrato","v"),{noise:xp}=D("noise"),{vibmod:Pp,vmod:Gp}=D(["vibmod","vib"],"vmod"),{hcutoff:Xp,hpf:Zp,hp:vp}=D(["hcutoff","hresonance","hpenv"],"hpf","hp"),{hresonance:wp,hpq:Fp}=D("hresonance","hpq"),{resonance:Dp,lpq:Ap}=D("resonance","lpq"),{djf:Sp}=D("djf"),{delay:Vp}=D(["delay","delaytime","delayfeedback"]),{delayfeedback:Lp,delayfb:kp,dfb:Ep}=D("delayfeedback","delayfb","dfb"),{delayspeed:Wp}=D("delayspeed"),{delaytime:zp,delayt:Rp,dt:Bp}=D("delaytime","delayt","dt"),{delaysync:Tp}=D("delaysync"),{lock:Np}=D("lock"),{detune:Ip,det:Kp}=D("detune","det"),{unison:Yp}=D("unison"),{spread:Hp}=D("spread"),{dry:jp}=D("dry"),{fadeTime:Jp,fadeOutTime:_p}=D("fadeTime","fadeOutTime"),{fadeInTime:Up}=D("fadeInTime"),{freq:Op}=D("freq"),{pattack:Qp,patt:qp}=D("pattack","patt"),{pdecay:$p,pdec:td}=D("pdecay","pdec"),{psustain:ed,psus:nd}=D("psustain","psus"),{prelease:sd,prel:rd}=D("prelease","prel"),{penv:id}=D("penv"),{pcurve:ad}=D("pcurve"),{panchor:od}=D("panchor"),{gate:ud,gat:cd}=D("gate","gat"),{leslie:ld}=D("leslie"),{lrate:hd}=D("lrate"),{lsize:pd}=D("lsize"),{activeLabel:dd}=D("activeLabel"),{label:md}=D(["label","activeLabel"]),{degree:fd}=D("degree"),{mtranspose:yd}=D("mtranspose"),{ctranspose:bd}=D("ctranspose"),{harmonic:gd}=D("harmonic"),{stepsPerOctave:Md}=D("stepsPerOctave"),{octaveR:Cd}=D("octaveR"),{nudge:xd}=D("nudge"),{octave:Pd}=D("octave"),{orbit:Gd}=D("orbit"),{overgain:Xd}=D("overgain"),{overshape:Zd}=D("overshape"),{pan:vd}=D("pan"),{panspan:wd}=D("panspan"),{pansplay:Fd}=D("pansplay"),{panwidth:Dd}=D("panwidth"),{panorient:Ad}=D("panorient"),{rate:Sd}=D("rate"),{slide:Vd}=D("slide"),{semitone:Ld}=D("semitone"),{voice:kd}=D("voice"),{chord:Ed}=D("chord"),{dictionary:Wd,dict:zd}=D("dictionary","dict"),{anchor:Rd}=D("anchor"),{offset:Bd}=D("offset"),{octaves:Td}=D("octaves"),{mode:Nd}=D(["mode","anchor"]),{room:Id}=D(["room","size"]),{roomlp:Kd,rlp:Yd}=D("roomlp","rlp"),{roomdim:Hd,rdim:jd}=D("roomdim","rdim"),{roomfade:Jd,rfade:_d}=D("roomfade","rfade"),{ir:Ud,iresponse:Od}=D(["ir","i"],"iresponse"),{irspeed:Qd}=D("irspeed"),{irbegin:qd}=D("irbegin"),{roomsize:$d,size:t0,sz:e0,rsize:n0}=D("roomsize","size","sz","rsize"),{shape:s0}=D(["shape","shapevol"]),{distort:r0,dist:i0}=D(["distort","distortvol","distorttype"],"dist"),{distortvol:a0}=D("distortvol","distvol"),{distorttype:o0}=D("distorttype","disttype"),{compressor:u0}=D(["compressor","compressorRatio","compressorKnee","compressorAttack","compressorRelease"]),{compressorKnee:c0}=D("compressorKnee"),{compressorRatio:l0}=D("compressorRatio"),{compressorAttack:h0}=D("compressorAttack"),{compressorRelease:p0}=D("compressorRelease"),{speed:Ca}=D("speed"),{stretch:d0}=D("stretch"),{unit:m0}=D("unit"),{squiz:f0}=D("squiz"),{vowel:y0}=D("vowel"),{waveloss:b0}=D("waveloss"),{density:nv}=D("density"),{expression:g0}=D("expression"),{sustainpedal:M0}=D("sustainpedal"),{fshift:C0}=D("fshift"),{fshiftnote:x0}=D("fshiftnote"),{fshiftphase:P0}=D("fshiftphase"),{triode:G0}=D("triode"),{krush:X0}=D("krush"),{kcutoff:Z0}=D("kcutoff"),{octer:v0}=D("octer"),{octersub:w0}=D("octersub"),{octersubsub:F0}=D("octersubsub"),{ring:D0}=D("ring"),{ringf:A0}=D("ringf"),{ringdf:S0}=D("ringdf"),{freeze:V0}=D("freeze"),{xsdelay:L0}=D("xsdelay"),{tsdelay:k0}=D("tsdelay"),{real:E0}=D("real"),{imag:W0}=D("imag"),{enhance:z0}=D("enhance"),{partials:R0}=D("partials"),{comb:B0}=D("comb"),{smear:T0}=D("smear"),{scram:N0}=D("scram"),{binshift:I0}=D("binshift"),{hbrick:K0}=D("hbrick"),{lbrick:Y0}=D("lbrick"),{frameRate:H0}=D("frameRate"),{frames:j0}=D("frames"),{hours:J0}=D("hours"),{minutes:_0}=D("minutes"),{seconds:U0}=D("seconds"),{songPtr:O0}=D("songPtr"),{uid:Q0}=D("uid"),{val:q0}=D("val"),{cps:$0}=D("cps"),{clip:tm,legato:em}=D("clip","legato"),{duration:nm,dur:sm}=D("duration","dur"),{zrand:rm}=D("zrand"),{curve:im}=D("curve"),{deltaSlide:am}=D("deltaSlide"),{pitchJump:om}=D("pitchJump"),{pitchJumpTime:um}=D("pitchJumpTime"),{lfo:cm,repeatTime:lm}=D("lfo","repeatTime"),{znoise:hm}=D("znoise"),{zmod:pm}=D("zmod"),{zcrush:dm}=D("zcrush"),{zdelay:mm}=D("zdelay"),{zzfx:fm}=D("zzfx"),{color:ym,colour:bm}=D(["color","colour"]);let xa=(...t)=>t.reduce((e,n)=>Object.assign(e,{[n]:fi(n)}),{});const gm=B("adsr",(t,e)=>{t=Array.isArray(t)?t:[t];const[n,s,r,i]=t;return e.set({attack:n,decay:s,sustain:r,release:i})}),Mm=B("ad",(t,e)=>{t=Array.isArray(t)?t:[t];const[n,s=n]=t;return e.attack(n).decay(s)}),Cm=B("ds",(t,e)=>{t=Array.isArray(t)?t:[t];const[n,s=0]=t;return e.set({decay:n,sustain:s})}),xm=B("ar",(t,e)=>{t=Array.isArray(t)?t:[t];const[n,s=n]=t;return e.set({attack:n,release:s})}),{midichan:Pm}=D("midichan"),{midimap:Gm}=D("midimap"),{midiport:Xm}=D("midiport"),{midicmd:Zm}=D("midicmd"),vm=B("control",(t,e)=>{if(!Array.isArray(t))throw new Error("control expects an array of [ccn, ccv]");const[n,s]=t;return e.ccn(n).ccv(s)}),{ccn:wm}=D("ccn"),{ccv:Fm}=D("ccv"),{ctlNum:Dm}=D("ctlNum"),{nrpnn:Am}=D("nrpnn"),{nrpv:Sm}=D("nrpv"),{progNum:Vm}=D("progNum"),Lm=B("sysex",(t,e)=>{if(!Array.isArray(t))throw new Error("sysex expects an array of [id, data]");const[n,s]=t;return e.sysexid(n).sysexdata(s)}),{sysexid:km}=D("sysexid"),{sysexdata:Em}=D("sysexdata"),{midibend:Wm}=D("midibend"),{miditouch:zm}=D("miditouch"),{polyTouch:Rm}=D("polyTouch"),{oschost:Bm}=D("oschost"),{oscport:Tm}=D("oscport"),Pa=t=>ni.has(t)?ni.get(t):t,Nm=B("as",(t,e)=>(t=Array.isArray(t)?t:[t],e.fmap(n=>(n=Array.isArray(n)?n:[n],n=Object.fromEntries(t.map((s,r)=>[Pa(s),n[r]])),n)))),Im=B("scrub",(t,e)=>t.outerBind(n=>{Array.isArray(n)||(n=[n]);const[s,r=1]=n;return e.begin(s).mul(Ca(r)).clip(1)}),!1),k3=Object.freeze(Object.defineProperty({__proto__:null,accelerate:yl,activeLabel:dd,ad:Mm,adsr:gm,amp:Cl,analyze:El,anchor:Rd,ar:xm,as:Nm,att:Pl,attack:xl,bandf:Yl,bandq:Jl,bank:Ll,bbexpr:yh,bbst:gh,begin:Ul,binshift:I0,bp:jl,bpa:Qh,bpattack:Oh,bpd:sp,bpdecay:np,bpe:Hh,bpenv:Yh,bpf:Hl,bpq:_l,bpr:fp,bprelease:mp,bps:cp,bpsustain:up,byteBeatExpression:fh,byteBeatStartTime:bh,ccn:wm,ccv:Fm,ch:Ch,channel:kh,channels:Mh,chord:Ed,chorus:kl,clip:tm,coarse:sh,color:ym,colour:bm,comb:B0,compressor:u0,compressorAttack:h0,compressorKnee:c0,compressorRatio:l0,compressorRelease:p0,control:vm,cps:$0,createParam:fi,createParams:xa,crush:nh,ctf:zh,ctlNum:Dm,ctranspose:bd,curve:im,cut:Eh,cutoff:Wh,dec:Rl,decay:zl,degree:fd,delay:Vp,delayfb:kp,delayfeedback:Lp,delayspeed:Wp,delaysync:Tp,delayt:Rp,delaytime:zp,deltaSlide:am,density:nv,det:Kp,detune:Ip,dfb:Ep,dict:zd,dictionary:Wd,dist:i0,distort:r0,distorttype:o0,distortvol:a0,djf:Sp,drive:lh,dry:jp,ds:Cm,dt:Bp,duck:hh,duckattack:mh,duckdepth:ph,duckonset:dh,dur:sm,duration:nm,end:Ol,enhance:z0,expression:g0,fadeInTime:Up,fadeOutTime:_p,fadeTime:Jp,fanchor:bp,fft:Wl,fm:Zl,fmattack:wl,fmdecay:Dl,fmenv:vl,fmh:Gl,fmi:Xl,fmrelease:Sl,fmsustain:Al,fmvelocity:Vl,fmwave:Fl,frameRate:H0,frames:j0,freeze:V0,freq:Op,fshift:C0,fshiftnote:x0,fshiftphase:P0,ftype:yp,gain:gl,gat:cd,gate:ud,getControlName:Pa,harmonic:gd,hbrick:K0,hcutoff:Xp,hold:Kl,hours:J0,hp:vp,hpa:Uh,hpattack:_h,hpd:ep,hpdecay:tp,hpe:Kh,hpenv:Ih,hpf:Zp,hpq:Fp,hpr:dp,hprelease:pp,hps:op,hpsustain:ap,hresonance:wp,imag:W0,ir:Ud,irbegin:qd,iresponse:Od,irspeed:Qd,isControlName:Zc,kcutoff:Z0,krush:X0,label:md,lbrick:Y0,legato:em,leslie:ld,lfo:cm,lock:Np,loop:Ql,loopBegin:ql,loopEnd:th,loopb:$l,loope:eh,lp:Bh,lpa:Jh,lpattack:jh,lpd:$h,lpdecay:qh,lpe:Nh,lpenv:Th,lpf:Rh,lpq:Ap,lpr:hp,lprelease:lp,lps:ip,lpsustain:rp,lrate:hd,lsize:pd,midibend:Wm,midichan:Pm,midicmd:Zm,midimap:Gm,midiport:Xm,miditouch:zm,minutes:_0,mode:Nd,mtranspose:yd,n:ml,noise:xp,note:fl,nrpnn:Am,nrpv:Sm,nudge:xd,octave:Pd,octaveR:Cd,octaves:Td,octer:v0,octersub:w0,octersubsub:F0,offset:Bd,orbit:Gd,oschost:Bm,oscport:Tm,overgain:Xd,overshape:Zd,pan:vd,panchor:od,panorient:Ad,panspan:wd,pansplay:Fd,panwidth:Dd,partials:R0,patt:qp,pattack:Qp,pcurve:ad,pdec:td,pdecay:$p,penv:id,ph:Zh,phasdp:Lh,phaser:vh,phasercenter:Dh,phaserdepth:Sh,phaserrate:Xh,phasersweep:wh,phc:Ah,phd:Vh,phs:Fh,pitchJump:om,pitchJumpTime:um,polyTouch:Rm,postgain:Ml,prel:rd,prelease:sd,progNum:Vm,psus:nd,psustain:ed,pw:xh,pwrate:Ph,pwsweep:Gh,rate:Sd,rdim:jd,real:E0,registerControl:D,rel:Il,release:Nl,repeatTime:lm,resonance:Dp,rfade:_d,ring:D0,ringdf:S0,ringf:A0,rlp:Yd,room:Id,roomdim:Hd,roomfade:Jd,roomlp:Kd,roomsize:$d,rsize:n0,s:vc,scram:N0,scrub:Im,seconds:U0,semitone:Ld,shape:s0,size:t0,slide:Vd,smear:T0,songPtr:O0,sound:wc,source:pl,speed:Ca,spread:Hp,squiz:f0,src:dl,stepsPerOctave:Md,stretch:d0,sus:Tl,sustain:Bl,sustainpedal:M0,sysex:Lm,sysexdata:Em,sysexid:km,sz:e0,tremolo:rh,tremolodepth:ah,tremolophase:uh,tremoloshape:ch,tremoloskew:oh,tremolosync:ih,triode:G0,tsdelay:k0,uid:Q0,unison:Yp,unit:m0,v:Cp,val:q0,velocity:bl,vib:gp,vibmod:Pp,vibrato:Mp,vmod:Gp,voice:kd,vowel:y0,warp:Hc,warpatt:_c,warpattack:Jc,warpdc:rl,warpdec:Oc,warpdecay:Uc,warpdepth:nl,warpenv:ll,warpmode:al,warprate:el,warprel:tl,warprelease:$c,warpshape:sl,warpskew:il,warpsus:qc,warpsustain:Qc,warpsync:hl,waveloss:b0,wavetablePhaseRand:cl,wavetablePosition:Dc,wavetableWarp:jc,wavetableWarpMode:ol,wt:Fc,wtatt:Vc,wtattack:Sc,wtdc:Kc,wtdec:kc,wtdecay:Lc,wtdepth:Nc,wtenv:Ac,wtphaserand:ul,wtrate:Bc,wtrel:Rc,wtrelease:zc,wtshape:Ic,wtskew:Yc,wtsus:Wc,wtsustain:Ec,wtsync:Tc,xsdelay:L0,zcrush:dm,zdelay:mm,zmod:pm,znoise:hm,zrand:rm,zzfx:fm},Symbol.toStringTag,{value:"Module"})),sv=function(t,e){const[n,s]=t,[r,i]=e,[a,o]=ma(s,r);return[[s,n-s],[pi((u,c)=>u.concat(c),a,i),o]]},rv=function(t,e){const[n,s]=t,[r,i]=e,[a,o]=ma(n,i);return[[n,s-n],[pi((u,c)=>u.concat(c),r,a),o]]},E3=function(t,e){const[n,s]=t;return Math.min(n,s)<=1?[t,e]:E3(...n>s?sv(t,e):rv(t,e))},Ga=function(t,e){const n=t<0,s=Math.abs(t),r=e-s,i=Array(s).fill([1]),a=Array(r).fill([0]),o=E3([s,r],[i,a]),u=Ln(o[1][0]).concat(Ln(o[1][1]));return n?u.map(c=>1-c):u},Xa=function(t,e,n){const s=Ga(t,e);return n?Bu(s,-n):s},W3=B("euclid",function(t,e,n){return n.struct(Xa(t,e,0))}),z3=B("e",function(t,e){Array.isArray(t)||(t=[t]);const[n,s=n,r=0]=t;return e.struct(Xa(n,s,r))}),{euclidrot:R3,euclidRot:B3}=B(["euclidrot","euclidRot"],function(t,e,n,s){return s.struct(Xa(t,e,n))}),T3=function(t,e,n,s){if(t<1)return zt;const r=Xa(t,e,0).join("").split("1").slice(1).map(i=>[i.length+1,!0]);return s.struct(ga(...r)).late(j(n).div(e))},N3=B(["euclidLegato"],function(t,e,n){return T3(t,e,0,n)}),I3=B(["euclidLegatoRot"],function(t,e,n,s){return T3(t,e,n,s)}),{euclidish:K3,eish:Y3}=B(["euclidish","eish"],function(t,e,n,s){const r=Ma(Ga(t,e),new Array(t).fill(1),n);return s.struct(r).setSteps(e)});function Km(t,e,n=.05,s=.1,r=.1,i=globalThis.setInterval,a=globalThis.clearInterval,o=!0){let u=0,c=0,l=10**4,d=.01;const m=Z=>n=Z(n);r=r||s/2;const f=()=>{const Z=t(),S=Z+s+r;for(c===0&&(c=Z+d);c<S;)c=o?Math.round(c*l)/l:c,e(c,n,u,Z),c+=n,u++};let g;const y=()=>{P(),f(),g=i(f,s*1e3)},P=()=>{g!==void 0&&a(g),g=void 0};return{setDuration:m,start:y,stop:()=>{u=0,c=0,P()},pause:()=>P(),duration:n,interval:s,getPhase:()=>c,minLatency:d}}function H3(t){return new _(e=>[new ee(void 0,e.span,t)])}const tn=t=>{const e=n=>[new ee(void 0,n.span,t(n.span.begin))];return new _(e)},Gr=tn(t=>t%1),Za=Gr.toBipolar(),yi=tn(t=>1-t%1),va=yi.toBipolar(),wa=tn(t=>Math.sin(Math.PI*2*t)),Ym=wa.fromBipolar(),j3=Ym._early(j(1).div(4)),J3=wa._early(j(1).div(4)),Hm=tn(t=>Math.floor(t*2%2)),_3=Hm.toBipolar(),U3=Ge(Gr,yi),O3=Ge(Za,va),Q3=Ge(yi,Gr),q3=Ge(va,Za),Fa=tn(Fs);let jm=0,Jm=0;typeof window<"u"&&document.addEventListener("mousemove",t=>{jm=t.clientY/document.body.clientHeight,Jm=t.clientX/document.body.clientWidth});const $3=tn(()=>jm),t9=tn(()=>jm),e9=tn(()=>Jm),n9=tn(()=>Jm),s9=t=>{const e=t<<13^t,n=e>>17^e;return n<<5^n},iv=t=>t-Math.trunc(t),r9=t=>s9(Math.trunc(iv(t/300)*536870912)),i9=t=>t%536870912/536870912,si=t=>Math.abs(i9(r9(t))),av=(t,e)=>{const n=[];for(let s=0;s<e;++s)n.push(i9(t)),t=s9(t);return n},ov=(t,e)=>av(r9(t),e),_m=t=>Gr.range(0,t).round().segment(t),a9=t=>{const e=U(t).log2(0).floor().add(1);return Um(t,e)},Um=(t,e=16)=>{e=U(e);const n=_m(e).mul(-1).add(e.sub(1));return U(t).segment(e).brshift(n).band(te(1))},Om=t=>tn(e=>{const n=ov(e.floor().add(.5),t).map((r,i)=>[r,i]).sort((r,i)=>(r[0]>i[0])-(r[0]<i[0])).map(r=>r[1]),s=e.cyclePos().mul(t).floor()%t;return n[s]})._segment(t),o9=(t,e,n)=>{const s=[...Array(e).keys()].map(r=>n.zoom(j(r).div(e),j(r+1).div(e)));return t.fmap(r=>s[r].repeatCycles(e)._fast(e)).innerJoin()},u9=B("shuffle",(t,e)=>o9(Om(t),t,e)),c9=B("scramble",(t,e)=>o9(Aa(t)._segment(t),t,e)),Fe=tn(si),l9=Fe.toBipolar(),Da=t=>Fe.fmap(e=>e<t),h9=t=>U(t).fmap(Da).innerJoin(),p9=Da(.5),Aa=t=>Fe.fmap(e=>Math.trunc(e*t)),d9=t=>U(t).fmap(Aa).innerJoin(),Sa=(t,e)=>(e=e.map(U),e.length==0?zt:t.range(0,e.length).fmap(n=>{const s=Math.min(Math.max(Math.floor(n),0),e.length-1);return e[s]})),bi=(t,e)=>Sa(t,e).outerJoin(),gi=(t,e)=>Sa(t,e).innerJoin(),Qm=(...t)=>bi(Fe,t),m9=(...t)=>gi(Fe,t),f9=Qm;_.prototype.choose=function(...t){return bi(this,t)};_.prototype.choose2=function(...t){return bi(this.fromBipolar(),t)};const qm=(...t)=>gi(Fe.segment(1),t),y9=qm,b9=function(t,...e){const n=e.map(o=>U(o[0])),s=[];let r=te(0);for(const o of e)r=r.add(o[1]),s.push(r);const i=qu(s),a=function(o){const u=r.mul(o);return i.fmap(c=>l=>n[c.findIndex(d=>d>l,c)]).appLeft(u)};return t.bind(a)},uv=(...t)=>b9(...t).outerJoin(),g9=(...t)=>uv(Fe,...t),$m=(...t)=>b9(Fe.segment(1),...t).innerJoin(),M9=$m;function cv(t){let e=Math.floor(t),n=e+1;const s=r=>6*r**5-15*r**4+10*r**3;return(r=>i=>a=>i+s(r)*(a-i))(t-e)(si(e))(si(n))}const t1=t=>t.fmap(cv);function lv(t){const e=Math.floor(t),n=e+1,s=si(e),r=si(n)+s,i=(t-e)/(n-e);return((a,o,u)=>a+(o-a)*u)(s,r,i)/2}const e1=t=>t.fmap(lv),C9=t1(Fa.fmap(t=>Number(t))),x9=e1(Fa.fmap(t=>Number(t))),P9=B("degradeByWith",(t,e,n)=>n.fmap(s=>r=>s).appLeft(t.filterValues(s=>s>e)),!0,!0),G9=B("degradeBy",function(t,e){return e._degradeByWith(Fe,t)},!0,!0),X9=B("degrade",t=>t._degradeBy(.5),!0,!0),Z9=B("undegradeBy",function(t,e){return e._degradeByWith(Fe.fmap(n=>1-n),t)},!0,!0),v9=B("undegrade",t=>t._undegradeBy(.5),!0,!0),w9=B("sometimesBy",function(t,e,n){return U(t).fmap(s=>jt(n._degradeBy(s),e(n._undegradeBy(1-s)))).innerJoin()}),F9=B("sometimes",function(t,e){return e._sometimesBy(.5,t)}),D9=B("someCyclesBy",function(t,e,n){return U(t).fmap(s=>jt(n._degradeByWith(Fe._segment(1),s),e(n._degradeByWith(Fe.fmap(r=>1-r)._segment(1),1-s)))).innerJoin()}),A9=B("someCycles",function(t,e){return e._someCyclesBy(.5,t)}),S9=B("often",function(t,e){return e.sometimesBy(.75,t)}),V9=B("rarely",function(t,e){return e.sometimesBy(.25,t)}),L9=B("almostNever",function(t,e){return e.sometimesBy(.1,t)}),k9=B("almostAlways",function(t,e){return e.sometimesBy(.9,t)}),E9=B("never",function(t,e){return e}),W9=B("always",function(t,e){return t(e)});function Va(t){Array.isArray(t)===!1&&(t=[t]);const e=Uu();return t.every(n=>{const s=_u.get(n)??n;return e[s]})}const z9=B("whenKey",function(t,e,n){return n.when(Va(t),e)}),R9=B("keyDown",function(t){return t.fmap(Va)}),Bn=function(t,e,n=!0){const s=Array.isArray(t),r=Object.keys(t).length;return t=ju(t,U),r===0?zt:e.fmap(i=>{let a=i;return s&&(a=n?Math.round(a)%r:di(Math.round(a),0,t.length-1)),t[a]})},n1=function(t,e){return Array.isArray(e)&&([e,t]=[t,e]),hv(t,e)},hv=B("pick",function(t,e){return Bn(t,e,!1).innerJoin()}),s1=B("pickmod",function(t,e){return Bn(t,e,!0).innerJoin()}),B9=B("pickF",function(t,e,n){return n.apply(n1(t,e))}),T9=B("pickmodF",function(t,e,n){return n.apply(s1(t,e))}),N9=B("pickOut",function(t,e){return Bn(t,e,!1).outerJoin()}),I9=B("pickmodOut",function(t,e){return Bn(t,e,!0).outerJoin()}),K9=B("pickRestart",function(t,e){return Bn(t,e,!1).restartJoin()}),Y9=B("pickmodRestart",function(t,e){return Bn(t,e,!0).restartJoin()}),H9=B("pickReset",function(t,e){return Bn(t,e,!1).resetJoin()}),j9=B("pickmodReset",function(t,e){return Bn(t,e,!0).resetJoin()}),{inhabit:J9,pickSqueeze:_9}=B(["inhabit","pickSqueeze"],function(t,e){return Bn(t,e,!1).squeezeJoin()}),{inhabitmod:U9,pickmodSqueeze:O9}=B(["inhabitmod","pickmodSqueeze"],function(t,e){return Bn(t,e,!0).squeezeJoin()}),Q9=(t,e)=>(e=e.map(U),e.length==0?zt:t.fmap(n=>{const s=qe(Math.round(n),e.length);return e[s]}).squeezeJoin());let hr;try{hr=window==null?void 0:window.speechSynthesis}catch{console.warn("cannot use window: not in browser?")}let oy=hr==null?void 0:hr.getVoices();function pv(t,e,n){hr.cancel();const s=new SpeechSynthesisUtterance(t);s.lang=e,oy=hr.getVoices();const r=oy.filter(i=>i.lang.includes(e));typeof n=="number"?s.voice=r[n%r.length]:typeof n=="string"&&(s.voice=r.find(i=>i.name===i)),speechSynthesis.speak(s)}const q9=B("speak",function(t,e,n){return n.onTrigger(s=>{pv(s.value,t,e)})}),r1={},ri=async(...t)=>{const e=await Promise.allSettled(t),n=e.filter(s=>s.status==="fulfilled").map(s=>s.value);return e.forEach((s,r)=>{s.status==="rejected"&&console.warn(`evalScope: module with index ${r} could not be loaded:`,s.reason)}),n.forEach(s=>{Object.entries(s).forEach(([r,i])=>{globalThis[r]=i,r1[r]=i})}),n};function dv(t,e={}){const{wrapExpression:n=!0,wrapAsync:s=!0}=e;n&&(t=`{${t}}`),s&&(t=`(async ()=>${t})()`);const r=`"use strict";return (${t})`;return Function(r)()}const $9=async(t,e,n)=>{let s={};if(e){const r=e(t,n);t=r.output,s=r}return{mode:"javascript",pattern:await dv(t,{wrapExpression:!!e}),meta:s}};class mv{constructor({onTrigger:e,onToggle:n,getTime:s}){this.started=!1,this.cps=.5,this.getTime=s,this.time_at_last_tick_message=0,this.collator=new Ju({getTargetClockTime:s}),this.onToggle=n,this.latency=.1,this.cycle=0,this.id=Math.round(Date.now()*Math.random()),this.worker=new SharedWorker(new URL(""+new URL("data:text/javascript;base64,KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIEwoKXtyZXR1cm4gcGVyZm9ybWFuY2Uubm93KCkqLjAwMX1sZXQgXz0wLHI9MCxvPS41O2NvbnN0IGg9bmV3IE1hcCxtPS4xLE09bmV3IEJyb2FkY2FzdENoYW5uZWwoInN0cnVkZWx0aWNrIiksYj0ocyxlKT0+e00ucG9zdE1lc3NhZ2Uoe3R5cGU6cyxwYXlsb2FkOmV9KX0sQz1FKEwsKHMsZSx0LG4pPT57Y29uc3QgaT1yKmUsZD1zLW4sYz1uK2QsdT1pKm8sbD1fK3UsZz1uLWMtZSxmPWUqbyxwPWwrZix5PWwrZypvO2IoInRpY2siLHtiZWdpbjpsLGVuZDpwLGNwczpvLHRpbWU6bixjeWNsZTp5fSkscisrfSxtKTtsZXQgaz0hMTtjb25zdCBJPXM9PntoLnNldChzLHtzdGFydGVkOiEwfSksIWsmJihDLnN0YXJ0KCksaz0hMCl9LEE9YXN5bmMgcz0+e2guc2V0KHMse3N0YXJ0ZWQ6ITF9KTtjb25zdCBlPUFycmF5LmZyb20oaC52YWx1ZXMoKSkuc29tZSh0PT50LnN0YXJ0ZWQpOyFrfHxlfHwoQy5zdG9wKCksdygwKSxrPSExKX0sdz1zPT57cj0wLF89c30sRD1zPT57Y29uc3R7dHlwZTplLHBheWxvYWQ6dH09cztzd2l0Y2goZSl7Y2FzZSJjcHNjaGFuZ2UiOntpZih0LmNwcyE9PW8pe2NvbnN0IG49ciptO189XytuKm8sbz10LmNwcyxyPTB9YnJlYWt9Y2FzZSJzZXRjeWNsZSI6e3codC5jeWNsZSk7YnJlYWt9Y2FzZSJ0b2dnbGUiOnt0LnN0YXJ0ZWQ/SShzLmlkKTpBKHMuaWQpO2JyZWFrfX19O3NlbGYub25jb25uZWN0PWZ1bmN0aW9uKHMpe2NvbnN0IGU9cy5wb3J0c1swXTtlLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGZ1bmN0aW9uKHQpe0QodC5kYXRhKX0pLGUuc3RhcnQoKX07ZnVuY3Rpb24gRShzLGUsdD0uMDUsbj0uMSxpPS4xKXtsZXQgZD0wLGM9MCx1PTEwKio0LGw9LjAxO2NvbnN0IGc9YT0+dD1hKHQpO2k9aXx8bi8yO2NvbnN0IGY9KCk9Pntjb25zdCBhPXMoKSxPPWErbitpO2ZvcihjPT09MCYmKGM9YStsKTtjPE87KWM9TWF0aC5yb3VuZChjKnUpL3UsYz49YSYmZShjLHQsZCxhKSxjPGEmJmNvbnNvbGUubG9nKCJUT08gTEFURSIsYyksYys9dCxkKyt9O2xldCBwO2NvbnN0IHk9KCk9PntUKCksZigpLHA9c2V0SW50ZXJ2YWwoZixuKjFlMyl9LFQ9KCk9PnAhPT12b2lkIDAmJmNsZWFySW50ZXJ2YWwocCk7cmV0dXJue3NldER1cmF0aW9uOmcsc3RhcnQ6eSxzdG9wOigpPT57ZD0wLGM9MCxUKCl9LHBhdXNlOigpPT5UKCksZHVyYXRpb246dCxpbnRlcnZhbDpuLGdldFBoYXNlOigpPT5jLG1pbkxhdGVuY3k6bH19fSkoKTsK",import.meta.url).href,import.meta.url)),this.worker.port.start(),this.channel=new BroadcastChannel("strudeltick");const r=a=>{const{cps:o,begin:u,end:c,cycle:l,time:d}=a;this.cps=o,this.cycle=l;const m=this.collator.calculateOffset(d)+d;i(u,c,m),this.time_at_last_tick_message=m},i=(a,o,u)=>{this.started!==!1&&this.pattern.queryArc(a,o,{_cps:this.cps,cyclist:"neocyclist"}).forEach(c=>{if(c.hasOnset()){const l=_i(c.whole.begin-this.cycle,this.cps)+u+this.latency,d=_i(c.duration,this.cps);e==null||e(c,0,d,this.cps,l)}})};this.channel.onmessage=a=>{if(!this.started)return;const{payload:o,type:u}=a.data;switch(u){case"tick":r(o)}}}sendMessage(e,n){this.worker.port.postMessage({type:e,payload:n,id:this.id})}now(){const e=(this.getTime()-this.time_at_last_tick_message)*this.cps;return this.cycle+e}setCps(e=1){this.sendMessage("cpschange",{cps:e})}setCycle(e){this.sendMessage("setcycle",{cycle:e})}setStarted(e){var n;this.sendMessage("toggle",{started:e}),this.started=e,(n=this.onToggle)==null||n.call(this,e)}start(){ye("[cyclist] start"),this.setStarted(!0)}stop(){ye("[cyclist] stop"),this.collator.reset(),this.setStarted(!1)}setPattern(e,n=!1){this.pattern=e,n&&!this.started&&this.start()}log(e,n,s){const r=s.filter(i=>i.hasOnset());console.log(`${e.toFixed(4)} - ${n.toFixed(4)} ${Array(r.length).fill("I").join("")}`)}}class i1{constructor({interval:e,onTrigger:n,onToggle:s,onError:r,getTime:i,latency:a=.1,setInterval:o,clearInterval:u,beforeStart:c}){this.started=!1,this.beforeStart=c,this.cps=.5,this.num_ticks_since_cps_change=0,this.lastTick=0,this.lastBegin=0,this.lastEnd=0,this.getTime=i,this.num_cycles_at_cps_change=0,this.seconds_at_cps_change,this.onToggle=s,this.latency=a,this.clock=Km(i,(l,d,m,f)=>{this.num_ticks_since_cps_change===0&&(this.num_cycles_at_cps_change=this.lastEnd,this.seconds_at_cps_change=l),this.num_ticks_since_cps_change++;const g=this.num_ticks_since_cps_change*d*this.cps;try{const y=this.lastEnd;this.lastBegin=y;const P=this.num_cycles_at_cps_change+g;if(this.lastEnd=P,this.lastTick=l,l<f){console.log("skip query: too late");return}this.pattern.queryArc(y,P,{_cps:this.cps,cyclist:"cyclist"}).forEach(Z=>{if(Z.hasOnset()){const S=(Z.whole.begin-this.num_cycles_at_cps_change)/this.cps+this.seconds_at_cps_change+a,k=Z.duration/this.cps,v=S-l;n==null||n(Z,v,k,this.cps,S),Z.value.cps!==void 0&&this.cps!=Z.value.cps&&(this.cps=Z.value.cps,this.num_ticks_since_cps_change=0)}})}catch(y){Lu(y),r==null||r(y)}},e,.1,.1,o,u)}now(){if(!this.started)return 0;const e=this.getTime()-this.lastTick-this.clock.duration;return this.lastBegin+e*this.cps}setStarted(e){var n;this.started=e,(n=this.onToggle)==null||n.call(this,e)}async start(){var e;if(await((e=this.beforeStart)==null?void 0:e.call(this)),this.num_ticks_since_cps_change=0,this.num_cycles_at_cps_change=0,!this.pattern)throw new Error("Scheduler: no pattern set! call .setPattern first.");ye("[cyclist] start"),this.clock.start(),this.setStarted(!0)}pause(){ye("[cyclist] pause"),this.clock.pause(),this.setStarted(!1)}stop(){ye("[cyclist] stop"),this.clock.stop(),this.lastEnd=0,this.setStarted(!1)}async setPattern(e,n=!1){this.pattern=e,n&&!this.started&&await this.start()}setCps(e=.5){this.cps!==e&&(this.cps=e,this.num_ticks_since_cps_change=0)}log(e,n,s){const r=s.filter(i=>i.hasOnset());console.log(`${e.toFixed(4)} - ${n.toFixed(4)} ${Array(r.length).fill("I").join("")}`)}}let su;function Qi(){if(!su)throw new Error("no time set! use setTime to define a time source");return su()}function ii(t){su=t}function t5({defaultOutput:t,onEvalError:e,beforeEval:n,beforeStart:s,afterEval:r,getTime:i,transpiler:a,onToggle:o,editPattern:u,onUpdateState:c,sync:l=!1,setInterval:d,clearInterval:m,id:f,mondo:g=!1}){const y={schedulerError:void 0,evalError:void 0,code:"// LOADING",activeCode:"// LOADING",pattern:void 0,miniLocations:[],widgets:[],pending:!1,started:!1},P={id:f},Z=st=>{Object.assign(y,st),y.isDirty=y.code!==y.activeCode,y.error=y.evalError||y.schedulerError,c==null||c(y)},S={onTrigger:a1({defaultOutput:t,getTime:i}),getTime:i,onToggle:st=>{Z({started:st}),o==null||o(st)},setInterval:d,clearInterval:m,beforeStart:s},k=l&&typeof SharedWorker<"u"?new mv(S):new i1(S);let v={},X=0,L;const V=function(){return v={},X=0,L=void 0,zt};function E(st){return st._Pattern?st.__pure:st}const I=async(st,dt=!0)=>(st=(u==null?void 0:u(st))||st,await k.setPattern(st,dt),st);ii(()=>k.now());const R=()=>k.stop(),J=()=>k.start(),W=()=>k.pause(),Y=()=>k.toggle(),tt=st=>(k.setCps(E(st)),zt),ct=st=>(k.setCps(E(st)/60),zt);let Q=[];const nt=function(st){return Q.push(st),zt},q=function(st){return L=st,zt},xt=()=>{_.prototype.p=function(dt){return typeof dt=="string"&&(dt.startsWith("_")||dt.endsWith("_"))?zt:(dt==="$"&&(dt=`$${X}`,X++),v[dt]=this,this)},_.prototype.q=function(dt){return zt};try{for(let dt=1;dt<10;++dt)Object.defineProperty(_.prototype,`d${dt}`,{get(){return this.p(dt)},configurable:!0}),Object.defineProperty(_.prototype,`p${dt}`,{get(){return this.p(dt)},configurable:!0}),_.prototype[`q${dt}`]=zt}catch(dt){console.warn("injectPatternMethods: error:",dt)}const st=B("cpm",function(dt,H){return H._fast(dt/60/k.cps)});return ri({all:nt,each:q,hush:V,cpm:st,setCps:tt,setcps:tt,setCpm:ct,setcpm:ct})};return{scheduler:k,evaluate:async(st,dt=!0,H=!0)=>{if(!st)throw new Error("no code to evaluate");try{Z({code:st,pending:!0}),await xt(),ii(()=>k.now()),await(n==null?void 0:n({code:st})),Q=[],H&&V(),g&&(st=`mondolang\`${st}\``);let{pattern:gt,meta:Kt}=await $9(st,a,P);if(Object.keys(v).length){let Ut=[];for(const[vt,Bt]of Object.entries(v))Ut.push(Bt.withState(ot=>ot.setControls({id:vt})));L&&(Ut=Ut.map(vt=>L(vt))),gt=jt(...Ut)}else L&&(gt=L(gt));if(Q.length)for(let Ut in Q)gt=Q[Ut](gt);if(!ya(gt)){const Ut=`got "${typeof evaluated}" instead of pattern`;throw new Error(Ut+(typeof evaluated=="function"?", did you forget to call a function?":"."))}return ye("[eval] code updated"),gt=await I(gt,dt),Z({miniLocations:(Kt==null?void 0:Kt.miniLocations)||[],widgets:(Kt==null?void 0:Kt.widgets)||[],activeCode:st,pattern:gt,evalError:void 0,schedulerError:void 0,pending:!1}),r==null||r({code:st,pattern:gt,meta:Kt}),gt}catch(gt){ye(`[eval] error: ${gt.message}`,"error"),console.error(gt),Z({evalError:gt,pending:!1}),e==null||e(gt)}},start:J,stop:R,pause:W,setCps:tt,setPattern:I,setCode:st=>Z({code:st}),toggle:Y,state:y}}const a1=({getTime:t,defaultOutput:e})=>async(n,s,r,i,a)=>{try{(!n.context.onTrigger||!n.context.dominantTrigger)&&await e(n,s,r,i,a),n.context.onTrigger&&await n.context.onTrigger(n,t(),i,a)}catch(o){Lu(o,"getTrigger")}},e5=function(t,e={}){const n=document.getElementById("code"),s="background-image:url("+t+");background-size:contain;";n.style=s;const{className:r}=n,i=(o,u)=>{({style:()=>n.style=s+";"+u,className:()=>n.className=u+" "+r})[o]()},a=Object.entries(e).filter(([o,u])=>typeof u=="function");Object.entries(e).filter(([o,u])=>typeof u=="string").forEach(([o,u])=>i(o,u)),a.length},n5=()=>{const t=document.getElementById("code");t&&(t.style="")};ye("🌀 @strudel/core loaded 🌀");globalThis._strudelLoaded&&console.warn(`@strudel/core was loaded more than once...
This might happen when you have multiple versions of strudel installed. 
Please check with "npm ls @strudel/core".`);globalThis._strudelLoaded=!0;const s5=Object.freeze(Object.defineProperty({__proto__:null,ClockCollator:Ju,Cyclist:i1,Fraction:j,Hap:ee,Pattern:_,State:Rs,TimeSpan:se,__chooseWith:Sa,_brandBy:Da,_fitslice:cc,_irand:Aa,_keyDown:Va,_match:lc,_mod:qe,_morph:Ma,_polymeterListSteps:pc,_retime:Ui,_slices:Oi,accelerate:yl,activeLabel:dd,ad:Mm,add:h2,adsr:gm,almostAlways:k9,almostNever:L9,always:W9,amp:Cl,analyze:El,anchor:Rd,and:A2,apply:aM,applyN:ac,ar:xm,arp:Hg,arpWith:Yg,arrange:Og,as:Nm,att:Pl,attack:xl,averageArray:Wu,backgroundImage:e5,band:b2,bandf:Yl,bandq:Jl,bank:Ll,base64ToUnicode:Hu,bbexpr:yh,bbst:gh,beat:V3,begin:Ul,berlin:x9,berlinWith:e1,binary:a9,binaryN:Um,bind:n2,binshift:I0,bite:pM,bjork:Ga,blshift:C2,bor:g2,bp:jl,bpa:Qh,bpattack:Oh,bpd:sp,bpdecay:np,bpe:Hh,bpenv:Yh,bpf:Hl,bpq:_l,bpr:fp,bprelease:mp,bps:cp,bpsustain:up,brak:PM,brand:p9,brandBy:h9,brshift:x2,bxor:M2,bypass:qM,byteBeatExpression:fh,byteBeatStartTime:bh,calculateSteps:Kg,cat:br,ccn:wm,ccv:Fm,ceil:E2,ch:Ch,channel:kh,channels:Mh,choose:Qm,chooseCycles:qm,chooseIn:m9,chooseInWith:gi,chooseOut:f9,chooseWith:bi,chop:P3,chord:Ed,chorus:kl,chunk:NM,chunkBack:YM,chunkBackInto:QM,chunkInto:UM,chunkback:HM,chunkbackinto:OM,chunkinto:_M,clamp:di,cleanupUi:n5,clip:tm,coarse:sh,code2hash:Tg,color:ym,colour:bm,comb:B0,compose:kg,compress:I2,compressSpan:K2,compressor:u0,compressorAttack:h0,compressorKnee:c0,compressorRatio:l0,compressorRelease:p0,compressspan:Y2,constant:Eg,contract:gc,control:vm,controls:k3,cosine:j3,cosine2:J3,cpm:oM,cps:$0,createClock:Km,createParam:fi,createParams:xa,crush:nh,ctf:zh,ctlNum:Dm,ctranspose:bd,curry:Zt,curve:im,cut:Eh,cutoff:Wh,cycleToSeconds:_i,dec:Rl,decay:zl,degrade:X9,degradeBy:G9,degradeByWith:P9,degree:fd,delay:Vp,delayfb:kp,delayfeedback:Lp,delayspeed:Wp,delaysync:Tp,delayt:Rp,delaytime:zp,deltaSlide:am,det:Kp,detune:Ip,dfb:Ep,dict:zd,dictionary:Wd,dist:i0,distort:r0,distorttype:o0,distortvol:a0,div:m2,djf:Sp,drawLine:Ou,drive:lh,drop:fc,dry:jp,ds:Cm,dt:Bp,duck:hh,duckattack:mh,duckdepth:ph,duckonset:dh,dur:sm,duration:nm,e:z3,early:uM,echo:LM,echoWith:DM,echowith:AM,eish:Y3,end:Ol,enhance:z0,eq:v2,eqt:w2,errorLogger:Lu,euclid:W3,euclidLegato:N3,euclidLegatoRot:I3,euclidRot:B3,euclidish:K3,euclidrot:R3,evalScope:ri,evaluate:$9,every:iM,expand:bc,expression:g0,extend:yc,fadeInTime:Up,fadeOutTime:_p,fadeTime:Jp,fanchor:bp,fast:Q2,fastChunk:JM,fastGap:H2,fastcat:Ge,fastchunk:jM,fastgap:j2,fft:Wl,filter:s3,filterWhen:r3,firstOf:rM,fit:F3,flatten:Ln,floor:k2,fm:Zl,fmattack:wl,fmdecay:Dl,fmenv:vl,fmh:Gl,fmi:Xl,fmrelease:Sl,fmsustain:Al,fmvelocity:Vl,fmwave:Fl,focus:J2,focusSpan:_2,focusspan:U2,fractionalArgs:Wg,frameRate:H0,frames:j0,freeze:V0,freq:Op,freqToMidi:ha,fromBipolar:z2,fshift:C0,fshiftnote:x0,fshiftphase:P0,ftype:yp,func:V2,gain:gl,gap:Ys,gat:cd,gate:ud,getControlName:Pa,getCurrentKeyboardState:Uu,getEventOffsetMs:Ag,getFreq:Eu,getFrequency:Ru,getPerformanceTimeSeconds:Ig,getPlayableNoteValue:Lg,getSoundIndex:Vg,getTime:Qi,getTrigger:a1,grow:o3,gt:G2,gte:Z2,harmonic:gd,hash2code:Ng,hbrick:K0,hcutoff:Xp,hold:Kl,hours:J0,hp:vp,hpa:Uh,hpattack:_h,hpd:ep,hpdecay:tp,hpe:Kh,hpenv:Ih,hpf:Zp,hpq:Fp,hpr:dp,hprelease:pp,hps:op,hpsustain:ap,hresonance:wp,hsl:n3,hsla:e3,hurry:q2,id:Fs,imag:W0,inhabit:J9,inhabitmod:U9,innerBind:s2,inside:eM,inv:MM,invert:gM,ir:Ud,irand:d9,irbegin:qd,iresponse:Od,irspeed:Qd,isControlName:Zc,isNote:Ms,isNoteWithOctave:Fg,isPattern:ya,isaw:yi,isaw2:va,iter:zM,iterBack:RM,iterback:BM,itri:Q3,itri2:q3,jux:FM,juxBy:vM,juxby:wM,kcutoff:Z0,keep:c2,keepif:l2,keyAlias:_u,keyDown:R9,krush:X0,label:md,lastOf:sM,late:rc,lbrick:Y0,legato:em,leslie:ld,lfo:cm,linger:dM,listRange:xr,lock:Np,logKey:la,logger:ye,loop:Ql,loopAt:v3,loopAtCps:D3,loopBegin:ql,loopEnd:th,loopat:w3,loopatcps:A3,loopb:$l,loope:eh,lp:Bh,lpa:Jh,lpattack:jh,lpd:$h,lpdecay:qh,lpe:Nh,lpenv:Th,lpf:Rh,lpq:Ap,lpr:hp,lprelease:lp,lps:ip,lpsustain:rp,lrate:hd,lsize:pd,lt:P2,lte:X2,mapArgs:da,mask:qg,midi2note:Sg,midiToFreq:zs,midibend:Wm,midichan:Pm,midicmd:Zm,midimap:Gm,midiport:Xm,miditouch:zm,minutes:_0,mod:f2,mode:Nd,morph:L3,mouseX:n9,mouseY:t9,mousex:e9,mousey:$3,mtranspose:yd,mul:d2,n:ml,nanFallback:zu,ne:F2,net:D2,never:E9,noise:xp,note:fl,noteToMidi:wn,nothing:pn,nrpnn:Am,nrpv:Sm,nudge:xd,numeralArgs:Ke,objectMap:ju,octave:Pd,octaveR:Cd,octaves:Td,octer:v0,octersub:w0,octersubsub:F0,off:xM,offset:Bd,often:S9,or:S2,orbit:Gd,oschost:Bm,oscport:Tm,outerBind:r2,outside:nM,overgain:Xd,overshape:Zd,pace:hc,pairs:Iu,palindrome:ZM,pan:vd,panchor:od,panorient:Ad,panspan:wd,pansplay:Fd,panwidth:Dd,parseFractional:Nu,parseNumeral:pa,partials:R0,patt:qp,pattack:Qp,pcurve:ad,pdec:td,pdecay:$p,penv:id,perlin:C9,perlinWith:t1,ph:Zh,phasdp:Lh,phaser:vh,phasercenter:Dh,phaserdepth:Sh,phaserrate:Xh,phasersweep:wh,phc:Ah,phd:Vh,phs:Fh,pick:n1,pickF:B9,pickOut:N9,pickReset:H9,pickRestart:K9,pickSqueeze:_9,pickmod:s1,pickmodF:T9,pickmodOut:I9,pickmodReset:j9,pickmodRestart:Y9,pickmodSqueeze:O9,pipe:Tu,pitchJump:om,pitchJumpTime:um,ply:O2,plyForEach:WM,plyWith:EM,pm:_g,polyBind:o2,polyTouch:Rm,polymeter:mi,polyrhythm:jg,postgain:Ml,pow:y2,pr:Jg,prel:rd,prelease:sd,press:XM,pressBy:GM,progNum:Vm,psus:nd,psustain:ed,pure:te,pw:xh,pwrate:Ph,pwsweep:Gh,rand:Fe,rand2:l9,randcat:y9,randrun:Om,range:R2,range2:T2,rangex:B2,rarely:V9,rate:Sd,ratio:N2,rdim:jd,real:E0,ref:S3,register:B,registerControl:D,reify:U,rel:Il,release:Nl,removeUndefineds:Ks,repeatCycles:TM,repeatTime:lm,repl:t5,replicate:a3,resonance:Dp,rev:ic,rfade:_d,rib:t3,ribbon:$M,ring:D0,ringdf:S0,ringf:A0,rlp:Yd,room:Id,roomdim:Hd,roomfade:Jd,roomlp:Kd,roomsize:$d,rotate:Bu,round:L2,rsize:n0,run:_m,s:vc,s_add:m3,s_alt:l3,s_cat:c3,s_contract:g3,s_expand:y3,s_extend:b3,s_polymeter:h3,s_sub:f3,s_taper:p3,s_taperlist:d3,s_tour:M3,s_zip:C3,saw:Gr,saw2:Za,scram:N0,scramble:c9,scrub:Im,seconds:U0,seg:fM,segment:mM,semitone:Ld,seq:sc,seqPLoop:Qg,sequence:dn,sequenceP:qu,set:u2,setStringParser:Qu,setTime:ii,shape:s0,shrink:Cc,shrinklist:Mc,shuffle:u9,signal:tn,silence:zt,sine:Ym,sine2:wa,size:t0,slice:Gc,slide:Vd,slow:$2,slowChunk:KM,slowcat:ns,slowcatPrime:ba,slowchunk:IM,smear:T0,sol2note:zg,someCycles:A9,someCyclesBy:D9,sometimes:F9,sometimesBy:w9,songPtr:O0,sound:wc,source:pl,sparsity:tM,speak:q9,speed:Ca,splice:Z3,splitAt:ma,spread:Hp,square:Hm,square2:_3,squeeze:Q9,squeezeBind:i2,squiz:f0,src:dl,stack:jt,stackBy:Ug,stackCentre:nc,stackLeft:tc,stackRight:ec,steady:H3,stepBind:a2,stepalt:dc,stepcat:Ee,steps:x3,stepsPerOctave:Md,stretch:d0,striate:G3,stringifyValues:fa,struct:$g,strudelScope:r1,stut:kM,stutWith:SM,stutwith:VM,sub:p2,superimpose:t2,sus:Tl,sustain:Bl,sustainpedal:M0,swing:bM,swingBy:yM,sysex:Lm,sysexdata:Em,sysexid:km,sz:e0,take:mc,time:Fa,timeCat:ga,timecat:u3,toBipolar:W2,tokenizeNote:ku,tour:xc,tremolo:rh,tremolodepth:ah,tremolophase:uh,tremoloshape:ch,tremoloskew:oh,tremolosync:ih,tri:U3,tri2:O3,triode:G0,tsdelay:k0,uid:Q0,undegrade:v9,undegradeBy:Z9,unicodeToBase64:Yu,uniq:Rg,uniqsort:Bg,uniqsortr:Ku,unison:Yp,unit:m0,v:Cp,val:q0,valueToMidi:Dg,velocity:bl,vib:gp,vibmod:Pp,vibrato:Mp,vmod:Gp,voice:kd,vowel:y0,warp:Hc,warpatt:_c,warpattack:Jc,warpdc:rl,warpdec:Oc,warpdecay:Uc,warpdepth:nl,warpenv:ll,warpmode:al,warprate:el,warprel:tl,warprelease:$c,warpshape:sl,warpskew:il,warpsus:qc,warpsustain:Qc,warpsync:hl,waveloss:b0,wavetablePhaseRand:cl,wavetablePosition:Dc,wavetableWarp:jc,wavetableWarpMode:ol,wchoose:g9,wchooseCycles:$m,when:CM,whenKey:z9,withValue:e2,within:i3,wrandcat:M9,wt:Fc,wtatt:Vc,wtattack:Sc,wtdc:Kc,wtdec:kc,wtdecay:Lc,wtdepth:Nc,wtenv:Ac,wtphaserand:ul,wtrate:Bc,wtrel:Rc,wtrelease:zc,wtshape:Ic,wtskew:Yc,wtsus:Wc,wtsustain:Ec,wtsync:Tc,xfade:Xc,xsdelay:L0,zcrush:dm,zdelay:mm,zip:Pc,zipWith:pi,zmod:pm,znoise:hm,zoom:cM,zoomArc:lM,zoomarc:hM,zrand:rm,zzfx:fm},Symbol.toStringTag,{value:"Module"}));if(typeof DelayNode<"u"){class t extends DelayNode{constructor(n,s,r,i){super(n),s=Math.abs(s),this.delayTime.value=r;const a=n.createGain();a.gain.value=Math.min(Math.abs(i),.995),this.feedback=a.gain;const o=n.createGain();return o.gain.value=s,this.delayGain=o,this.connect(a),this.connect(o),a.connect(this),this.connect=u=>o.connect(u),this}start(n){this.delayGain.gain.setValueAtTime(this.delayGain.gain.value,n+this.delayTime.value)}}AudioContext.prototype.createFeedbackDelay=function(e,n,s){return new t(this,e,n,s)}}var o1={};o1.generateReverb=function(t,e){for(var n=t.audioContext||new AudioContext,s=n.sampleRate,r=t.numChannels||2,i=t.decayTime*1.5,a=Math.round(t.decayTime*s),o=Math.round(i*s),u=Math.round((t.fadeInTime||0)*s),c=Math.pow(1/1e3,1/a),l=n.createBuffer(r,o,s),d=0;d<r;d++){for(var m=l.getChannelData(d),f=0;f<o;f++)m[f]=bv()*Math.pow(c,f);for(var f=0;f<u;f++)m[f]*=f/u}fv(l,t.lpFreqStart||0,t.lpFreqEnd||0,t.decayTime,e)};o1.generateGraph=function(t,e,n,s,r){var i=document.createElement("canvas");i.width=e,i.height=n;var a=i.getContext("2d");a.fillStyle="#000",a.fillRect(0,0,i.width,i.height),a.fillStyle="#fff";for(var o=e/t.length,u=n/(r-s),c=0;c<t.length;c++)a.fillRect(c*o,n-(t[c]-s)*u,1,1);return i};var fv=function(t,e,n,s,r){if(e==0){r(t);return}var i=yv(t),a=new OfflineAudioContext(t.numberOfChannels,i[0].length,t.sampleRate),o=a.createBufferSource();o.buffer=t;var u=a.createBiquadFilter();e=Math.min(e,t.sampleRate/2),n=Math.min(n,t.sampleRate/2),u.type="lowpass",u.Q.value=1e-4,u.frequency.setValueAtTime(e,0),u.frequency.linearRampToValueAtTime(n,s),o.connect(u),u.connect(a.destination),o.start(),a.oncomplete=function(c){r(c.renderedBuffer)},a.startRendering(),window.filterNode=u},yv=function(t){for(var e=[],n=0;n<t.numberOfChannels;n++)e[n]=t.getChannelData(n);return e},bv=function(){return Math.random()*2-1};let r5=t=>console.log(t);function i5(t,e="superdough"){he(`[${e}] error: ${t.message}`)}const he=(...t)=>r5(...t),u1=t=>{r5=t},gv=t=>{var r;if(typeof t!="string")return[];const[e,n="",s]=((r=t.match(/^([a-gA-G])([#bsf]*)(-?[0-9]*)$/))==null?void 0:r.slice(1))||[];return e?[e,n,s?Number(s):void 0]:[]},Mv={c:0,d:2,e:4,f:5,g:7,a:9,b:11},Cv={"#":1,b:-1,s:1,f:-1},La=(t,e=3)=>{const[n,s,r=e]=gv(t);if(!n)throw new Error('not a note: "'+t+'"');const i=Mv[n.toLowerCase()],a=(s==null?void 0:s.split("").reduce((o,u)=>o+Cv[u],0))||0;return(Number(r)+1)*12+i+a},a5=t=>Math.pow(2,(t-69)/12)*440,fs=(t,e,n)=>Math.min(Math.max(t,e),n),xv=t=>12*Math.log(t/440)/Math.LN2+69,Pv=(t,e)=>{if(typeof t!="object")throw new Error("valueToMidi: expected object value");let{freq:n,note:s}=t;return typeof n=="number"?xv(n):typeof s=="string"?La(s):typeof s=="number"?s:e};function On(t,e=0,n){return isNaN(Number(t))?(!n&&he(`"${t}" is not a number, falling back to ${e}`,"warning"),e):t}const o5=(t,e)=>(t%e+e)%e,uy=(t,e)=>o5(Math.round(On(t,0)),e);function Gv(t,e){return t/e}function u5(t,e){const{s:n,n:s=0}=t;let r=Pv(t,36),i=r-36,a,o=0;if(Array.isArray(e))o=uy(s,e.length),a=e[o];else{const c=d=>La(d)-r,l=Object.keys(e).filter(d=>!d.startsWith("_")).reduce((d,m,f)=>!d||Math.abs(c(m))<Math.abs(c(d))?m:d,null);i=-c(l),o=uy(s,e[l].length),a=e[l][o]}const u=`${n}:${o}`;return{transpose:i,url:a,index:o,midi:r,label:u}}typeof AudioContext<"u"&&(AudioContext.prototype.adjustLength=function(t,e,n=1,s=0){const r=Math.floor(fs(s,0,1)*e.length),i=e.sampleRate*t,a=this.createBuffer(e.numberOfChannels,e.length,e.sampleRate);for(let o=0;o<e.numberOfChannels;o++){let u=e.getChannelData(o),c=a.getChannelData(o);for(let l=0;l<i;l++){let d=(r+l*Math.abs(n))%u.length;n<1&&(d=d*-1),c[l]=u.at(d)||0}}return a},AudioContext.prototype.createReverb=function(t,e,n,s,r,i,a){const o=this.createConvolver();return o.generate=(u=2,c=.1,l=15e3,d=1e3,m,f,g)=>{o.duration=u,o.fade=c,o.lp=l,o.dim=d,o.ir=m,o.irspeed=f,o.irbegin=g,m?o.buffer=this.adjustLength(u,m,f,g):o1.generateReverb({audioContext:this,numChannels:2,decayTime:u,fadeInTime:c,lpFreqStart:l,lpFreqEnd:d},y=>{o.buffer=y})},o.generate(t,e,n,s,r,i,a),o});var cy={a:{freqs:[660,1120,2750,3e3,3350],gains:[1,.5012,.0708,.0631,.0126],qs:[80,90,120,130,140]},e:{freqs:[440,1800,2700,3e3,3300],gains:[1,.1995,.1259,.1,.1],qs:[70,80,100,120,120]},i:{freqs:[270,1850,2900,3350,3590],gains:[1,.0631,.0631,.0158,.0158],qs:[40,90,100,120,120]},o:{freqs:[430,820,2700,3e3,3300],gains:[1,.3162,.0501,.0794,.01995],qs:[40,80,100,120,120]},u:{freqs:[370,630,2750,3e3,3400],gains:[1,.1,.0708,.0316,.01995],qs:[40,60,100,120,120]},ae:{freqs:[650,1515,2400,3e3,3350],gains:[1,.5,.1008,.0631,.0126],qs:[80,90,120,130,140]},aa:{freqs:[560,900,2570,3e3,3300],gains:[1,.5,.0708,.0631,.0126],qs:[80,90,120,130,140]},oe:{freqs:[500,1430,2300,3e3,3300],gains:[1,.2,.0708,.0316,.01995],qs:[40,60,100,120,120]},ue:{freqs:[250,1750,2150,3200,3300],gains:[1,.1,.0708,.0316,.01995],qs:[40,60,100,120,120]},y:{freqs:[400,1460,2400,3e3,3300],gains:[1,.2,.0708,.0316,.02995],qs:[40,60,100,120,120]},uh:{freqs:[600,1250,2100,3100,3500],gains:[1,.3,.0608,.0316,.01995],qs:[40,70,100,120,130]},un:{freqs:[500,1240,2280,3e3,3500],gains:[1,.1,.1708,.0216,.02995],qs:[40,60,100,120,120]},en:{freqs:[600,1480,2450,3200,3300],gains:[1,.15,.0708,.0316,.02995],qs:[40,60,100,120,120]},an:{freqs:[700,1050,2500,3e3,3300],gains:[1,.1,.0708,.0316,.02995],qs:[40,60,100,120,120]},on:{freqs:[500,1080,2350,3e3,3300],gains:[1,.1,.0708,.0316,.02995],qs:[40,60,100,120,120]},get æ(){return this.ae},get ø(){return this.oe},get ɑ(){return this.aa},get å(){return this.aa},get ö(){return this.oe},get ü(){return this.ue},get ı(){return this.y}};if(typeof GainNode<"u"){class t extends GainNode{constructor(n,s){if(super(n),!cy[s])throw new Error("vowel: unknown vowel "+s);const{gains:r,qs:i,freqs:a}=cy[s],o=n.createGain();for(let u=0;u<5;u++){const c=n.createGain();c.gain.value=r[u];const l=n.createBiquadFilter();l.type="bandpass",l.Q.value=i[u],l.frequency.value=a[u],this.connect(l),l.connect(c),c.connect(o)}return o.gain.value=8,this.connect=u=>o.connect(u),this}}AudioContext.prototype.createVowelFilter=function(e){return new t(this,e)}}const Xv="data:text/javascript;base64,dmFyIF89ZnVuY3Rpb24oQyl7InVzZSBzdHJpY3QiO3ZhciBUZT1PYmplY3QuZGVmaW5lUHJvcGVydHk7dmFyIHllPShDLEQsTCk9PkQgaW4gQz9UZShDLEQse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOkx9KTpDW0RdPUw7dmFyIFN0PShDLEQsTCk9PnllKEMsdHlwZW9mIEQhPSJzeW1ib2wiP0QrIiI6RCxMKTtjbGFzcyBMIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuc3RhcnRlZD0hMSx0aGlzLm5iSW5wdXRzPXQubnVtYmVyT2ZJbnB1dHMsdGhpcy5uYk91dHB1dHM9dC5udW1iZXJPZk91dHB1dHMsdGhpcy5ibG9ja1NpemU9dC5wcm9jZXNzb3JPcHRpb25zLmJsb2NrU2l6ZSx0aGlzLmhvcFNpemU9MTI4LHRoaXMubmJPdmVybGFwcz10aGlzLmJsb2NrU2l6ZS90aGlzLmhvcFNpemUsdGhpcy5pbnB1dEJ1ZmZlcnM9bmV3IEFycmF5KHRoaXMubmJJbnB1dHMpLHRoaXMuaW5wdXRCdWZmZXJzSGVhZD1uZXcgQXJyYXkodGhpcy5uYklucHV0cyksdGhpcy5pbnB1dEJ1ZmZlcnNUb1NlbmQ9bmV3IEFycmF5KHRoaXMubmJJbnB1dHMpO2ZvcihsZXQgZT0wO2U8dGhpcy5uYklucHV0cztlKyspdGhpcy5hbGxvY2F0ZUlucHV0Q2hhbm5lbHMoZSwxKTt0aGlzLm91dHB1dEJ1ZmZlcnM9bmV3IEFycmF5KHRoaXMubmJPdXRwdXRzKSx0aGlzLm91dHB1dEJ1ZmZlcnNUb1JldHJpZXZlPW5ldyBBcnJheSh0aGlzLm5iT3V0cHV0cyk7Zm9yKGxldCBlPTA7ZTx0aGlzLm5iT3V0cHV0cztlKyspdGhpcy5hbGxvY2F0ZU91dHB1dENoYW5uZWxzKGUsMSl9cmVhbGxvY2F0ZUNoYW5uZWxzSWZOZWVkZWQodCxlKXtmb3IobGV0IHM9MDtzPHRoaXMubmJJbnB1dHM7cysrKXtsZXQgcj10W3NdLmxlbmd0aDtyIT10aGlzLmlucHV0QnVmZmVyc1tzXS5sZW5ndGgmJnRoaXMuYWxsb2NhdGVJbnB1dENoYW5uZWxzKHMscil9Zm9yKGxldCBzPTA7czx0aGlzLm5iT3V0cHV0cztzKyspe2xldCByPWVbc10ubGVuZ3RoO3IhPXRoaXMub3V0cHV0QnVmZmVyc1tzXS5sZW5ndGgmJnRoaXMuYWxsb2NhdGVPdXRwdXRDaGFubmVscyhzLHIpfX1hbGxvY2F0ZUlucHV0Q2hhbm5lbHModCxlKXt0aGlzLmlucHV0QnVmZmVyc1t0XT1uZXcgQXJyYXkoZSk7Zm9yKGxldCBzPTA7czxlO3MrKyl0aGlzLmlucHV0QnVmZmVyc1t0XVtzXT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYmxvY2tTaXplKzEyOCksdGhpcy5pbnB1dEJ1ZmZlcnNbdF1bc10uZmlsbCgwKTt0aGlzLmlucHV0QnVmZmVyc0hlYWRbdF09bmV3IEFycmF5KGUpLHRoaXMuaW5wdXRCdWZmZXJzVG9TZW5kW3RdPW5ldyBBcnJheShlKTtmb3IobGV0IHM9MDtzPGU7cysrKXRoaXMuaW5wdXRCdWZmZXJzSGVhZFt0XVtzXT10aGlzLmlucHV0QnVmZmVyc1t0XVtzXS5zdWJhcnJheSgwLHRoaXMuYmxvY2tTaXplKSx0aGlzLmlucHV0QnVmZmVyc1RvU2VuZFt0XVtzXT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYmxvY2tTaXplKX1hbGxvY2F0ZU91dHB1dENoYW5uZWxzKHQsZSl7dGhpcy5vdXRwdXRCdWZmZXJzW3RdPW5ldyBBcnJheShlKTtmb3IobGV0IHM9MDtzPGU7cysrKXRoaXMub3V0cHV0QnVmZmVyc1t0XVtzXT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYmxvY2tTaXplKSx0aGlzLm91dHB1dEJ1ZmZlcnNbdF1bc10uZmlsbCgwKTt0aGlzLm91dHB1dEJ1ZmZlcnNUb1JldHJpZXZlW3RdPW5ldyBBcnJheShlKTtmb3IobGV0IHM9MDtzPGU7cysrKXRoaXMub3V0cHV0QnVmZmVyc1RvUmV0cmlldmVbdF1bc109bmV3IEZsb2F0MzJBcnJheSh0aGlzLmJsb2NrU2l6ZSksdGhpcy5vdXRwdXRCdWZmZXJzVG9SZXRyaWV2ZVt0XVtzXS5maWxsKDApfXJlYWRJbnB1dHModCl7aWYodFswXS5sZW5ndGgmJnRbMF1bMF0ubGVuZ3RoPT0wKXtmb3IobGV0IGU9MDtlPHRoaXMubmJJbnB1dHM7ZSsrKWZvcihsZXQgcz0wO3M8dGhpcy5pbnB1dEJ1ZmZlcnNbZV0ubGVuZ3RoO3MrKyl0aGlzLmlucHV0QnVmZmVyc1tlXVtzXS5maWxsKDAsdGhpcy5ibG9ja1NpemUpO3JldHVybn1mb3IobGV0IGU9MDtlPHRoaXMubmJJbnB1dHM7ZSsrKWZvcihsZXQgcz0wO3M8dGhpcy5pbnB1dEJ1ZmZlcnNbZV0ubGVuZ3RoO3MrKyl7bGV0IHI9dFtlXVtzXTt0aGlzLmlucHV0QnVmZmVyc1tlXVtzXS5zZXQocix0aGlzLmJsb2NrU2l6ZSl9fXdyaXRlT3V0cHV0cyh0KXtmb3IobGV0IGU9MDtlPHRoaXMubmJJbnB1dHM7ZSsrKWZvcihsZXQgcz0wO3M8dGhpcy5pbnB1dEJ1ZmZlcnNbZV0ubGVuZ3RoO3MrKyl7bGV0IHI9dGhpcy5vdXRwdXRCdWZmZXJzW2VdW3NdLnN1YmFycmF5KDAsMTI4KTt0W2VdW3NdLnNldChyKX19c2hpZnRJbnB1dEJ1ZmZlcnMoKXtmb3IobGV0IHQ9MDt0PHRoaXMubmJJbnB1dHM7dCsrKWZvcihsZXQgZT0wO2U8dGhpcy5pbnB1dEJ1ZmZlcnNbdF0ubGVuZ3RoO2UrKyl0aGlzLmlucHV0QnVmZmVyc1t0XVtlXS5jb3B5V2l0aGluKDAsMTI4KX1zaGlmdE91dHB1dEJ1ZmZlcnMoKXtmb3IobGV0IHQ9MDt0PHRoaXMubmJPdXRwdXRzO3QrKylmb3IobGV0IGU9MDtlPHRoaXMub3V0cHV0QnVmZmVyc1t0XS5sZW5ndGg7ZSsrKXRoaXMub3V0cHV0QnVmZmVyc1t0XVtlXS5jb3B5V2l0aGluKDAsMTI4KSx0aGlzLm91dHB1dEJ1ZmZlcnNbdF1bZV0uc3ViYXJyYXkodGhpcy5ibG9ja1NpemUtMTI4KS5maWxsKDApfXByZXBhcmVJbnB1dEJ1ZmZlcnNUb1NlbmQoKXtmb3IobGV0IHQ9MDt0PHRoaXMubmJJbnB1dHM7dCsrKWZvcihsZXQgZT0wO2U8dGhpcy5pbnB1dEJ1ZmZlcnNbdF0ubGVuZ3RoO2UrKyl0aGlzLmlucHV0QnVmZmVyc1RvU2VuZFt0XVtlXS5zZXQodGhpcy5pbnB1dEJ1ZmZlcnNIZWFkW3RdW2VdKX1oYW5kbGVPdXRwdXRCdWZmZXJzVG9SZXRyaWV2ZSgpe2ZvcihsZXQgdD0wO3Q8dGhpcy5uYk91dHB1dHM7dCsrKWZvcihsZXQgZT0wO2U8dGhpcy5vdXRwdXRCdWZmZXJzW3RdLmxlbmd0aDtlKyspZm9yKGxldCBzPTA7czx0aGlzLmJsb2NrU2l6ZTtzKyspdGhpcy5vdXRwdXRCdWZmZXJzW3RdW2VdW3NdKz10aGlzLm91dHB1dEJ1ZmZlcnNUb1JldHJpZXZlW3RdW2VdW3NdL3RoaXMubmJPdmVybGFwc31wcm9jZXNzKHQsZSxzKXtjb25zdCBpPXRbMF1bMF0hPT12b2lkIDA7cmV0dXJuIHRoaXMuc3RhcnRlZCYmIWk/ITE6KHRoaXMuc3RhcnRlZD1pLHRoaXMucmVhbGxvY2F0ZUNoYW5uZWxzSWZOZWVkZWQodCxlKSx0aGlzLnJlYWRJbnB1dHModCksdGhpcy5zaGlmdElucHV0QnVmZmVycygpLHRoaXMucHJlcGFyZUlucHV0QnVmZmVyc1RvU2VuZCgpLHRoaXMucHJvY2Vzc09MQSh0aGlzLmlucHV0QnVmZmVyc1RvU2VuZCx0aGlzLm91dHB1dEJ1ZmZlcnNUb1JldHJpZXZlLHMpLHRoaXMuaGFuZGxlT3V0cHV0QnVmZmVyc1RvUmV0cmlldmUoKSx0aGlzLndyaXRlT3V0cHV0cyhlKSx0aGlzLnNoaWZ0T3V0cHV0QnVmZmVycygpLCEwKX1wcm9jZXNzT0xBKHQsZSxzKXtjb25zb2xlLmFzc2VydCghMSwiTm90IG92ZXJyaWRlbiIpfX1jbGFzcyBrdHtjb25zdHJ1Y3Rvcih0KXtpZih0aGlzLnNpemU9dHwwLHRoaXMuc2l6ZTw9MXx8dGhpcy5zaXplJnRoaXMuc2l6ZS0xKXRocm93IG5ldyBFcnJvcigiRkZUIHNpemUgbXVzdCBiZSBhIHBvd2VyIG9mIHR3byBhbmQgYmlnZ2VyIHRoYW4gMSIpO3RoaXMuX2NzaXplPXQ8PDE7Zm9yKHZhciBlPW5ldyBBcnJheSh0aGlzLnNpemUqMikscz0wO3M8ZS5sZW5ndGg7cys9Mil7Y29uc3QgYz1NYXRoLlBJKnMvdGhpcy5zaXplO2Vbc109TWF0aC5jb3MoYyksZVtzKzFdPS1NYXRoLnNpbihjKX10aGlzLnRhYmxlPWU7Zm9yKHZhciByPTAsaT0xO3RoaXMuc2l6ZT5pO2k8PD0xKXIrKzt0aGlzLl93aWR0aD1yJTI9PT0wP3ItMTpyLHRoaXMuX2JpdHJldj1uZXcgQXJyYXkoMTw8dGhpcy5fd2lkdGgpO2Zvcih2YXIgbz0wO288dGhpcy5fYml0cmV2Lmxlbmd0aDtvKyspe3RoaXMuX2JpdHJldltvXT0wO2Zvcih2YXIgYT0wO2E8dGhpcy5fd2lkdGg7YSs9Mil7dmFyIHU9dGhpcy5fd2lkdGgtYS0yO3RoaXMuX2JpdHJldltvXXw9KG8+Pj5hJjMpPDx1fX10aGlzLl9vdXQ9bnVsbCx0aGlzLl9kYXRhPW51bGwsdGhpcy5faW52PTB9ZnJvbUNvbXBsZXhBcnJheSh0LGUpe2Zvcih2YXIgcz1lfHxuZXcgQXJyYXkodC5sZW5ndGg+Pj4xKSxyPTA7cjx0Lmxlbmd0aDtyKz0yKXNbcj4+PjFdPXRbcl07cmV0dXJuIHN9Y3JlYXRlQ29tcGxleEFycmF5KCl7Y29uc3QgdD1uZXcgQXJyYXkodGhpcy5fY3NpemUpO2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXRbZV09MDtyZXR1cm4gdH10b0NvbXBsZXhBcnJheSh0LGUpe2Zvcih2YXIgcz1lfHx0aGlzLmNyZWF0ZUNvbXBsZXhBcnJheSgpLHI9MDtyPHMubGVuZ3RoO3IrPTIpc1tyXT10W3I+Pj4xXSxzW3IrMV09MDtyZXR1cm4gc31jb21wbGV0ZVNwZWN0cnVtKHQpe2Zvcih2YXIgZT10aGlzLl9jc2l6ZSxzPWU+Pj4xLHI9MjtyPHM7cis9Mil0W2Utcl09dFtyXSx0W2UtcisxXT0tdFtyKzFdfXRyYW5zZm9ybSh0LGUpe2lmKHQ9PT1lKXRocm93IG5ldyBFcnJvcigiSW5wdXQgYW5kIG91dHB1dCBidWZmZXJzIG11c3QgYmUgZGlmZmVyZW50Iik7dGhpcy5fb3V0PXQsdGhpcy5fZGF0YT1lLHRoaXMuX2ludj0wLHRoaXMuX3RyYW5zZm9ybTQoKSx0aGlzLl9vdXQ9bnVsbCx0aGlzLl9kYXRhPW51bGx9cmVhbFRyYW5zZm9ybSh0LGUpe2lmKHQ9PT1lKXRocm93IG5ldyBFcnJvcigiSW5wdXQgYW5kIG91dHB1dCBidWZmZXJzIG11c3QgYmUgZGlmZmVyZW50Iik7dGhpcy5fb3V0PXQsdGhpcy5fZGF0YT1lLHRoaXMuX2ludj0wLHRoaXMuX3JlYWxUcmFuc2Zvcm00KCksdGhpcy5fb3V0PW51bGwsdGhpcy5fZGF0YT1udWxsfWludmVyc2VUcmFuc2Zvcm0odCxlKXtpZih0PT09ZSl0aHJvdyBuZXcgRXJyb3IoIklucHV0IGFuZCBvdXRwdXQgYnVmZmVycyBtdXN0IGJlIGRpZmZlcmVudCIpO3RoaXMuX291dD10LHRoaXMuX2RhdGE9ZSx0aGlzLl9pbnY9MSx0aGlzLl90cmFuc2Zvcm00KCk7Zm9yKHZhciBzPTA7czx0Lmxlbmd0aDtzKyspdFtzXS89dGhpcy5zaXplO3RoaXMuX291dD1udWxsLHRoaXMuX2RhdGE9bnVsbH1fdHJhbnNmb3JtNCgpe3ZhciB0PXRoaXMuX291dCxlPXRoaXMuX2NzaXplLHM9dGhpcy5fd2lkdGgscj0xPDxzLGk9ZS9yPDwxLG8sYSx1PXRoaXMuX2JpdHJldjtpZihpPT09NClmb3Iobz0wLGE9MDtvPGU7bys9aSxhKyspe2NvbnN0IGQ9dVthXTt0aGlzLl9zaW5nbGVUcmFuc2Zvcm0yKG8sZCxyKX1lbHNlIGZvcihvPTAsYT0wO288ZTtvKz1pLGErKyl7Y29uc3QgZD11W2FdO3RoaXMuX3NpbmdsZVRyYW5zZm9ybTQobyxkLHIpfXZhciBjPXRoaXMuX2ludj8tMToxLGg9dGhpcy50YWJsZTtmb3Iocj4+PTI7cj49MjtyPj49Mil7aT1lL3I8PDE7dmFyIGY9aT4+PjI7Zm9yKG89MDtvPGU7bys9aSlmb3IodmFyIHA9bytmLGw9byxtPTA7bDxwO2wrPTIsbSs9cil7Y29uc3QgZD1sLGI9ZCtmLEk9YitmLHY9SStmLFA9dFtkXSx3PXRbZCsxXSxUPXRbYl0sQj10W2IrMV0sQT10W0ldLHk9dFtJKzFdLE89dFt2XSxxPXRbdisxXSx4PVAsRT13LE49aFttXSxGPWMqaFttKzFdLFY9VCpOLUIqRixrPVQqRitCKk4sUj1oWzIqbV0sWD1jKmhbMiptKzFdLHR0PUEqUi15KlgsZXQ9QSpYK3kqUixzdD1oWzMqbV0scnQ9YypoWzMqbSsxXSxudD1PKnN0LXEqcnQsaXQ9TypydCtxKnN0LG90PXgrdHQsSz1FK2V0LGo9eC10dCxhdD1FLWV0LGN0PVYrbnQsWj1rK2l0LCQ9YyooVi1udCksdXQ9Yyooay1pdCksbHQ9b3QrY3QsZ3Q9SytaLGJ0PW90LWN0LEl0PUstWixfdD1qK3V0LEJ0PWF0LSQsTXQ9ai11dCxQdD1hdCskO3RbZF09bHQsdFtkKzFdPWd0LHRbYl09X3QsdFtiKzFdPUJ0LHRbSV09YnQsdFtJKzFdPUl0LHRbdl09TXQsdFt2KzFdPVB0fX19X3NpbmdsZVRyYW5zZm9ybTIodCxlLHMpe2NvbnN0IHI9dGhpcy5fb3V0LGk9dGhpcy5fZGF0YSxvPWlbZV0sYT1pW2UrMV0sdT1pW2Urc10sYz1pW2UrcysxXSxoPW8rdSxmPWErYyxwPW8tdSxsPWEtYztyW3RdPWgsclt0KzFdPWYsclt0KzJdPXAsclt0KzNdPWx9X3NpbmdsZVRyYW5zZm9ybTQodCxlLHMpe2NvbnN0IHI9dGhpcy5fb3V0LGk9dGhpcy5fZGF0YSxvPXRoaXMuX2ludj8tMToxLGE9cyoyLHU9cyozLGM9aVtlXSxoPWlbZSsxXSxmPWlbZStzXSxwPWlbZStzKzFdLGw9aVtlK2FdLG09aVtlK2ErMV0sZD1pW2UrdV0sYj1pW2UrdSsxXSxJPWMrbCx2PWgrbSxQPWMtbCx3PWgtbSxUPWYrZCxCPXArYixBPW8qKGYtZCkseT1vKihwLWIpLE89SStULHE9ditCLHg9UCt5LEU9dy1BLE49SS1ULEY9di1CLFY9UC15LGs9dytBO3JbdF09TyxyW3QrMV09cSxyW3QrMl09eCxyW3QrM109RSxyW3QrNF09TixyW3QrNV09RixyW3QrNl09VixyW3QrN109a31fcmVhbFRyYW5zZm9ybTQoKXt2YXIgdD10aGlzLl9vdXQsZT10aGlzLl9jc2l6ZSxzPXRoaXMuX3dpZHRoLHI9MTw8cyxpPWUvcjw8MSxvLGEsdT10aGlzLl9iaXRyZXY7aWYoaT09PTQpZm9yKG89MCxhPTA7bzxlO28rPWksYSsrKXtjb25zdCB3dD11W2FdO3RoaXMuX3NpbmdsZVJlYWxUcmFuc2Zvcm0yKG8sd3Q+Pj4xLHI+Pj4xKX1lbHNlIGZvcihvPTAsYT0wO288ZTtvKz1pLGErKyl7Y29uc3Qgd3Q9dVthXTt0aGlzLl9zaW5nbGVSZWFsVHJhbnNmb3JtNChvLHd0Pj4+MSxyPj4+MSl9dmFyIGM9dGhpcy5faW52Py0xOjEsaD10aGlzLnRhYmxlO2ZvcihyPj49MjtyPj0yO3I+Pj0yKXtpPWUvcjw8MTt2YXIgZj1pPj4+MSxwPWY+Pj4xLGw9cD4+PjE7Zm9yKG89MDtvPGU7bys9aSlmb3IodmFyIG09MCxkPTA7bTw9bDttKz0yLGQrPXIpe3ZhciBiPW8rbSxJPWIrcCx2PUkrcCxQPXYrcCx3PXRbYl0sVD10W2IrMV0sQj10W0ldLEE9dFtJKzFdLHk9dFt2XSxPPXRbdisxXSxxPXRbUF0seD10W1ArMV0sRT13LE49VCxGPWhbZF0sVj1jKmhbZCsxXSxrPUIqRi1BKlYsUj1CKlYrQSpGLFg9aFsyKmRdLHR0PWMqaFsyKmQrMV0sZXQ9eSpYLU8qdHQsc3Q9eSp0dCtPKlgscnQ9aFszKmRdLG50PWMqaFszKmQrMV0saXQ9cSpydC14Km50LG90PXEqbnQreCpydCxLPUUrZXQsaj1OK3N0LGF0PUUtZXQsY3Q9Ti1zdCxaPWsraXQsJD1SK290LHV0PWMqKGstaXQpLGx0PWMqKFItb3QpLGd0PUsrWixidD1qKyQsSXQ9YXQrbHQsX3Q9Y3QtdXQ7aWYodFtiXT1ndCx0W2IrMV09YnQsdFtJXT1JdCx0W0krMV09X3QsbT09PTApe3ZhciBCdD1LLVosTXQ9ai0kO3Rbdl09QnQsdFt2KzFdPU10O2NvbnRpbnVlfWlmKG0hPT1sKXt2YXIgUHQ9YXQsbWU9LWN0LHZlPUssZ2U9LWosYmU9LWMqbHQsSWU9LWMqdXQsX2U9LWMqJCxCZT0tYypaLE1lPVB0K2JlLFBlPW1lK0llLHdlPXZlK0JlLFNlPWdlLV9lLEN0PW8rcC1tLEV0PW8rZi1tO3RbQ3RdPU1lLHRbQ3QrMV09UGUsdFtFdF09d2UsdFtFdCsxXT1TZX19fX1fc2luZ2xlUmVhbFRyYW5zZm9ybTIodCxlLHMpe2NvbnN0IHI9dGhpcy5fb3V0LGk9dGhpcy5fZGF0YSxvPWlbZV0sYT1pW2Urc10sdT1vK2EsYz1vLWE7clt0XT11LHJbdCsxXT0wLHJbdCsyXT1jLHJbdCszXT0wfV9zaW5nbGVSZWFsVHJhbnNmb3JtNCh0LGUscyl7Y29uc3Qgcj10aGlzLl9vdXQsaT10aGlzLl9kYXRhLG89dGhpcy5faW52Py0xOjEsYT1zKjIsdT1zKjMsYz1pW2VdLGg9aVtlK3NdLGY9aVtlK2FdLHA9aVtlK3VdLGw9YytmLG09Yy1mLGQ9aCtwLGI9byooaC1wKSxJPWwrZCx2PW0sUD0tYix3PWwtZCxUPW0sQj1iO3JbdF09SSxyW3QrMV09MCxyW3QrMl09dixyW3QrM109UCxyW3QrNF09dyxyW3QrNV09MCxyW3QrNl09VCxyW3QrN109Qn19bGV0IER0PW49PmNvbnNvbGUubG9nKG4pO2NvbnN0IHp0PSguLi5uKT0+RHQoLi4ubikscXQ9KG4sdCxlKT0+TWF0aC5taW4oTWF0aC5tYXgobix0KSxlKSxUdD1uPT5uLygxK24pLFd0PShuLHQpPT4obiV0K3QpJXQsTHQ9KG4sdCk9PigxK3QpKm4vKDErdCpNYXRoLmFicyhuKSksWT0obix0KT0+TWF0aC50YW5oKG4qKDErdCkpLFl0PShuLHQpPT5xdCgoMSt0KSpuLC0xLDEpLHl0PShuLHQpPT57bGV0IGU9KDErLjUqdCkqbjtjb25zdCBzPVd0KGUrMSw0KTtyZXR1cm4gMS1NYXRoLmFicyhzLTIpfSxIdD0obix0KT0+TWF0aC5zaW4oTWF0aC5QSS8yKnl0KG4sdCkpLFV0PShuLHQpPT57Y29uc3QgZT1UdChNYXRoLmxvZzFwKHQpKSxzPShuLWUvMypuKm4qbikvKDEtZS8zKTtyZXR1cm4gWShzLHQpfSxBdD0obix0LGU9ITEpPT57Y29uc3Qgcz0xKzIqdCxpPS4wNypUdChNYXRoLmxvZzFwKHQpKSxvPVkobitpLDIqdCksYT1ZKGU/aTotbitpLDIqdCksdT1vLWEsYz0xL01hdGguY29zaChzKmkpLGg9YypjLGY9TWF0aC5tYXgoMWUtOCwoZT8xOjIpKnMqaCk7cmV0dXJuIFkodS9mLHQpfSxPdD17c2N1cnZlOkx0LHNvZnQ6WSxoYXJkOll0LGN1YmljOlV0LGRpb2RlOkF0LGFzeW06KG4sdCk9PkF0KG4sdCwhMCksZm9sZDp5dCxzaW5lZm9sZDpIdCxjaGVieXNoZXY6KG4sdCk9Pntjb25zdCBlPTEwKk1hdGgubG9nMXAodCk7bGV0IHM9MSxyPW4saSxvPTA7Zm9yKGxldCBhPTE7YTw2NDthKyspe2lmKGE8Mil7bys9YT09MD9zOnI7Y29udGludWV9aT0yKm4qcy1yLHI9cyxzPWksYSUyPT09MCYmKG8rPU1hdGgubWluKDEuMyplL2EsMikqaSl9cmV0dXJuIFkobyxlLzIwKX19LEc9T2JqZWN0LmZyZWV6ZShPYmplY3Qua2V5cyhPdCkpLEt0PW49PntsZXQgdD1uO3R5cGVvZiBuPT0ic3RyaW5nIiYmKHQ9Ry5pbmRleE9mKG4pLHQ9PT0tMSYmKHp0KGBbc3VwZXJkb3VnaF0gQ291bGQgbm90IGZpbmQgd2F2ZXNoYXBpbmcgYWxnb3JpdGhtICR7bn0uCiAgICAgICAgQXZhaWxhYmxlIG9wdGlvbnMgYXJlICR7Ry5qb2luKCIsICIpfS4KICAgICAgICBEZWZhdWx0aW5nIHRvICR7R1swXX0uYCksdD0wKSk7Y29uc3QgZT1HW3QlRy5sZW5ndGhdO3JldHVybiBPdFtlXX0sTT0obix0LGUpPT5NYXRoLm1pbihNYXRoLm1heChuLHQpLGUpLHh0PShuLHQpPT4obiV0K3QpJXQsanQ9KG4sdCxlKT0+ZSoodC1uKStuLFM9KG4sdCk9Pm5bdF0/P25bMF0sVz1uPT5uLU1hdGguZmxvb3IobiksZnQ9bj0+bnwwLE50PShuLHQsZSk9Pm48Mj8wOmp0KC10Ki41LHQqLjUsZS8obi0xKSksSD0obix0KT0+bipNYXRoLnBvdygyLHQvMTIpO2Z1bmN0aW9uIEZ0KG4sdD0xKXtyZXR1cm4gbj49dD9uLT10Om48MCYmKG4rPXQpLG59Y29uc3QgVT0xMjg7ZnVuY3Rpb24gWnQobix0KXtyZXR1cm4gdD1NYXRoLm1pbih0LDEtdCksbjx0PyhuLz10LG4rbi1uKm4tMSk6bj4xLXQ/KG49KG4tMSkvdCxuKm4rbituKzEpOjB9Y29uc3QgcHQ9e3RyaShuLHQ9LjUpe2NvbnN0IGU9MS10O3JldHVybiBuPj10PzEvZS1uL2U6bi90fSxzaW5lKG4pe3JldHVybiBNYXRoLnNpbihNYXRoLlBJKjIqbikqLjUrLjV9LHJhbXAobil7cmV0dXJuIG59LHNhdyhuKXtyZXR1cm4gMS1ufSxzcXVhcmUobix0PS41KXtyZXR1cm4gbj49dD8wOjF9LGN1c3RvbShuLHQ9WzAsMV0pe2NvbnN0IGU9dC5sZW5ndGgtMSxzPU1hdGguZmxvb3IobiplKSxyPTEvZSxpPU0odFtzXSwwLDEpLGE9TSh0W3MrMV0sMCwxKSx1PWksYz0wLGg9cjtyZXR1cm4oYS11KS8oaC1jKSoobi1yKnMpK2l9LHNhd2JsZXAobix0KXtyZXR1cm4gMipuLTEtWnQobix0KX19O2Z1bmN0aW9uIFEobix0KXtyZXR1cm4gdC5sZW5ndGg+MT90W25dOnRbMF19Y29uc3QgJHQ9T2JqZWN0LmtleXMocHQpO2NsYXNzIEd0IGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye3N0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6ImJlZ2luIixkZWZhdWx0VmFsdWU6MH0se25hbWU6InRpbWUiLGRlZmF1bHRWYWx1ZTowfSx7bmFtZToiZW5kIixkZWZhdWx0VmFsdWU6MH0se25hbWU6ImZyZXF1ZW5jeSIsZGVmYXVsdFZhbHVlOi41fSx7bmFtZToic2tldyIsZGVmYXVsdFZhbHVlOi41fSx7bmFtZToiZGVwdGgiLGRlZmF1bHRWYWx1ZToxfSx7bmFtZToicGhhc2VvZmZzZXQiLGRlZmF1bHRWYWx1ZTowfSx7bmFtZToic2hhcGUiLGRlZmF1bHRWYWx1ZTowfSx7bmFtZToiY3VydmUiLGRlZmF1bHRWYWx1ZToxfSx7bmFtZToiZGNvZmZzZXQiLGRlZmF1bHRWYWx1ZTowfSx7bmFtZToibWluIixkZWZhdWx0VmFsdWU6MH0se25hbWU6Im1heCIsZGVmYXVsdFZhbHVlOjF9XX1jb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5waGFzZX1pbmNyZW1lbnRQaGFzZSh0KXt0aGlzLnBoYXNlKz10LHRoaXMucGhhc2U+MSYmKHRoaXMucGhhc2U9dGhpcy5waGFzZS0xKX1wcm9jZXNzKHQsZSxzKXtjb25zdCByPXMuYmVnaW5bMF07aWYoY3VycmVudFRpbWU+PXMuZW5kWzBdKXJldHVybiExO2lmKGN1cnJlbnRUaW1lPD1yKXJldHVybiEwO2NvbnN0IGk9ZVswXSxvPXMuZnJlcXVlbmN5WzBdLGE9cy50aW1lWzBdLHU9cy5kZXB0aFswXSxjPXMuc2tld1swXSxoPXMucGhhc2VvZmZzZXRbMF0sZj1zLmN1cnZlWzBdLHA9cy5kY29mZnNldFswXSxsPXMubWluWzBdLG09cy5tYXhbMF0sZD0kdFtzLnNoYXBlWzBdXSxiPWlbMF0ubGVuZ3RoPz8wO3RoaXMucGhhc2U9PW51bGwmJih0aGlzLnBoYXNlPXh0KGEqbytoLDEpKTtjb25zdCBJPW8vc2FtcGxlUmF0ZTtmb3IobGV0IHY9MDt2PGI7disrKXtmb3IobGV0IFA9MDtQPGkubGVuZ3RoO1ArKyl7bGV0IHc9KHB0W2RdKHRoaXMucGhhc2UsYykrcCkqdTt3PU1hdGgucG93KHcsZiksaVtQXVt2XT1NKHcsbCxtKX10aGlzLmluY3JlbWVudFBoYXNlKEkpfXJldHVybiEwfX1yZWdpc3RlclByb2Nlc3NvcigibGZvLXByb2Nlc3NvciIsR3QpO2NsYXNzIFF0IGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye3N0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6ImNvYXJzZSIsZGVmYXVsdFZhbHVlOjF9XX1jb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5zdGFydGVkPSExfXByb2Nlc3ModCxlLHMpe2NvbnN0IHI9dFswXSxpPWVbMF0sbz1yWzBdIT09dm9pZCAwO2lmKHRoaXMuc3RhcnRlZCYmIW8pcmV0dXJuITE7dGhpcy5zdGFydGVkPW87bGV0IGE9cy5jb2Fyc2VbMF0/PzA7YT1NYXRoLm1heCgxLGEpO2ZvcihsZXQgdT0wO3U8VTt1KyspZm9yKGxldCBjPTA7YzxyLmxlbmd0aDtjKyspaVtjXVt1XT11JWE9PT0wP3JbY11bdV06aVtjXVt1LTFdO3JldHVybiEwfX1yZWdpc3RlclByb2Nlc3NvcigiY29hcnNlLXByb2Nlc3NvciIsUXQpO2NsYXNzIEp0IGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye3N0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6ImNydXNoIixkZWZhdWx0VmFsdWU6MH1dfWNvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnN0YXJ0ZWQ9ITF9cHJvY2Vzcyh0LGUscyl7Y29uc3Qgcj10WzBdLGk9ZVswXSxvPXJbMF0hPT12b2lkIDA7aWYodGhpcy5zdGFydGVkJiYhbylyZXR1cm4hMTt0aGlzLnN0YXJ0ZWQ9bztsZXQgYT1zLmNydXNoWzBdPz84O2E9TWF0aC5tYXgoMSxhKTtmb3IobGV0IHU9MDt1PFU7dSsrKWZvcihsZXQgYz0wO2M8ci5sZW5ndGg7YysrKXtjb25zdCBoPU1hdGgucG93KDIsYS0xKTtpW2NdW3VdPU1hdGgucm91bmQocltjXVt1XSpoKS9ofXJldHVybiEwfX1yZWdpc3RlclByb2Nlc3NvcigiY3J1c2gtcHJvY2Vzc29yIixKdCk7Y2xhc3MgWHQgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7c3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpe3JldHVyblt7bmFtZToic2hhcGUiLGRlZmF1bHRWYWx1ZTowfSx7bmFtZToicG9zdGdhaW4iLGRlZmF1bHRWYWx1ZToxfV19Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuc3RhcnRlZD0hMX1wcm9jZXNzKHQsZSxzKXtjb25zdCByPXRbMF0saT1lWzBdLG89clswXSE9PXZvaWQgMDtpZih0aGlzLnN0YXJ0ZWQmJiFvKXJldHVybiExO3RoaXMuc3RhcnRlZD1vO2xldCBhPXMuc2hhcGVbMF07YT1hPDE/YTouOTk5OTk5OTk5NixhPTIqYS8oMS1hKTtjb25zdCB1PU1hdGgubWF4KC4wMDEsTWF0aC5taW4oMSxzLnBvc3RnYWluWzBdKSk7Zm9yKGxldCBjPTA7YzxVO2MrKylmb3IobGV0IGg9MDtoPHIubGVuZ3RoO2grKylpW2hdW2NdPSgxK2EpKnJbaF1bY10vKDErYSpNYXRoLmFicyhyW2hdW2NdKSkqdTtyZXR1cm4hMH19cmVnaXN0ZXJQcm9jZXNzb3IoInNoYXBlLXByb2Nlc3NvciIsWHQpO2NsYXNzIFZ0e2NvbnN0cnVjdG9yKCl7U3QodGhpcywiczAiLDApO1N0KHRoaXMsInMxIiwwKX11cGRhdGUodCxlLHM9MCl7cz1NKHMsMCwxKSxlPU0oZSwwLHNhbXBsZVJhdGUvMi0xKTtjb25zdCByPU0oMipNYXRoLnNpbihlKihkdC9zYW1wbGVSYXRlKSksMCwxLjE0KSxvPTEtTWF0aC5wb3coLjUsKHMrLjEyNSkvLjEyNSkqcjtyZXR1cm4gdGhpcy5zMD1vKnRoaXMuczAtcip0aGlzLnMxK3IqdCx0aGlzLnMxPW8qdGhpcy5zMStyKnRoaXMuczAsdGhpcy5zMX19Y2xhc3MgdGUgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7c3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpe3JldHVyblt7bmFtZToidmFsdWUiLGRlZmF1bHRWYWx1ZTouNX1dfWNvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLmZpbHRlcnM9W25ldyBWdCxuZXcgVnRdfXByb2Nlc3ModCxlLHMpe2NvbnN0IHI9dFswXSxpPWVbMF0sbz1yWzBdIT09dm9pZCAwO3RoaXMuc3RhcnRlZD1vO2NvbnN0IGE9TShzLnZhbHVlWzBdLDAsMSk7bGV0IHU9Im5vbmUiLGMsaD0xO2E+LjUxPyh1PSJoaXBhc3MiLGg9KGEtLjUpKjIpOmE8LjQ5JiYodT0ibG9wYXNzIixoPWEqMiksYz1NYXRoLnBvdyhoKjExLDQpO2ZvcihsZXQgZj0wO2Y8ci5sZW5ndGg7ZisrKWZvcihsZXQgcD0wO3A8VTtwKyspdT09Im5vbmUiP2lbZl1bcF09cltmXVtwXToodGhpcy5maWx0ZXJzW2ZdLnVwZGF0ZShyW2ZdW3BdLGMsLjEpLHU9PT0ibG9wYXNzIj9pW2ZdW3BdPXRoaXMuZmlsdGVyc1tmXS5zMTp1PT09ImhpcGFzcyI/aVtmXVtwXT1yW2ZdW3BdLXRoaXMuZmlsdGVyc1tmXS5zMTppW2ZdW3BdPXJbZl1bcF0pO3JldHVybiEwfX1yZWdpc3RlclByb2Nlc3NvcigiZGpmLXByb2Nlc3NvciIsdGUpO2Z1bmN0aW9uIHoobil7Y29uc3QgdD1uKm47cmV0dXJuIG4qKDI3K3QpLygyNys5KnQpfWNvbnN0IGR0PTMuMTQxNTkyNjUzNTk7Y2xhc3MgZWUgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7c3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpe3JldHVyblt7bmFtZToiZnJlcXVlbmN5IixkZWZhdWx0VmFsdWU6NTAwfSx7bmFtZToicSIsZGVmYXVsdFZhbHVlOjF9LHtuYW1lOiJkcml2ZSIsZGVmYXVsdFZhbHVlOi42OX1dfWNvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnN0YXJ0ZWQ9ITEsdGhpcy5wMD1bMCwwXSx0aGlzLnAxPVswLDBdLHRoaXMucDI9WzAsMF0sdGhpcy5wMz1bMCwwXSx0aGlzLnAzMj1bMCwwXSx0aGlzLnAzMz1bMCwwXSx0aGlzLnAzND1bMCwwXX1wcm9jZXNzKHQsZSxzKXtjb25zdCByPXRbMF0saT1lWzBdLG89clswXSE9PXZvaWQgMDtpZih0aGlzLnN0YXJ0ZWQmJiFvKXJldHVybiExO3RoaXMuc3RhcnRlZD1vO2NvbnN0IGE9cy5xWzBdLHU9TShNYXRoLmV4cChzLmRyaXZlWzBdKSwuMSwyZTMpO2xldCBjPXMuZnJlcXVlbmN5WzBdO2M9YyoyKmR0L3NhbXBsZVJhdGUsYz1jPjE/MTpjO2NvbnN0IGg9TWF0aC5taW4oOCxhKi4xMyk7bGV0IGY9MS91Kk1hdGgubWluKDEuNzUsMStoKTtmb3IobGV0IHA9MDtwPFU7cCsrKWZvcihsZXQgbD0wO2w8ci5sZW5ndGg7bCsrKXtjb25zdCBtPXRoaXMucDNbbF0qLjM2MDg5MSt0aGlzLnAzMltsXSouNDE3MjkrdGhpcy5wMzNbbF0qLjE3Nzg5Nit0aGlzLnAzNFtsXSouMDQzOTcyNTt0aGlzLnAzNFtsXT10aGlzLnAzM1tsXSx0aGlzLnAzM1tsXT10aGlzLnAzMltsXSx0aGlzLnAzMltsXT10aGlzLnAzW2xdLHRoaXMucDBbbF0rPSh6KHJbbF1bcF0qdS1oKm0pLXoodGhpcy5wMFtsXSkpKmMsdGhpcy5wMVtsXSs9KHoodGhpcy5wMFtsXSkteih0aGlzLnAxW2xdKSkqYyx0aGlzLnAyW2xdKz0oeih0aGlzLnAxW2xdKS16KHRoaXMucDJbbF0pKSpjLHRoaXMucDNbbF0rPSh6KHRoaXMucDJbbF0pLXoodGhpcy5wM1tsXSkpKmMsaVtsXVtwXT1tKmZ9cmV0dXJuITB9fXJlZ2lzdGVyUHJvY2Vzc29yKCJsYWRkZXItcHJvY2Vzc29yIixlZSk7Y2xhc3Mgc2UgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7c3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpe3JldHVyblt7bmFtZToiZGlzdG9ydCIsZGVmYXVsdFZhbHVlOjB9LHtuYW1lOiJwb3N0Z2FpbiIsZGVmYXVsdFZhbHVlOjF9XX1jb25zdHJ1Y3Rvcih7cHJvY2Vzc29yT3B0aW9uczp0fSl7c3VwZXIoKSx0aGlzLnN0YXJ0ZWQ9ITEsdGhpcy5hbGdvcml0aG09S3QodC5hbGdvcml0aG0pfXByb2Nlc3ModCxlLHMpe2NvbnN0IHI9dFswXSxpPWVbMF0sbz1yWzBdIT09dm9pZCAwO2lmKHRoaXMuc3RhcnRlZCYmIW8pcmV0dXJuITE7dGhpcy5zdGFydGVkPW87Zm9yKGxldCBhPTA7YTxVO2ErKyl7Y29uc3QgdT1NKFMocy5wb3N0Z2FpbixhKSwuMDAxLDEpLGM9TWF0aC5leHBtMShTKHMuZGlzdG9ydCxhKSk7Zm9yKGxldCBoPTA7aDxyLmxlbmd0aDtoKyspe2NvbnN0IGY9cltoXVthXTtpW2hdW2FdPXUqdGhpcy5hbGdvcml0aG0oZixjKX19cmV0dXJuITB9fXJlZ2lzdGVyUHJvY2Vzc29yKCJkaXN0b3J0LXByb2Nlc3NvciIsc2UpO2NsYXNzIHJlIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnBoYXNlPVtdfXN0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6ImJlZ2luIixkZWZhdWx0VmFsdWU6MCxtYXg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLG1pbjowfSx7bmFtZToiZW5kIixkZWZhdWx0VmFsdWU6MCxtYXg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLG1pbjowfSx7bmFtZToiZnJlcXVlbmN5IixkZWZhdWx0VmFsdWU6NDQwLG1pbjpOdW1iZXIuRVBTSUxPTn0se25hbWU6InBhbnNwcmVhZCIsZGVmYXVsdFZhbHVlOi40LG1pbjowLG1heDoxfSx7bmFtZToiZnJlcXNwcmVhZCIsZGVmYXVsdFZhbHVlOi4yLG1pbjowfSx7bmFtZToiZGV0dW5lIixkZWZhdWx0VmFsdWU6MCxtaW46MH0se25hbWU6InZvaWNlcyIsZGVmYXVsdFZhbHVlOjUsbWluOjF9XX1wcm9jZXNzKHQsZSxzKXtpZihjdXJyZW50VGltZTw9cy5iZWdpblswXSlyZXR1cm4hMDtpZihjdXJyZW50VGltZT49cy5lbmRbMF0pcmV0dXJuITE7Y29uc3Qgcj1lWzBdO2ZvcihsZXQgaT0wO2k8clswXS5sZW5ndGg7aSsrKXtjb25zdCBvPVMocy5kZXR1bmUsaSksYT1TKHMudm9pY2VzLGkpLHU9UyhzLmZyZXFzcHJlYWQsaSksYz1TKHMucGFuc3ByZWFkLGkpKi41Ky41LGg9TWF0aC5zcXJ0KDEtYyksZj1NYXRoLnNxcnQoYyk7bGV0IHA9UyhzLmZyZXF1ZW5jeSxpKTtwPUgocCxvLzEwMCk7Zm9yKGxldCBsPTA7bDxhO2wrKyl7Y29uc3QgbT0obCYxKT09MTtsZXQgZD1oLGI9ZjttJiYoZD1mLGI9aCk7Y29uc3QgST1IKHAsTnQoYSx1LGwpKSx2PXh0KEkvc2FtcGxlUmF0ZSwxKTt0aGlzLnBoYXNlW2xdPXRoaXMucGhhc2VbbF0/P01hdGgucmFuZG9tKCk7Y29uc3QgUD1wdC5zYXdibGVwKHRoaXMucGhhc2VbbF0sdik7clswXVtpXT1yWzBdW2ldK1AqZCxyWzFdW2ldPXJbMV1baV0rUCpiLHRoaXMucGhhc2VbbF09RnQodGhpcy5waGFzZVtsXSt2KX19cmV0dXJuITB9fXJlZ2lzdGVyUHJvY2Vzc29yKCJzdXBlcnNhdy1vc2NpbGxhdG9yIixyZSk7Y29uc3QgbmU9MjA0ODtmdW5jdGlvbiBpZShuKXtsZXQgdD1uZXcgRmxvYXQzMkFycmF5KG4pO2Zvcih2YXIgZT0wO2U8bjtlKyspdFtlXT0uNSooMS1NYXRoLmNvcygyKk1hdGguUEkqZS9uKSk7cmV0dXJuIHR9Y2xhc3Mgb2UgZXh0ZW5kcyBMe3N0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6InBpdGNoRmFjdG9yIixkZWZhdWx0VmFsdWU6MX1dfWNvbnN0cnVjdG9yKHQpe3QucHJvY2Vzc29yT3B0aW9ucz17YmxvY2tTaXplOm5lfSxzdXBlcih0KSx0aGlzLmZmdFNpemU9dGhpcy5ibG9ja1NpemUsdGhpcy50aW1lQ3Vyc29yPTAsdGhpcy5oYW5uV2luZG93PWllKHRoaXMuYmxvY2tTaXplKSx0aGlzLmZmdD1uZXcga3QodGhpcy5mZnRTaXplKSx0aGlzLmZyZXFDb21wbGV4QnVmZmVyPXRoaXMuZmZ0LmNyZWF0ZUNvbXBsZXhBcnJheSgpLHRoaXMuZnJlcUNvbXBsZXhCdWZmZXJTaGlmdGVkPXRoaXMuZmZ0LmNyZWF0ZUNvbXBsZXhBcnJheSgpLHRoaXMudGltZUNvbXBsZXhCdWZmZXI9dGhpcy5mZnQuY3JlYXRlQ29tcGxleEFycmF5KCksdGhpcy5tYWduaXR1ZGVzPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5mZnRTaXplLzIrMSksdGhpcy5wZWFrSW5kZXhlcz1uZXcgSW50MzJBcnJheSh0aGlzLm1hZ25pdHVkZXMubGVuZ3RoKSx0aGlzLm5iUGVha3M9MH1wcm9jZXNzT0xBKHQsZSxzKXtsZXQgcj1zLnBpdGNoRmFjdG9yW3MucGl0Y2hGYWN0b3IubGVuZ3RoLTFdO3I8MCYmKHI9ciouMjUpLHI9TWF0aC5tYXgoMCxyKzEpO2Zvcih2YXIgaT0wO2k8dGhpcy5uYklucHV0cztpKyspZm9yKHZhciBvPTA7bzx0W2ldLmxlbmd0aDtvKyspe3ZhciBhPXRbaV1bb10sdT1lW2ldW29dO3RoaXMuYXBwbHlIYW5uV2luZG93KGEpLHRoaXMuZmZ0LnJlYWxUcmFuc2Zvcm0odGhpcy5mcmVxQ29tcGxleEJ1ZmZlcixhKSx0aGlzLmNvbXB1dGVNYWduaXR1ZGVzKCksdGhpcy5maW5kUGVha3MoKSx0aGlzLnNoaWZ0UGVha3MociksdGhpcy5mZnQuY29tcGxldGVTcGVjdHJ1bSh0aGlzLmZyZXFDb21wbGV4QnVmZmVyU2hpZnRlZCksdGhpcy5mZnQuaW52ZXJzZVRyYW5zZm9ybSh0aGlzLnRpbWVDb21wbGV4QnVmZmVyLHRoaXMuZnJlcUNvbXBsZXhCdWZmZXJTaGlmdGVkKSx0aGlzLmZmdC5mcm9tQ29tcGxleEFycmF5KHRoaXMudGltZUNvbXBsZXhCdWZmZXIsdSksdGhpcy5hcHBseUhhbm5XaW5kb3codSl9dGhpcy50aW1lQ3Vyc29yKz10aGlzLmhvcFNpemV9YXBwbHlIYW5uV2luZG93KHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5ibG9ja1NpemU7ZSsrKXRbZV09dFtlXSp0aGlzLmhhbm5XaW5kb3dbZV0qMS42Mn1jb21wdXRlTWFnbml0dWRlcygpe2Zvcih2YXIgdD0wLGU9MDt0PHRoaXMubWFnbml0dWRlcy5sZW5ndGg7KXtsZXQgcz10aGlzLmZyZXFDb21wbGV4QnVmZmVyW2VdLHI9dGhpcy5mcmVxQ29tcGxleEJ1ZmZlcltlKzFdO3RoaXMubWFnbml0dWRlc1t0XT1zKioyK3IqKjIsdCs9MSxlKz0yfX1maW5kUGVha3MoKXt0aGlzLm5iUGVha3M9MDt2YXIgdD0yO2xldCBlPXRoaXMubWFnbml0dWRlcy5sZW5ndGgtMjtmb3IoO3Q8ZTspe2xldCBzPXRoaXMubWFnbml0dWRlc1t0XTtpZih0aGlzLm1hZ25pdHVkZXNbdC0xXT49c3x8dGhpcy5tYWduaXR1ZGVzW3QtMl0+PXMpe3QrKztjb250aW51ZX1pZih0aGlzLm1hZ25pdHVkZXNbdCsxXT49c3x8dGhpcy5tYWduaXR1ZGVzW3QrMl0+PXMpe3QrKztjb250aW51ZX10aGlzLnBlYWtJbmRleGVzW3RoaXMubmJQZWFrc109dCx0aGlzLm5iUGVha3MrKyx0Kz0yfX1zaGlmdFBlYWtzKHQpe3RoaXMuZnJlcUNvbXBsZXhCdWZmZXJTaGlmdGVkLmZpbGwoMCk7Zm9yKHZhciBlPTA7ZTx0aGlzLm5iUGVha3M7ZSsrKXtsZXQgbz10aGlzLnBlYWtJbmRleGVzW2VdLGE9TWF0aC5yb3VuZChvKnQpO2lmKGE+dGhpcy5tYWduaXR1ZGVzLmxlbmd0aClicmVhazt2YXIgcz0wLHI9dGhpcy5mZnRTaXplO2lmKGU+MCl7bGV0IGg9dGhpcy5wZWFrSW5kZXhlc1tlLTFdO3M9by1NYXRoLmZsb29yKChvLWgpLzIpfWlmKGU8dGhpcy5uYlBlYWtzLTEpe2xldCBoPXRoaXMucGVha0luZGV4ZXNbZSsxXTtyPW8rTWF0aC5jZWlsKChoLW8pLzIpfWxldCB1PXMtbyxjPXItbztmb3IodmFyIGk9dTtpPGM7aSsrKXtsZXQgaD1vK2ksZj1hK2k7aWYoZj49dGhpcy5tYWduaXR1ZGVzLmxlbmd0aClicmVhaztsZXQgcD0yKk1hdGguUEkqKGYtaCkvdGhpcy5mZnRTaXplLGw9TWF0aC5jb3MocCp0aGlzLnRpbWVDdXJzb3IpLG09TWF0aC5zaW4ocCp0aGlzLnRpbWVDdXJzb3IpLGQ9aCoyLGI9ZCsxLEk9dGhpcy5mcmVxQ29tcGxleEJ1ZmZlcltkXSx2PXRoaXMuZnJlcUNvbXBsZXhCdWZmZXJbYl0sUD1JKmwtdiptLHc9SSptK3YqbCxUPWYqMixCPVQrMTt0aGlzLmZyZXFDb21wbGV4QnVmZmVyU2hpZnRlZFtUXSs9UCx0aGlzLmZyZXFDb21wbGV4QnVmZmVyU2hpZnRlZFtCXSs9d319fX1yZWdpc3RlclByb2Nlc3NvcigicGhhc2Utdm9jb2Rlci1wcm9jZXNzb3IiLG9lKTtjbGFzcyBhZSBleHRlbmRzIEF1ZGlvV29ya2xldFByb2Nlc3Nvcntjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5waT1kdCx0aGlzLnBoaT0tdGhpcy5waSx0aGlzLlkwPTAsdGhpcy5ZMT0wLHRoaXMuUFc9dGhpcy5waSx0aGlzLkI9Mi4zLHRoaXMuZHBoaWY9MCx0aGlzLmVudmY9MH1zdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCl7cmV0dXJuW3tuYW1lOiJiZWdpbiIsZGVmYXVsdFZhbHVlOjAsbWF4Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWSxtaW46MH0se25hbWU6ImVuZCIsZGVmYXVsdFZhbHVlOjAsbWF4Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWSxtaW46MH0se25hbWU6ImZyZXF1ZW5jeSIsZGVmYXVsdFZhbHVlOjQ0MCxtaW46TnVtYmVyLkVQU0lMT059LHtuYW1lOiJkZXR1bmUiLGRlZmF1bHRWYWx1ZTowLG1pbjpOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksbWF4Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWX0se25hbWU6InB1bHNld2lkdGgiLGRlZmF1bHRWYWx1ZToxLG1pbjowLG1heDpOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9XX1wcm9jZXNzKHQsZSxzKXtpZih0aGlzLmRpc2Nvbm5lY3RlZClyZXR1cm4hMTtpZihjdXJyZW50VGltZTw9cy5iZWdpblswXSlyZXR1cm4hMDtpZihjdXJyZW50VGltZT49cy5lbmRbMF0pcmV0dXJuITE7Y29uc3Qgcj1lWzBdO2xldCBpPTEsbztmb3IobGV0IGE9MDthPChyWzBdLmxlbmd0aD8/MCk7YSsrKXtjb25zdCB1PSgxLU0oUShhLHMucHVsc2V3aWR0aCksLS45OSwuOTkpKSp0aGlzLnBpLGM9UShhLHMuZGV0dW5lKSxoPUgoUShhLHMuZnJlcXVlbmN5KSxjLzEwMCk7bz1oKih0aGlzLnBpLyhzYW1wbGVSYXRlKi41KSksdGhpcy5kcGhpZis9LjEqKG8tdGhpcy5kcGhpZiksaSo9Ljk5OTgsdGhpcy5lbnZmKz0uMSooaS10aGlzLmVudmYpLHRoaXMuQj0yLjMqKDEtMWUtNCpoKSx0aGlzLkI8MCYmKHRoaXMuQj0wKSx0aGlzLnBoaSs9dGhpcy5kcGhpZix0aGlzLnBoaT49dGhpcy5waSYmKHRoaXMucGhpLT0yKnRoaXMucGkpO2xldCBmPU1hdGguY29zKHRoaXMucGhpK3RoaXMuQip0aGlzLlkwKTt0aGlzLlkwPS41KihmK3RoaXMuWTApO2xldCBwPU1hdGguY29zKHRoaXMucGhpK3RoaXMuQip0aGlzLlkxK3UpO3RoaXMuWTE9LjUqKHArdGhpcy5ZMSk7Zm9yKGxldCBsPTA7bDxyLmxlbmd0aDtsKyspcltsXVthXT0uMTUqKGYtcCkqdGhpcy5lbnZmfXJldHVybiEwfX1yZWdpc3RlclByb2Nlc3NvcigicHVsc2Utb3NjaWxsYXRvciIsYWUpO2NvbnN0IG10PXtiaXRDOmZ1bmN0aW9uKG4sdCxlKXtyZXR1cm4gbiZ0P2U6MH0sYnI6ZnVuY3Rpb24obix0PTgpe2lmKHQ+MzIpdGhyb3cgbmV3IEVycm9yKCJicigpIFNpemUgY2Fubm90IGJlIGdyZWF0ZXIgdGhhbiAzMiIpO3tsZXQgZT0wO2ZvcihsZXQgcz0wO3M8dC0wO3MrKyllKz1tdC5iaXRDKG4sMioqcywyKioodC0ocysxKSkpO3JldHVybiBlfX0sc2luZjpmdW5jdGlvbihuKXtyZXR1cm4gTWF0aC5zaW4obi8oMTI4L01hdGguUEkpKX0sY29zZjpmdW5jdGlvbihuKXtyZXR1cm4gTWF0aC5jb3Mobi8oMTI4L01hdGguUEkpKX0sdGFuZjpmdW5jdGlvbihuKXtyZXR1cm4gTWF0aC50YW4obi8oMTI4L01hdGguUEkpKX0scmVnRzpmdW5jdGlvbihuLHQpe3JldHVybiB0LnRlc3Qobi50b1N0cmluZygyKSl9fTtsZXQgSixodDtmdW5jdGlvbiBjZShuKXtpZigoSnx8aHQpPT1udWxsKXtKPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE1hdGgpLGh0PUoubWFwKHM9Pk1hdGhbc10pO2NvbnN0IHQ9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMobXQpLGU9dC5tYXAocz0+bXRbc10pO0oucHVzaCgiaW50Iiwid2luZG93IiwuLi50KSxodC5wdXNoKE1hdGguZmxvb3IsZ2xvYmFsVGhpcywuLi5lKX1yZXR1cm4gbmV3IEZ1bmN0aW9uKC4uLkosInQiLGByZXR1cm4gMCwKJHtufHwwfTtgKS5iaW5kKGdsb2JhbFRoaXMsLi4uaHQpfWNsYXNzIHVlIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnBvcnQub25tZXNzYWdlPXQ9PntsZXR7Y29kZVRleHQ6ZX09dC5kYXRhO2NvbnN0e2J5dGVCZWF0U3RhcnRUaW1lOnN9PXQuZGF0YTtzIT1udWxsJiYodGhpcy50PTAsdGhpcy5pbml0aWFsT2Zmc2V0PU1hdGguZmxvb3IocykpLGU9ZS50cmltKCkucmVwbGFjZSgvXmV2YWxcKHVuZXNjYXBlXChlc2NhcGUoPzpgfFwoJ3xcKCJ8XChgKSguKj8pKD86YHwnXCl8IlwpfGBcKSkucmVwbGFjZVwoXC91XChcLlwuXClcL2csWyInYF1cJDElWyInYF1cKVwpXCkkLywocixpKT0+dW5lc2NhcGUoZXNjYXBlKGkpLnJlcGxhY2UoL3UoLi4pL2csIiQxJSIpKSksdGhpcy5mdW5jPWNlKGUpfSx0aGlzLmluaXRpYWxPZmZzZXQ9bnVsbCx0aGlzLnQ9bnVsbCx0aGlzLmZ1bmM9bnVsbH1zdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCl7cmV0dXJuW3tuYW1lOiJiZWdpbiIsZGVmYXVsdFZhbHVlOjAsbWF4Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWSxtaW46MH0se25hbWU6ImZyZXF1ZW5jeSIsZGVmYXVsdFZhbHVlOjQ0MCxtaW46TnVtYmVyLkVQU0lMT059LHtuYW1lOiJkZXR1bmUiLGRlZmF1bHRWYWx1ZTowLG1pbjpOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksbWF4Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWX0se25hbWU6ImVuZCIsZGVmYXVsdFZhbHVlOjAsbWF4Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWSxtaW46MH1dfXByb2Nlc3ModCxlLHMpe2lmKHRoaXMuZGlzY29ubmVjdGVkKXJldHVybiExO2lmKGN1cnJlbnRUaW1lPD1zLmJlZ2luWzBdKXJldHVybiEwO2lmKGN1cnJlbnRUaW1lPj1zLmVuZFswXSlyZXR1cm4hMTt0aGlzLnQ9PW51bGwmJih0aGlzLnQ9cy5iZWdpblswXSpzYW1wbGVSYXRlKTtjb25zdCByPWVbMF07Zm9yKGxldCBpPTA7aTxyWzBdLmxlbmd0aDtpKyspe2NvbnN0IG89UShpLHMuZGV0dW5lKSxhPUgoUShpLHMuZnJlcXVlbmN5KSxvLzEwMCk7bGV0IHU9dGhpcy50LyhzYW1wbGVSYXRlLzI1NikqYSt0aGlzLmluaXRpYWxPZmZzZXQ7Y29uc3QgZj0oKHRoaXMuZnVuYyh1KSYyNTUpLzEyNy41LTEpKi4yO2ZvcihsZXQgcD0wO3A8ci5sZW5ndGg7cCsrKXJbcF1baV09TShmLC0uNCwuNCk7dGhpcy50PXRoaXMudCsxfXJldHVybiEwfX1yZWdpc3RlclByb2Nlc3NvcigiYnl0ZS1iZWF0LXByb2Nlc3NvciIsdWUpO2NvbnN0IGc9T2JqZWN0LmZyZWV6ZSh7Tk9ORTowLEFTWU06MSxNSVJST1I6MixCRU5EUDozLEJFTkRNOjQsQkVORE1QOjUsU1lOQzo2LFFVQU5UOjcsRk9MRDo4LFBXTTo5LE9SQklUOjEwLFNQSU46MTEsQ0hBT1M6MTIsUFJJTUVTOjEzLEJJTkFSWToxNCxCUk9XTklBTjoxNSxSRUNJUFJPQ0FMOjE2LFdPUk1IT0xFOjE3LExPR0lTVElDOjE4LFNJR01PSUQ6MTksRlJBQ1RBTDoyMCxGTElQOjIxfSk7ZnVuY3Rpb24gaGUobil7cmV0dXJuIG49bisyMTI3OTEyMjE0KyhuPDwxMiksbj1uXjMzNDUwNzI3MDBebj4+PjE5LG49biszNzQ3NjEzOTMrKG48PDUpLG49biszNTUwNjM1MTE2Xm48PDksbj1uKzQyNTE5OTM3OTcrKG48PDMpLG49bl4zMDQyNTk0NTY5Xm4+Pj4xNixuPj4+MH1jb25zdCBSdD1uPT4oaGUobik+Pj44KS8xNjc3NzIxNjtmdW5jdGlvbiBsZShuLHQpe2xldCBlPTA7Zm9yKGxldCBzPTA7czx0O3MrKyllPWU8PDF8biYxLG4+Pj49MTtyZXR1cm4gZX1mdW5jdGlvbiBmZShuKXtjb25zdCB0PU1hdGguZmxvb3IobiksZT1uLXQscz1SdCh0KSxyPVJ0KHQrMSk7cmV0dXJuIHMrKHItcykqZX1mdW5jdGlvbiBwZShuLHQ9NCl7bGV0IGU9LjUscz0wLHI9MCxpPTE7Zm9yKGxldCBvPTA7bzx0O28rKylzKz1lKmZlKG4qaSkscis9ZSxlKj0uNSxpKj0yO3JldHVybiBzL3IqMi0xfWNvbnN0IHZ0PXt9O2NsYXNzIGRlIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye3N0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6ImJlZ2luIixkZWZhdWx0VmFsdWU6MCxtaW46MCxtYXg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfSx7bmFtZToiZW5kIixkZWZhdWx0VmFsdWU6MCxtaW46MCxtYXg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfSx7bmFtZToiZnJlcXVlbmN5IixkZWZhdWx0VmFsdWU6NDQwLG1pbjpOdW1iZXIuRVBTSUxPTn0se25hbWU6ImRldHVuZSIsZGVmYXVsdFZhbHVlOjB9LHtuYW1lOiJmcmVxc3ByZWFkIixkZWZhdWx0VmFsdWU6LjE4LG1pbjowfSx7bmFtZToicG9zaXRpb24iLGRlZmF1bHRWYWx1ZTowLG1pbjowLG1heDoxfSx7bmFtZToid2FycCIsZGVmYXVsdFZhbHVlOjAsbWluOjAsbWF4OjF9LHtuYW1lOiJ3YXJwTW9kZSIsZGVmYXVsdFZhbHVlOjB9LHtuYW1lOiJ2b2ljZXMiLGRlZmF1bHRWYWx1ZToxLG1pbjoxfSx7bmFtZToicGFuc3ByZWFkIixkZWZhdWx0VmFsdWU6LjcsbWluOjAsbWF4OjF9LHtuYW1lOiJwaGFzZXJhbmQiLGRlZmF1bHRWYWx1ZTowLG1pbjowLG1heDoxfV19Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5mcmFtZUxlbj0wLHRoaXMubnVtRnJhbWVzPTAsdGhpcy5waGFzZT1bXSx0aGlzLmludlNSPTEvc2FtcGxlUmF0ZSx0aGlzLnBvcnQub25tZXNzYWdlPWU9Pntjb25zdHt0eXBlOnMscGF5bG9hZDpyfT1lLmRhdGF8fHt9O2lmKHM9PT0idGFibGUiKXtjb25zdCBpPXIua2V5O2lmKHRoaXMuZnJhbWVMZW49ci5mcmFtZUxlbiwhdnRbaV0pe2NvbnN0IG89W3IuZnJhbWVzXTtsZXQgYT1vWzBdO2ZvcihsZXQgdT0xO3U8MTt1Kyspe2NvbnN0IGM9YS5sZW5ndGg+PjEsaD1hLm1hcChmPT57Y29uc3QgcD1uZXcgRmxvYXQzMkFycmF5KGMpO2ZvcihsZXQgbD0wO2w8YztsKyspcFtsXT0oZlsyKmxdK2ZbMipsKzFdKS8yO3JldHVybiBwfSk7aWYoby5wdXNoKGgpLGE9aCxjPD0zMilicmVha312dFtpXT1vfXRoaXMudGFibGVzPXZ0W2ldLHRoaXMubnVtRnJhbWVzPXRoaXMudGFibGVzWzBdLmxlbmd0aH19fV9taXJyb3IodCl7cmV0dXJuIDEtTWF0aC5hYnMoMip0LTEpfV90b0JpdHModCxlPTIscz0xMil7Y29uc3Qgcj1zKyhlLXMpKnQ7cmV0dXJue2I6cixuOk1hdGgucm91bmQoTWF0aC5wb3coMixyKSl9fV93YXJwUGhhc2UodCxlLHMpe3N3aXRjaChzKXtjYXNlIGcuTk9ORTpyZXR1cm4gdDtjYXNlIGcuQVNZTTp7Y29uc3Qgcj0uMDErLjk5KmU7cmV0dXJuIHQ8cj8uNSp0L3I6LjUrLjUqKHQtcikvKDEtcil9Y2FzZSBnLk1JUlJPUjpyZXR1cm4gdGhpcy5fbWlycm9yKHRoaXMuX3dhcnBQaGFzZSh0LGUsZy5BU1lNKSk7Y2FzZSBnLkJFTkRQOnJldHVybiBNYXRoLnBvdyh0LDErMyplKTtjYXNlIGcuQkVORE06cmV0dXJuIE1hdGgucG93KHQsMS8oMSszKmUpKTtjYXNlIGcuQkVORE1QOnJldHVybiBlPC41P3RoaXMuX3dhcnBQaGFzZSh0LDEtMiplLDMpOnRoaXMuX3dhcnBQaGFzZSh0LDIqZS0xLDIpO2Nhc2UgZy5TWU5DOntjb25zdCByPU1hdGgucG93KDE2LGUqZSk7cmV0dXJuIHQqciUxfWNhc2UgZy5RVUFOVDp7Y29uc3R7bjpyfT10aGlzLl90b0JpdHMoZSk7cmV0dXJuIGZ0KHQqcikvcn1jYXNlIGcuRk9MRDp7Y29uc3QgaT0xK01hdGgubWF4KDEsTWF0aC5yb3VuZCg3KmUpKTtyZXR1cm4gTWF0aC5hYnMoVyhpKnQpLS41KSoyfWNhc2UgZy5QV006e2NvbnN0IHI9TSguNSsuNDkqKDIqZS0xKSwwLDEpO3JldHVybiB0PHI/dC9yKi41Oi41Kyh0LXIpLygxLXIpKi41fWNhc2UgZy5PUkJJVDp7Y29uc3Qgcj0uNSplO3JldHVybiBXKHQrcipNYXRoLnNpbigyKk1hdGguUEkqMyp0KSl9Y2FzZSBnLlNQSU46e2NvbnN0IHI9LjUqZSx7bjppfT10aGlzLl90b0JpdHMoZSwxLDYpO3JldHVybiBXKHQrcipNYXRoLnNpbigyKk1hdGguUEkqaSp0KSl9Y2FzZSBnLkNIQU9TOntjb25zdCBpPSgzLjcrLjMqZSkqdCooMS10KTtyZXR1cm4gTSgoMS1lKSp0K2UqaSwwLDEpfWNhc2UgZy5QUklNRVM6e2NvbnN0IHI9bz0+e2lmKG88MilyZXR1cm4hMTtpZihvJTI9PT0wKXJldHVybiBvPT09Mjtmb3IobGV0IGE9MzthKmE8PW87YSs9MilpZihvJWE9PT0wKXJldHVybiExO3JldHVybiEwfTtsZXR7bjppfT10aGlzLl90b0JpdHMoZSwzKTtmb3IoOyFyKGkpOylpKys7cmV0dXJuIGZ0KHQqaSkvaX1jYXNlIGcuQklOQVJZOntsZXR7YjpyfT10aGlzLl90b0JpdHMoZSwzKTtyPU1hdGgucm91bmQocik7Y29uc3QgaT0xPDxyLG89ZnQodCppKTtyZXR1cm4gbGUobyxyKS9pfWNhc2UgZy5NT0RVTEFSOntjb25zdHtuOnJ9PXRoaXMuX3RvQml0cyhlKSxpPS41KmUsbz1XKHQqcikvcjtyZXR1cm4gVyh0K2kqbyl9Y2FzZSBnLkJST1dOSUFOOntjb25zdCByPS4yNSplKnBlKDY0KnQsNCk7cmV0dXJuIFcodCtyKX1jYXNlIGcuUkVDSVBST0NBTDp7Y29uc3Qgcj0yKzQqZSxpPXQqcixvPXQrKDEtdCkqcixhPW8+MWUtMTI/aS9vOjA7cmV0dXJuIE0oYSwwLDEpfWNhc2UgZy5XT1JNSE9MRTp7Y29uc3Qgcj1NKC44KmUsMCwxKSxpPS41KigxLXIpLG89LjUqKDErcik7cmV0dXJuIHQ8aT90L2kqLjU6dD5vPy41KigxKyh0LW8pLygxLW8pKTouNX1jYXNlIGcuTE9HSVNUSUM6e2xldCByPXQ7Y29uc3QgaT0zLjYrLjQqZSxvPTErTWF0aC5yb3VuZCgyKmUpO2ZvcihsZXQgYT0wO2E8bzthKyspcj1pKnIqKDEtcik7cmV0dXJuIE0ociwwLDEpfWNhc2UgZy5TSUdNT0lEOntjb25zdCByPTErMTAqZSxpPXQtLjUsbz0xLygxK01hdGguZXhwKC1yKmkpKSxhPTEvKDErTWF0aC5leHAoLjUqcikpLHU9MS8oMStNYXRoLmV4cCgtLjUqcikpO3JldHVybihvLWEpLyh1LWEpfWNhc2UgZy5GUkFDVEFMOntjb25zdCByPS41Kk1hdGguc2luKDIqTWF0aC5QSSp0KSplO3JldHVybiBXKHQrcil9Y2FzZSBnLkZMSVA6cmV0dXJuIHQ7ZGVmYXVsdDpyZXR1cm4gdH19X3NhbXBsZUZyYW1lKHQsZSl7Y29uc3Qgcz10Lmxlbmd0aCxyPWUqcztsZXQgaT1yfDA7aT49cyYmKGk9MCk7Y29uc3Qgbz1yLWksYT10W2ldO2xldCB1PWkrMTt1Pj1zJiYodT0wKTtjb25zdCBjPXRbdV07cmV0dXJuIGErKGMtYSkqb31fY2hvb3NlTWlwKHQpe3ZhciByO2NvbnN0IGU9TSh0LDFlLTYsNjQpO2xldCBzPTA7Zm9yKDtzKzE8KCgocj10aGlzLnRhYmxlcyk9PW51bGw/dm9pZCAwOnIubGVuZ3RoKXx8MSkmJmU8dGhpcy50YWJsZXNbc11bMF0ubGVuZ3RoLzg7KXMrKztyZXR1cm4gc31wcm9jZXNzKHQsZSxzKXtpZihjdXJyZW50VGltZT49cy5lbmRbMF0pcmV0dXJuITE7aWYoY3VycmVudFRpbWU8PXMuYmVnaW5bMF0pcmV0dXJuITA7Y29uc3Qgcj1lWzBdWzBdLGk9ZVswXVsxXXx8ZVswXVswXTtpZighdGhpcy50YWJsZXMpcmV0dXJuIHIuZmlsbCgwKSxpIT09ciYmaS5zZXQociksITA7Zm9yKGxldCBvPTA7bzxyLmxlbmd0aDtvKyspe2NvbnN0IGE9UyhzLmRldHVuZSxvKSx1PVMocy5mcmVxc3ByZWFkLG8pLGg9TShTKHMucG9zaXRpb24sbyksMCwxKSoodGhpcy5udW1GcmFtZXMtMSksZj1ofDAscD1oLWYsbD1NKFMocy53YXJwLG8pLDAsMSksbT1TKHMud2FycE1vZGUsbyksZD1TKHMudm9pY2VzLG8pLGI9TShTKHMucGhhc2VyYW5kLG8pLDAsMSksST1kPjE/TShTKHMucGFuc3ByZWFkLG8pLDAsMSk6MCx2PU1hdGguc3FydCguNS0uNSpJKSxQPU1hdGguc3FydCguNSsuNSpJKTtsZXQgdz1TKHMuZnJlcXVlbmN5LG8pO3c9SCh3LGEvMTAwKTtjb25zdCBUPTEvTWF0aC5zcXJ0KGQpO2ZvcihsZXQgQj0wO0I8ZDtCKyspe2NvbnN0IEE9KEImMSk9PTE7bGV0IHk9dixPPVA7QSYmKHk9UCxPPXYpO2NvbnN0IHg9SCh3LE50KGQsdSxCKSkqdGhpcy5pbnZTUixFPXRoaXMuX2Nob29zZU1pcCh4KSxOPXRoaXMudGFibGVzW0VdO3RoaXMucGhhc2VbQl09dGhpcy5waGFzZVtCXT8/TWF0aC5yYW5kb20oKSpiO2NvbnN0IEY9dGhpcy5fd2FycFBoYXNlKHRoaXMucGhhc2VbQl0sbCxtKSxWPXRoaXMuX3NhbXBsZUZyYW1lKE5bZl0sRiksaz10aGlzLl9zYW1wbGVGcmFtZShOW01hdGgubWluKHRoaXMubnVtRnJhbWVzLTEsZisxKV0sRik7bGV0IFI9Visoay1WKSpwO209PT1nLkZMSVAmJnRoaXMucGhhc2VbQl08bCYmKFI9LVIpLHJbb10rPVIqeSpULGlbb10rPVIqTypULHRoaXMucGhhc2VbQl09RnQodGhpcy5waGFzZVtCXSt4KX19cmV0dXJuITB9fXJldHVybiByZWdpc3RlclByb2Nlc3Nvcigid2F2ZXRhYmxlLW9zY2lsbGF0b3ItcHJvY2Vzc29yIixkZSksQy5XYXJwTW9kZT1nLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6Ik1vZHVsZSJ9KSxDfSh7fSk7Cg==";let ru;const c1=()=>(ru=new AudioContext,ru),Dt=()=>ru||c1();function c5(){return Dt().currentTime}let Xo={};function l5(t,e){const n=Dt();if(Xo[t])return Xo[t];const s=2*n.sampleRate,r=n.createBuffer(1,s,n.sampleRate),i=r.getChannelData(0);let a=0,o,u,c,l,d,m,f;o=u=c=l=d=m=f=0;for(let g=0;g<s;g++)if(t==="white")i[g]=Math.random()*2-1;else if(t==="brown"){let y=Math.random()*2-1;i[g]=(a+.02*y)/1.02,a=i[g]}else if(t==="pink"){let y=Math.random()*2-1;o=.99886*o+y*.0555179,u=.99332*u+y*.0750759,c=.969*c+y*.153852,l=.8665*l+y*.3104856,d=.55*d+y*.5329522,m=-.7616*m-y*.016898,i[g]=o+u+c+l+d+m+f+y*.5362,i[g]*=.11,f=y*.115926}else if(t==="crackle"){const y=e*.01;Math.random()<y?i[g]=Math.random()*2-1:i[g]=0}return t!=="crackle"&&(Xo[t]=r),r}function iu(t="white",e,n=.02){const s=Dt().createBufferSource();return s.buffer=l5(t,n),s.loop=!0,s.start(e),{node:s,stop:r=>s.stop(r)}}function Zv(t,e,n){const s=iu("pink",n);return{node:h1(t,s.node,e),stop:r=>s==null?void 0:s.stop(r)}}const ka=["pink","white","brown","crackle"];function Ve(t){const e=Dt().createGain();return e.gain.value=t,e}function ai(t,e,n){const s=Ve(n);return t.connect(s),s.connect(e),s}const ly=(t,e,n,s)=>s-n===0?0:(e-t)/(s-n);function ke(t,e,n,s){const r=new AudioWorkletNode(t,e,s);return Object.entries(n).forEach(([i,a])=>{a!==void 0&&(r.parameters.get(i).value=a)}),r}const Oe=(t,e,n,s,r,i,a,o,u,c="exponential")=>{e=On(e),n=On(n),s=On(s),r=On(r);const l=c==="exponential"?"exponentialRampToValueAtTime":"linearRampToValueAtTime";c==="exponential"&&(i=i===0?.001:i,a=a===0?.001:a);const d=a-i,m=a,f=i+s*d,g=u-o,y=P=>{let Z;if(e>P){let S=ly(i,m,0,e);Z=P*S+(i>m?i:0)}else Z=(P-e)*ly(m,f,0,n)+m;return c==="exponential"&&(Z=Z||.001),Z};t.setValueAtTime(i,o),e>g?t[l](y(g),u):e+n>g?(t[l](y(e),o+e),t[l](y(g),u)):(t[l](y(e),o+e),t[l](y(e+n),o+e+n),t.setValueAtTime(f,u)),t[l](i,u+r)};function vv(t){return typeof t=="number"?t%5:{tri:0,triangle:0,sine:1,ramp:2,saw:3,square:4}[t]??0}function Xr(t,e,n,s={}){const{shape:r=0,...i}=s,{dcoffset:a=-.5,depth:o=1}=s,u={frequency:1,depth:o,skew:.5,phaseoffset:0,time:e,begin:e,end:n,shape:vv(r),dcoffset:a,min:a*o,max:a*o+o,curve:1,...i};return ke(t,"lfo-processor",u)}function l1(t,e,n,s,r,i){const a={threshold:e??-3,ratio:n??10,knee:s??10,attack:r??.005,release:i??.05};return new DynamicsCompressorNode(t,a)}const Qe=(t,e="linear",n)=>{const[s,r,i,a]=t;if(s==null&&r==null&&i==null&&a==null)return n??[.001,.001,1,.01];const o=i??(s!=null&&r==null||s==null&&r==null?1:.001);return[Math.max(s??0,.001),Math.max(r??0,.001),Math.min(o,1),Math.max(a??0,.01)]};function qi(t,e,n,s,r,i){let{amount:a,offset:o,defaultAmount:u=1,curve:c="linear",values:l,holdEnd:d,defaultValues:m}=r;a==null&&(a=l.some(v=>v!=null)?u:0);const f=o??0,g=a+f;if(Math.abs(g-f)){const[v,X,L,V]=Qe(l,c,m);Oe(e,v,X,L,V,f,g,n,d,c)}let y,{defaultDepth:P=1,depth:Z,dcoffset:S,...k}=i;return Z==null&&(Z=Object.values(k).some(v=>v!=null)?P:0),Z&&(y=Xr(t,n,s,{depth:Z,dcoffset:S,...k}),y.connect(e)),{lfo:y,disconnect:()=>y==null?void 0:y.disconnect()}}function Ur(t,e,n,s,r,i,a,o,u,c,l,d,m,f){const g="exponential",[y,P,Z,S]=Qe([r,i,a,o],g,[.005,.14,0,.1]);let k,v;if(m==="ladder"?(k=ke(t,"ladder-processor",{frequency:n,q:s,drive:f}),v=k.parameters.get("frequency")):(k=t.createBiquadFilter(),k.type=e,k.Q.value=s,k.frequency.value=n,v=k.frequency),(r??i??a??o??u)!==void 0){u=On(u,1,!0),d=On(d,0,!0);const X=Math.abs(u),L=X*d;let V=fs(2**-L*n,0,2e4),E=fs(2**(X-L)*n,0,2e4);return u<0&&([V,E]=[E,V]),Oe(v,y,P,Z,S,V,E,c,l,g),k}return k}let hy=t=>t<.5?1:1-(t-.5)/.5;function h1(t,e,n=0){const s=Dt();if(!n)return t;let r=s.createGain(),i=s.createGain();t.connect(r),e.connect(i),r.gain.value=hy(n),i.gain.value=hy(1-n);let a=s.createGain();return r.connect(a),i.connect(a),a}let wv=["linear","exponential"];function Bs(t,e,n,s){if((e.pattack??e.pdecay??e.psustain??e.prelease??e.penv)===void 0)return;const r=On(e.penv,1,!0),i=wv[e.pcurve??0];let[a,o,u,c]=Qe([e.pattack,e.pdecay,e.psustain,e.prelease],i,[.2,.001,1,.001]),l=e.panchor??u;const d=r*100,m=0-d*l,f=d-d*l;Oe(t,a,o,u,c,m,f,n,s,i)}function Ts(t,e,n){const{vibmod:s=.5,vib:r}=e;let i;if(r>0){i=Dt().createOscillator(),i.frequency.value=r;const a=Dt().createGain();return a.gain.value=s*100,i.connect(a),a.connect(t),i.start(n),i}}function Ss(t,e,n,s){const r=new ConstantSourceNode(t),i=Ve(0);return i.connect(t.destination),r.connect(i),r.onended=()=>{try{i.disconnect()}catch{}try{r.disconnect()}catch{}e()},r.start(n),r.stop(s),r}const Fv=(t,e=1,n="sine")=>{const s=Dt();let r;ka.includes(n)?(r=s.createBufferSource(),r.buffer=l5(n,2),r.loop=!0):(r=s.createOscillator(),r.type=n,r.frequency.value=t),r.start();const i=new GainNode(s,{gain:e});return r.connect(i),{node:i,stop:a=>r.stop(a)}},Dv=(t,e,n,s="sine")=>{const r=t.value*e,i=r*n;return Fv(r,i,s)};function gr(t,e,n){const{fmh:s=1,fmi:r,fmenv:i="exp",fmattack:a,fmdecay:o,fmsustain:u,fmrelease:c,fmvelocity:l,fmwave:d="sine",duration:m}=e;let f,g=()=>{};if(r){const y=Dt().createGain(),P=Dv(t,s,r,d);if(f=P.node,g=P.stop,![a,o,u,c,l].some(Z=>Z!==void 0))f.connect(t);else{const[Z,S,k,v]=Qe([a,o,u,c]),X=n+m;Oe(y.gain,Z,S,k,v,0,1,n,X,i==="exp"?"exponential":"linear"),f.connect(y),y.connect(t)}}return{stop:g}}const h5=t=>t/(1+t),Av=(t,e)=>(t%e+e)%e,Sv=(t,e)=>(1+e)*t/(1+e*Math.abs(t)),pr=(t,e)=>Math.tanh(t*(1+e)),Vv=(t,e)=>fs((1+e)*t,-1,1),p5=(t,e)=>{let n=(1+.5*e)*t;const s=Av(n+1,4);return 1-Math.abs(s-2)},Lv=(t,e)=>Math.sin(Math.PI/2*p5(t,e)),kv=(t,e)=>{const n=h5(Math.log1p(e)),s=(t-n/3*t*t*t)/(1-n/3);return pr(s,e)},d5=(t,e,n=!1)=>{const s=1+2*e,r=.07*h5(Math.log1p(e)),i=pr(t+r,2*e),a=pr(n?r:-t+r,2*e),o=i-a,u=1/Math.cosh(s*r),c=u*u,l=Math.max(1e-8,(n?1:2)*s*c);return pr(o/l,e)},Ev=(t,e)=>d5(t,e,!0),Wv=(t,e)=>{const n=10*Math.log1p(e);let s=1,r=t,i,a=0;for(let o=1;o<64;o++){if(o<2){a+=o==0?s:r;continue}i=2*t*s-r,r=s,s=i,o%2===0&&(a+=Math.min(1.3*n/o,2)*i)}return pr(a,n/20)},Ea={scurve:Sv,soft:pr,hard:Vv,cubic:kv,diode:d5,asym:Ev,fold:p5,sinefold:Lv,chebyshev:Wv},Nr=Object.freeze(Object.keys(Ea)),m5=t=>{let e=t;typeof t=="string"&&(e=Nr.indexOf(t),e===-1&&(he(`[superdough] Could not find waveshaping algorithm ${t}.
        Available options are ${Nr.join(", ")}.
        Defaulting to ${Nr[0]}.`),e=0));const n=Nr[e%Nr.length];return Ea[n]},p1=(t,e,n)=>ke(Dt(),"distort-processor",{distort:t,postgain:e},{processorOptions:{algorithm:n}}),ls=(t,e=36)=>{let{note:n,freq:s}=t;return n=n||e,typeof n=="string"&&(n=La(n)),!s&&typeof n=="number"&&(s=a5(n)),Number(s)},Ds=t=>{var e;t!=null&&(t.disconnect(),(e=t.parameters.get("end"))==null||e.setValueAtTime(0,0))};let xn=[],us=0;const ki=4;let zv=t=>{let e=[],n={get(){return n.lc||n.listen(()=>{})(),n.value},lc:0,listen(s){return n.lc=e.push(s),()=>{for(let i=us+ki;i<xn.length;)xn[i]===s?xn.splice(i,ki):i+=ki;let r=e.indexOf(s);~r&&(e.splice(r,1),--n.lc||n.off())}},notify(s,r){let i=!xn.length;for(let a of e)xn.push(a,n.value,s,r);if(i){for(us=0;us<xn.length;us+=ki)xn[us](xn[us+1],xn[us+2],xn[us+3]);xn.length=0}},off(){},set(s){let r=n.value;r!==s&&(n.value=s,n.notify(r))},subscribe(s){let r=n.listen(s);return s(n.value),r},value:t};return n},Rv=(t={})=>{let e=zv(t);return e.setKey=function(n,s){let r=e.value;typeof s>"u"&&n in e.value?(e.value={...e.value},delete e.value[n],e.notify(r,n)):e.value[n]!==s&&(e.value={...e.value,[n]:s},e.notify(r,n))},e};const d1={},Zo={},f5=t=>d1[t];function Bv(t,e){var n=1024;if(t<n)return t+" B";var s=["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],r=-1;do t/=n,++r;while(t>=n);return t.toFixed(1)+" "+s[r]}function m1(t,e){const{speed:n=1}=t,{transpose:s,url:r,index:i,midi:a,label:o}=u5(t,e);let u=Math.abs(n)*Math.pow(2,s/12);return{transpose:s,url:r,index:i,midi:a,label:o,playbackRate:u}}const f1=async(t,e,n)=>{let{url:s,label:r,playbackRate:i}=m1(t,e);n&&(s=await n(s));const a=Dt(),o=await Wa(s,a,r);return t.unit==="c"&&(i=i*o.duration),{buffer:o,playbackRate:i}},y1=async(t,e,n)=>{let{buffer:s,playbackRate:r}=await f1(t,e,n);t.speed<0&&(s=b1(s));const i=Dt().createBufferSource();i.buffer=s,i.playbackRate.value=r;const{loopBegin:a=0,loopEnd:o=1,begin:u=0,end:c=1}=t,l=u*i.buffer.duration;t.loop&&(i.loop=!0,i.loopStart=a*i.buffer.duration-l,i.loopEnd=o*i.buffer.duration-l);const d=i.buffer.duration/i.playbackRate.value,m=(c-u)*d;return{bufferSource:i,offset:l,bufferDuration:d,sliceDuration:m}},Wa=(t,e,n,s=0)=>{const r=n?`sound "${n}:${s}"`:"sample";if(t=t.replace("#","%23"),!Zo[t]){he(`[sampler] load ${r}..`,"load-sample",{url:t});const i=Date.now();Zo[t]=fetch(t).then(a=>a.arrayBuffer()).then(async a=>{const o=Date.now()-i,u=Bv(a.byteLength);he(`[sampler] load ${r}... done! loaded ${u} in ${o}ms`,"loaded-sample",{url:t});const c=await e.decodeAudioData(a);return d1[t]=c,c})}return Zo[t]};function b1(t){const e=Dt(),n=e.createBuffer(t.numberOfChannels,t.length,e.sampleRate);for(let s=0;s<t.numberOfChannels;s++)n.copyToChannel(t.getChannelData(s).slice().reverse(),s,s);return n}const y5=t=>d1[t];function b5(t){if(t.startsWith("bubo:")){const[e,n]=t.split(":");t=`github:Bubobubobubobubo/dough-${n}`}return t}function g5(t,e=""){if(!t.startsWith("github:"))throw new Error('expected "github:" at the start of pseudoUrl');let n=t.slice(7);n=n.endsWith("/")?n.slice(0,-1):n;let s=n.split("/"),r=s[0],i=s.length>=2?s[1]:"samples",a=s.length>=3?s[2]:"main",o=s.slice(3);return o.push(e||""),o=o.join("/"),`https://raw.githubusercontent.com/${r}/${i}/${a}/${o}`}const g1=(t,e,n=t._base||"")=>Object.entries(t).forEach(([s,r])=>{if(typeof r=="string"&&(r=[r]),typeof r!="object")throw new Error("wrong sample map format for "+s);n=r._base||n,n=b5(n),n.startsWith("github:")&&(n=g5(n,""));const i=a=>n+a;Array.isArray(r)?r=r.map(i):r=Object.fromEntries(Object.entries(r).map(([a,o])=>[a,(typeof o=="string"?[o]:o).map(i)])),e(s,r)});let M5={};function C5(t,e){M5[t]=e}function Tv(t){const e=Object.entries(M5).find(([n])=>t.startsWith(n));if(e)return e[1]}async function Nv(t){const e=Tv(t);if(e)return e(t);if(t=b5(t),t.startsWith("github:")&&(t=g5(t,"strudel.json")),t.startsWith("local:")&&(t="http://localhost:5432"),t.startsWith("shabda:")){let[r,i]=t.split("shabda:");t=`https://shabda.ndre.gr/${i}.json?strudel=1`}if(t.startsWith("shabda/speech")){let[r,i]=t.split("shabda/speech");i=i.startsWith("/")?i.substring(1):i;let[a,o]=i.split(":"),u="f",c="en-GB";a&&([c,u]=a.split("/")),t=`https://shabda.ndre.gr/speech/${o}.json?gender=${u}&language=${c}&strudel=1'`}if(typeof fetch!="function")return;const n=t.split("/").slice(0,-1).join("/");if(typeof fetch>"u")return;const s=await fetch(t).then(r=>r.json()).catch(r=>{throw console.error(r),new Error(`error loading "${t}"`)});return[s,s._base||n]}const M1=async(t,e=t._base||"",n={})=>{if(typeof t=="string"){const[i,a]=await Nv(t);return M1(i,e||a,n)}const{prebake:s,tag:r}=n;g1(t,(i,a)=>{x1(i,a,{baseUrl:e,prebake:s,tag:r})},e)},py=[];async function C1(t,e,n,s,r){let{s:i,nudge:a=0,cut:o,loop:u,clip:c=void 0,n:l=0,speed:d=1,duration:m}=e;if(d===0)return;const f=Dt();let[g,y,P,Z]=Qe([e.attack,e.decay,e.sustain,e.release]);const{bufferSource:S,sliceDuration:k,offset:v}=await y1(e,s,r);if(f.currentTime>t){he(`[sampler] still loading sound "${i}:${l}"`,"highlight");return}if(!S){he(`[sampler] could not load "${i}:${l}"`,"error");return}let X=Ts(S.detune,e,t);const L=t+a;S.start(L,v);const V=f.createGain(),E=S.connect(V);c==null&&u==null&&e.release==null&&(m=k);let I=t+m;Oe(E.gain,g,y,P,Z,0,1,t,I,"linear"),Bs(S.detune,e,t,I);const R=f.createGain();E.connect(R),S.onended=function(){S.disconnect(),X==null||X.stop(),E.disconnect(),R.disconnect(),n()};let J=I+Z+.01;S.stop(J);const W={node:R,bufferSource:S,stop:Y=>{S.stop(Y)}};if(o!==void 0){const Y=py[o];Y&&(Y.node.gain.setValueAtTime(1,L),Y.node.gain.linearRampToValueAtTime(0,L+.01)),py[o]=W}return W}function Iv(t,e,n){Gn(t,(s,r,i)=>C1(s,r,i,e),{type:"sample",samples:e,...n})}function x1(t,e,n){t.startsWith("wt_")?Ta(t,e,n):Iv(t,e,n)}let rr=(t,e)=>t!==void 0&&t!==e;class Kv{constructor(e){Ht(this,"reverbNode");Ht(this,"delayNode");Ht(this,"output");Ht(this,"summingNode");Ht(this,"djfNode");Ht(this,"audioContext");this.audioContext=e,this.output=new GainNode(e,{gain:1,channelCount:2,channelCountMode:"explicit"}),this.summingNode=new GainNode(e,{gain:1,channelCount:2,channelCountMode:"explicit"}),this.summingNode.connect(this.output)}disconnect(){var e,n;this.output.disconnect(),this.summingNode.disconnect(),(e=this.delayNode)==null||e.disconnect(),(n=this.reverbNode)==null||n.disconnect()}getDjf(e,n=0){this.djfNode==null&&(this.djfNode=ke(this.audioContext,"djf-processor",{value:e}),this.summingNode.disconnect(),this.summingNode.connect(this.djfNode),this.djfNode.connect(this.output)),this.djfNode.parameters.get("value").setValueAtTime(e,n)}getDelay(e=0,n=.5,s){var r,i;return n=fs(n,0,.98),this.delayNode==null&&(this.delayNode=this.audioContext.createFeedbackDelay(1,e,n),this.delayNode.connect(this.summingNode),(i=(r=this.delayNode).start)==null||i.call(r,s)),this.delayNode.delayTime.value!==e&&this.delayNode.delayTime.setValueAtTime(e,s),this.delayNode.feedback.value!==n&&this.delayNode.feedback.setValueAtTime(n,s),this.delayNode}getReverb(e,n,s,r,i,a,o){return this.reverbNode==null&&(this.reverbNode=this.audioContext.createReverb(e,n,s,r,i,a,o),this.reverbNode.connect(this.summingNode)),(rr(e,this.reverbNode.duration)||rr(n,this.reverbNode.fade)||rr(s,this.reverbNode.lp)||rr(r,this.reverbNode.dim)||rr(a,this.reverbNode.irspeed)||rr(o,this.reverbNode.irbegin)||this.reverbNode.ir!==i)&&this.reverbNode.generate(e,n,s,r,i,a,o),this.reverbNode}sendReverb(e,n){ai(e,this.reverbNode,n)}sendDelay(e,n){ai(e,this.delayNode,n)}duck(e,n=0,s=.1,r=1){const i=n,a=Math.max(s,.002),o=this.output.gain;Ss(this.audioContext,()=>{const u=this.audioContext.currentTime,c=o.value;o.cancelScheduledValues(u),o.setValueAtTime(c,u);const l=Math.max(e,u),d=fs(1-Math.sqrt(r),.01,c);o.exponentialRampToValueAtTime(d,l+i),o.exponentialRampToValueAtTime(1,l+i+a)},0,e-.01)}connectToOutput(e){e.connect(this.summingNode)}}class Yv{constructor(e){Ht(this,"channelMerger");Ht(this,"destinationGain");Ht(this,"connectToDestination",(e,n=[0,1])=>{const s=new StereoPannerNode(this.audioContext);e.connect(s);const r=new ChannelSplitterNode(this.audioContext,{numberOfOutputs:s.channelCount});s.connect(r),n.forEach((i,a)=>{r.connect(this.channelMerger,a%s.channelCount,i%this.audioContext.destination.channelCount)})});this.audioContext=e,this.initializeAudio()}initializeAudio(){const e=this.audioContext,n=e.destination.maxChannelCount;this.audioContext.destination.channelCount=n,this.channelMerger=new ChannelMergerNode(e,{numberOfInputs:e.destination.channelCount}),this.destinationGain=new GainNode(e),this.channelMerger.connect(this.destinationGain),this.destinationGain.connect(e.destination)}reset(){this.disconnect(),this.initializeAudio()}disconnect(){this.channelMerger.disconnect(),this.destinationGain.disconnect(),this.destinationGain=null,this.channelMerger=null}}class Hv{constructor(e){Ht(this,"audioContext");Ht(this,"output");Ht(this,"nodes",{});this.audioContext=e,this.output=new Yv(e)}reset(){Array.from(this.nodes).forEach(e=>{e.disconnect()}),this.nodes={},this.output.reset()}duck(e,n,s=0,r=.1,i=1){const a=[e].flat(),o=[s].flat(),u=[r].flat(),c=[i].flat();a.forEach((l,d)=>{const m=this.nodes[l];if(m==null){i5(new Error(`duck target orbit ${l} does not exist`),"superdough");return}const f=o[d]??o[0],g=Math.max(u[d]??u[0],.002),y=c[d]??c[0];m.duck(n,f,g,y)})}getOrbit(e,n){return this.nodes[e]==null&&(this.nodes[e]=new Kv(this.audioContext),this.output.connectToDestination(this.nodes[e].output,n)),this.nodes[e]}}const za=128,au="System Standard";let x5=za;function P1(t){x5=parseInt(t)??za}let P5=!1;function G1(t){P5=t==!0}const hn=Rv();function Gn(t,e,n={}){t=t.toLowerCase().replace(/\s+/g,"_"),hn.setKey(t,{onTrigger:e,data:n})}let G5=t=>t;function Sn(t){return G5(t)}function X5(t){G5=t}function ou(t){for(const n in t)t[n.toLowerCase()]=t[n];const e=hn.get();for(const n in e){const[s,r]=n.split("_");if(!r)continue;const i=t[s];if(i){if(typeof i=="string")e[`${i}_${r}`.toLowerCase()]=e[n];else if(Array.isArray(i))for(const a of i)e[`${a}_${r}`.toLowerCase()]=e[n]}}hn.set({...e})}async function jv(t){const e=await(await fetch(t)).json();ou(e)}async function Z5(...t){switch(t.length){case 1:return typeof t[0]=="string"?jv(t[0]):ou(t[0]);case 2:return ou({[t[0]]:t[1]});default:throw new Error("aliasMap expects 1 or 2 arguments, received "+t.length)}}function v5(t,e){if(Vs(t)==null){he("soundAlias: original sound not found");return}hn.setKey(e,Vs(t))}function Vs(t){return typeof t!="string"?(console.warn(`getSound: expected string got "${t}". fall back to triangle`),hn.get().triangle):hn.get()[t.toLowerCase()]}const X1=async()=>{await navigator.mediaDevices.getUserMedia({audio:!0});let t=await navigator.mediaDevices.enumerateDevices();t=t.filter(n=>n.kind==="audiooutput"&&n.deviceId!=="default");const e=new Map;return e.set(au,""),t.forEach(n=>{e.set(n.label,n.deviceId)}),e};let Mi={s:"triangle",gain:.8,postgain:1,density:".03",ftype:"12db",fanchor:0,resonance:1,hresonance:1,bandq:1,channels:[1,2],phaserdepth:.75,shapevol:1,distortvol:1,distorttype:0,delay:0,byteBeatExpression:"0",delayfeedback:.5,delaysync:3/16,orbit:1,i:1,velocity:1,fft:8};const Jv=Object.freeze({...Mi});function w5(t,e){Mi[t]=e}function F5(){Mi={...Jv}}let Z1=new Map(Object.entries(Mi));function Ra(t,e){Z1.set(t,e)}function ne(t){return Z1.get(t)}function D5(t){Object.keys(t).forEach(e=>{Ra(e,t[e])})}function v1(){Z1=new Map(Object.entries(Mi))}function A5(t){v1(),t==="1.0"&&Ra("fanchor",.5)}const S5=()=>hn.set({});let V5=[];function w1(t){V5.push(t)}let vo;function _v(){if(!vo){const t=Dt(),e=V5.concat([Xv]);vo=Promise.all(e.map(n=>t.audioWorklet.addModule(n)))}return vo}async function F1(t={}){const{disableWorklets:e=!1,maxPolyphony:n,audioDeviceName:s=au,multiChannelOrbits:r=!1}=t;if(P1(n),G1(r),typeof window>"u")return;const i=Dt();if(s!=null&&s!=au)try{const a=(await X1()).get(s),o=(a??"").length>0;i.sinkId!==a&&o&&await i.setSinkId(a),he(`[superdough] Audio Device set to ${s}, it might take a few seconds before audio plays on all output channels`)}catch{he("[superdough] failed to set audio interface","warning")}if(await i.resume(),e){he("[superdough]: AudioWorklets disabled with disableWorklets");return}try{await _v(),he("[superdough] AudioWorklets loaded")}catch(a){console.warn("could not load AudioWorklet effects",a)}he("[superdough] ready")}let wo;async function D1(t){return wo||(wo=new Promise(e=>{document.addEventListener("click",async function n(){document.removeEventListener("click",n),await F1(t),e()})})),wo}let dr;function L5(){return dr==null&&(dr=new Hv(Dt())),dr}function A1(t,e){L5().output.connectToDestination(t,e)}function Uv(t,e,n=1,s=.5,r=1e3,i=2e3){const a=Dt(),o=Xr(a,t,e,{frequency:n,depth:i*2}),u=2;let c=0;const l=[];for(let d=0;d<u;d++){const m=a.createBiquadFilter();m.type="notch",m.gain.value=1,m.frequency.value=r+c,m.Q.value=2-Math.min(Math.max(s*2,0),1.9),o.connect(m.detune),c+=282,d>0&&l[d-1].connect(m),l.push(m)}return l[l.length-1]}function Ov(t){t=t??0;const e=["12db","ladder","24db"];return typeof t=="number"?e[Math.floor(o5(t,e.length))]:t}let we={},ds={};function S1(t,e=1024,n=.5){if(!we[t]){const s=Dt().createAnalyser();s.fftSize=e,s.smoothingTimeConstant=n,we[t]=s,ds[t]=new Float32Array(we[t].frequencyBinCount)}return we[t].fftSize!==e&&(we[t].fftSize=e,ds[t]=new Float32Array(we[t].frequencyBinCount)),we[t]}function Ci(t="time",e=1){const n={time:()=>{var s;return(s=we[e])==null?void 0:s.getFloatTimeDomainData(ds[e])},frequency:()=>{var s;return(s=we[e])==null?void 0:s.getFloatFrequencyData(ds[e])}}[t];if(!n)throw new Error(`getAnalyzerData: ${t} not supported. use one of ${Object.keys(n).join(", ")}`);return n(),ds[e]}function k5(){dr==null||dr.reset(),we={},ds={}}let Ir=new Map;function dy(t){return(Array.isArray(t)?t:[t]).map(e=>e-1)}const Ba=async(t,e,n,s=.5,r=.5)=>{var de,Gs,Xs;const i=Dt(),a=L5();let{stretch:o}=t;if(o!=null&&(e=e-.04),typeof t!="object")throw new Error(`expected hap.value to be an object, but got "${t}". Hint: append .note() or .s() to the end`,"error");if(t.duration=n,e<i.currentTime){console.warn(`[superdough]: cannot schedule sounds in the past (target: ${e.toFixed(2)}, now: ${i.currentTime.toFixed(2)})`);return}let{tremolo:u,tremolosync:c,tremolodepth:l=1,tremoloskew:d,tremolophase:m=0,tremoloshape:f,s:g=ne("s"),bank:y,source:P,gain:Z=ne("gain"),postgain:S=ne("postgain"),density:k=ne("density"),duckorbit:v,duckonset:X,duckattack:L,duckdepth:V,djf:E,fanchor:I=ne("fanchor"),drive:R=.69,release:J=0,cutoff:W,lpenv:Y,lpattack:tt,lpdecay:ct,lpsustain:Q,lprelease:nt,resonance:q=ne("resonance"),hpenv:xt,hcutoff:st,hpattack:dt,hpdecay:H,hpsustain:gt,hprelease:Kt,hresonance:Ut=ne("hresonance"),bpenv:vt,bandf:Bt,bpattack:ot,bpdecay:Ft,bpsustain:oe,bprelease:ae,bandq:Xt=ne("bandq"),phaserrate:ze,phaserdepth:Tt=ne("phaserdepth"),phasersweep:Je,phasercenter:Xe,coarse:re,crush:Ze,dry:be,shape:Ae,shapevol:ge=ne("shapevol"),distort:Se,distortvol:Ot=ne("distortvol"),distorttype:Re=ne("distorttype"),pan:Pt,vowel:Nt,delay:it=ne("delay"),delayfeedback:It=ne("delayfeedback"),delaysync:Wt=ne("delaysync"),delaytime:Be,orbit:_e=ne("orbit"),room:Me,roomfade:rs,roomlp:en,roomdim:_t,roomsize:is,ir:yn,irspeed:Yt,irbegin:ue,i:Ue=ne("i"),velocity:Te=ne("velocity"),analyze:An,fft:Ps=ne("fft"),compressor:In,compressorRatio:h,compressorKnee:M,compressorAttack:b,compressorRelease:C}=t;Be=Be??Gv(Wt,s);const w=dy(P5&&_e>0?[_e*2-1,_e*2]:ne("channels")),z=t.channels!=null?dy(t.channels):w,T=a.getOrbit(_e,z);v!=null&&a.duck(v,e,X,L,V),Z=Sn(On(Z,1)),S=Sn(S),ge=Sn(ge),Ot=Sn(Ot),it=Sn(it),Te=Sn(Te),l=Sn(l),Z*=Te;const K=e+n,$=K+J,Mt=Math.round(Math.random()*1e6);for(let et=0;et<=Ir.size-x5;et++){const wt=Ir.entries().next(),bt=wt.value[1],kr=wt.value[0],Zs=e+.25;(Gs=(de=bt==null?void 0:bt.node)==null?void 0:de.gain)==null||Gs.linearRampToValueAtTime(0,Zs),(Xs=bt==null?void 0:bt.stop)==null||Xs.call(bt,Zs),Ir.delete(kr)}let Et=[];if(["-","~","_"].includes(g))return;y&&g&&(g=`${y}_${g}`,t.s=g);let ce;if(P)ce=P(e,t,n,s);else if(Vs(g)){const{onTrigger:et}=Vs(g),wt=await et(e,t,()=>{Et.forEach(bt=>bt==null?void 0:bt.disconnect()),Ir.delete(Mt)},s);wt&&(ce=wt.node,Ir.set(Mt,wt))}else throw new Error(`sound ${g} not found! Is it loaded?`);if(!ce)return;if(i.currentTime>e){he("[webaudio] skip hap: still loading",i.currentTime-e);return}const ht=[];ht.push(ce),o!==void 0&&ht.push(ke(i,"phase-vocoder-processor",{pitchFactor:o})),ht.push(Ve(Z));const Ne=Ov(t.ftype);if(W!==void 0){let et=()=>Ur(i,"lowpass",W,q,tt,ct,Q,nt,Y,e,K,I,Ne,R);ht.push(et()),Ne==="24db"&&ht.push(et())}if(st!==void 0){let et=()=>Ur(i,"highpass",st,Ut,dt,H,gt,Kt,xt,e,K,I);ht.push(et()),Ne==="24db"&&ht.push(et())}if(Bt!==void 0){let et=()=>Ur(i,"bandpass",Bt,Xt,ot,Ft,oe,ae,vt,e,K,I);ht.push(et()),Ne==="24db"&&ht.push(et())}if(Nt!==void 0){const et=i.createVowelFilter(Nt);ht.push(et)}if(re!==void 0&&ht.push(ke(i,"coarse-processor",{coarse:re})),Ze!==void 0&&ht.push(ke(i,"crush-processor",{crush:Ze})),Ae!==void 0&&ht.push(ke(i,"shape-processor",{shape:Ae,postgain:ge})),Se!==void 0&&ht.push(p1(Se,Ot,Re)),c!=null&&(u=s*c),t.wtPosSynced!=null&&(t.wtPosRate/=s),t.wtWarpSynced!=null&&(t.wtWarpRate/=s),u!==void 0){const et=Math.max(1-l,0),wt=new GainNode(i,{gain:et}),bt=r/s;Xr(i,e,$,{skew:d??(f!=null?.5:1),frequency:u,depth:l,time:bt,dcoffset:0,shape:f,phaseoffset:m,min:0,max:1,curve:1.5}).connect(wt.gain),ht.push(wt)}if(In!==void 0&&ht.push(l1(i,In,h,M,b,C)),Pt!==void 0){const et=i.createStereoPanner();et.pan.value=2*Pt-1,ht.push(et)}if(ze!==void 0&&Tt>0){const et=Uv(e,$,ze,Tt,Xe,Je);ht.push(et)}const ve=new GainNode(i,{gain:S});if(ht.push(ve),it>0&&Be>0&&It>0&&(T.getDelay(Be,It,e),T.sendDelay(ve,it)),Me>0){let et;if(yn!==void 0){let wt,bt=Vs(yn);Array.isArray(bt)?wt=bt.data.samples[Ue%bt.data.samples.length]:typeof bt=="object"&&(wt=Object.values(bt.data.samples).flat()[Ue%Object.values(bt.data.samples).length]),et=await Wa(wt,i,yn,0)}T.getReverb(is,rs,en,_t,et,Yt,ue),T.sendReverb(ve,Me)}if(E!=null&&T.getDjf(E,e),An){const et=S1(An,2**(Ps+5)),wt=ai(ve,et,1);Et.push(wt)}if(be!=null){be=Sn(be);const et=new GainNode(i,{gain:be});ht.push(et),T.connectToOutput(et)}else T.connectToOutput(ve);ht.slice(1).reduce((et,wt)=>et.connect(wt),ht[0]),Et=Et.concat(ht)},E5=(t,e,n,s)=>{Ba(e,t-n,e.duration/s,s)},Qv=["triangle","square","sawtooth","sine"],qv=[["tri","triangle"],["sqr","square"],["saw","sawtooth"],["sin","sine"]];function $v(t,e){const n=t,s=new Float32Array(e);for(let r=0;r<e;r++){const i=r*2/e-1;s[r]=Math.tanh(i*n)}return s}function V1(){[...Qv].forEach(t=>{Gn(t,(e,n,s)=>{const[r,i,a,o]=Qe([n.attack,n.decay,n.sustain,n.release],"linear",[.001,.05,.6,.01]);let u=k1(t,e,n),{node:c,stop:l,triggerRelease:d}=u;const m=Ve(.3),{duration:f}=n;c.onended=()=>{c.disconnect(),m.disconnect(),s()};const g=Ve(1);let y=c.connect(m).connect(g);const P=e+f;Oe(y.gain,r,i,a,o,0,1,e,P,"linear");const Z=P+o+.01;return d==null||d(Z),l(Z),{node:y,stop:S=>{l(S)}}},{type:"synth",prebake:!0})}),Gn("sbd",(t,e,n)=>{const{duration:s,decay:r=.5,pdecay:i=.5,penv:a=36,clip:o}=e,u=Dt(),c=.02,l=1.2,d=.025,m=1,f=u.createOscillator();f.type="triangle",f.frequency.value=ls(e,29),f.detune.setValueAtTime(a*100,0),f.detune.setValueAtTime(a*100,t),f.detune.exponentialRampToValueAtTime(.001,t+i);const g=Ve(1);g.gain.setValueAtTime(1,t+c),g.gain.exponentialRampToValueAtTime(.001,t+c+r),f.start(t);const y=iu("brown",t,2),P=Ve(1);P.gain.setValueAtTime(l,t),P.gain.exponentialRampToValueAtTime(.001,t+d);const Z=new WaveShaperNode(u);Z.curve=$v(2,u.sampleRate);const S=Ve(m);f.onended=()=>{f.disconnect(),g.disconnect(),Z.disconnect(),y.node.disconnect(),P.disconnect(),S.disconnect(),n()};const k=f.connect(Z).connect(g).connect(S);y.node.connect(P).connect(S);let v=t+r+.01;return o!=null&&(v=Math.min(t+o*s,v)),S.gain.setValueAtTime(m,v-.01),S.gain.linearRampToValueAtTime(0,v),f.stop(v),y.stop(v),{node:k,stop:X=>{f.stop(X)}}},{type:"synth",prebake:!0}),Gn("supersaw",(t,e,n)=>{const s=Dt();let{duration:r,n:i,unison:a=5,spread:o=.6,detune:u}=e;u=u??i??.18;const c=ls(e),[l,d,m,f]=Qe([e.attack,e.decay,e.sustain,e.release],"linear",[.001,.05,.6,.01]),g=t+r,y=g+f+.01,P=fs(a,1,100);let Z=P>1?fs(o,0,1):0,S=ke(s,"supersaw-oscillator",{frequency:c,begin:t,end:y,freqspread:u,voices:P,panspread:Z},{outputChannelCount:[2]});const k=1/Math.sqrt(P);Bs(S.parameters.get("detune"),e,t,g);const v=Ts(S.parameters.get("detune"),e,t),X=gr(S.parameters.get("frequency"),e,t);let L=Ve(1);L=S.connect(L),Oe(L.gain,l,d,m,f,0,.3*k,t,g,"linear");let V=Ss(s,()=>{Ds(S),L.disconnect(),n(),X==null||X.stop(),v==null||v.stop()},t,y);return{node:L,stop:E=>{V.stop(E)}}},{prebake:!0,type:"synth"}),Gn("bytebeat",(t,e,n)=>{const s=["(t%255 >= t/255%255)*255","(t*(t*8%60 <= 300)|(-t)*(t*4%512 < 256))+t/400","t","t*(t >> 10^t)","t&128","t&t>>8","((t%255+t%128+t%64+t%32+t%16+t%127.8+t%64.8+t%32.8+t%16.8)/3)","((t%64+t%63.8+t%64.15+t%64.35+t%63.5)/1.25)","(t&(t>>7)-t)","(sin(t*PI/128)*127+127)","((t^t/2+t+64*(sin((t*PI/64)+(t*PI/32768))+64))%128*2)","((t^t/2+t+64*(cos >> 0))%127.85*2)","((t^t/2+t+64)%128*2)","(((t * .25)^(t * .25)/100+(t * .25))%128)*2","((t^t/2+t+64)%7 * 24)"],{n:r=0}=e,i=ls(e),{byteBeatExpression:a=s[r%s.length],byteBeatStartTime:o}=e,u=Dt();let{duration:c}=e;const[l,d,m,f]=Qe([e.attack,e.decay,e.sustain,e.release],"linear",[.001,.05,.6,.01]),g=t+c,y=g+f+.01;let P=ke(u,"byte-beat-processor",{frequency:i,begin:t,end:y},{outputChannelCount:[2]});P.port.postMessage({codeText:a,byteBeatStartTime:o,frequency:i});let Z=Ve(1);Z=P.connect(Z),Oe(Z.gain,l,d,m,f,0,1,t,g,"linear");let S=Ss(u,()=>{Ds(P),Z.disconnect(),n()},t,y);return{node:Z,stop:k=>{S.stop(k)}}},{prebake:!0,type:"synth"}),Gn("pulse",(t,e,n)=>{const s=Dt();let{pwrate:r,pwsweep:i}=e;i==null&&(r!=null?i=.3:i=0),r==null&&i!=null&&(r=1);let{duration:a,pw:o=.5}=e;const u=ls(e),[c,l,d,m]=Qe([e.attack,e.decay,e.sustain,e.release],"linear",[.001,.05,.6,.01]),f=t+a,g=f+m+.01;let y=ke(s,"pulse-oscillator",{frequency:u,begin:t,end:g,pulsewidth:o},{outputChannelCount:[2]});Bs(y.parameters.get("detune"),e,t,f);const P=Ts(y.parameters.get("detune"),e,t),Z=gr(y.parameters.get("frequency"),e,t);let S=Ve(1);S=y.connect(S),Oe(S.gain,c,l,d,m,0,1,t,f,"linear");let k;i!=0&&(k=Xr(s,t,g,{frequency:r,depth:i}),k.connect(y.parameters.get("pulsewidth")));let v=Ss(s,()=>{Ds(y),Ds(k),S.disconnect(),n(),Z==null||Z.stop(),P==null||P.stop()},t,g);return{node:S,stop:X=>{v.stop(X)}}},{prebake:!0,type:"synth"}),[...ka].forEach(t=>{Gn(t,(e,n,s)=>{const[r,i,a,o]=Qe([n.attack,n.decay,n.sustain,n.release],"linear",[.001,.05,.6,.01]);let u,{density:c}=n;u=iu(t,e,c);let{node:l,stop:d,triggerRelease:m}=u;const f=Ve(.3),{duration:g}=n;l.onended=()=>{l.disconnect(),f.disconnect(),s()};const y=Ve(1);let P=l.connect(f).connect(y);const Z=e+g;Oe(P.gain,r,i,a,o,0,1,e,Z,"linear");const S=Z+o+.01;return m==null||m(S),d(S),{node:P,stop:k=>{d(k)}}},{type:"synth",prebake:!0})}),qv.forEach(([t,e])=>hn.set({...hn.get(),[t]:hn.get()[e]}))}function L1(t,e){const n=new Float32Array(t+1),s=new Float32Array(t+1),r=Dt(),i=r.createOscillator(),a={sawtooth:c=>[0,-1/c],square:c=>[0,c%2===0?0:1/c],triangle:c=>[c%2===0?0:1/(c*c),0]};if(!a[e])throw new Error(`unknown wave type ${e}`);n[0]=0,s[0]=0;let o=1;for(;o<=t;){const[c,l]=a[e](o);n[o]=c,s[o]=l,o++}const u=r.createPeriodicWave(n,s);return i.setPeriodicWave(u),i}function k1(t,e,n){let{n:s,duration:r,noise:i=0}=n,a;!s||t==="sine"?(a=Dt().createOscillator(),a.type=t||"triangle"):a=L1(s,t),a.frequency.value=ls(n),a.start(e);let o=Ts(a.detune,n,e);Bs(a.detune,n,e,e+r);const u=gr(a.frequency,n,e);let c;return i&&(c=Zv(a,i,e)),{node:(c==null?void 0:c.node)||a,stop:l=>{u.stop(l),o==null||o.stop(l),c==null||c.stop(l),a.stop(l)},triggerRelease:l=>{}}}function tw(t=1,e=.05,n=220,s=0,r=0,i=.1,a=0,o=1,u=0,c=0,l=0,d=0,m=0,f=0,g=0,y=0,P=0,Z=1,S=0,k=0){let v=Math.PI*2,X=Dt().sampleRate,L=xt=>xt>0?1:-1,V=u*=500*v/X/X,E=n*=(1+e*2*Math.random()-e)*v/X,I=[],R=0,J=0,W=0,Y=1,tt=0,ct=0,Q=0,nt,q;for(s=s*X+9,S*=X,r*=X,i*=X,P*=X,c*=500*v/X**3,g*=v/X,l*=v/X,d*=X,m=m*X|0,q=s+S+r+i+P|0;W<q;I[W++]=Q)++ct%(y*100|0)||(Q=a?a>1?a>2?a>3?Math.sin((R%v)**3):Math.max(Math.min(Math.tan(R),1),-1):1-(2*R/v%2+2)%2:1-4*Math.abs(Math.round(R/v)-R/v):Math.sin(R),Q=(m?1-k+k*Math.sin(v*W/m):1)*L(Q)*Math.abs(Q)**o*t*1*(W<s?W/s:W<s+S?1-(W-s)/S*(1-Z):W<s+S+r?Z:W<q-P?(q-W-P)/i*Z:0),Q=P?Q/2+(P>W?0:(W<q-P?1:(q-W)/P)*I[W-P|0]/2):Q),nt=(n+=u+=c)*Math.cos(g*J++),R+=nt-nt*f*(1-(Math.sin(W)+1)*1e9%2),Y&&++Y>d&&(n+=l,E+=l,Y=0),m&&!(++tt%m)&&(n=E,u=V,Y||(Y=1));return I}const E1=(t,e)=>{let{s:n,note:s=36,freq:r,zrand:i=0,attack:a=0,decay:o=0,sustain:u=.8,release:c=.1,curve:l=1,slide:d=0,deltaSlide:m=0,pitchJump:f=0,pitchJumpTime:g=0,lfo:y=0,znoise:P=0,zmod:Z=0,zcrush:S=0,zdelay:k=0,tremolo:v=0,duration:X=.2,zzfx:L}=t;const V=Math.max(X-a-o,0);typeof s=="string"&&(s=La(s)),!r&&typeof s=="number"&&(r=a5(s)),n=n.replace("z_","");const E=["sine","triangle","sawtooth","tan","noise"].indexOf(n)||0;l=n==="square"?0:l;const I=tw(...L||[.25,i,r,a,V,c,E,l,d,m,f,g,y,P,Z,S,k,u,o,v]),R=Dt(),J=R.createBuffer(1,I.length,R.sampleRate);J.getChannelData(0).set(I);const W=Dt().createBufferSource();return W.buffer=J,W.start(e),{node:W}};function W5(){["zzfx","z_sine","z_sawtooth","z_triangle","z_square","z_tan","z_noise"].forEach(t=>{Gn(t,(e,n,s)=>{const{node:r}=E1({s:t,...n},e);return r.onended=()=>{r.disconnect(),s()},{node:r,stop:()=>{}}},{type:"synth",prebake:!0})})}let an;async function W1(t,e){const n=`dsp-worklet-${Date.now()}`,s=`${e}
let __q = []; // trigger queue
class MyProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
    this.t = 0;
    this.stopped = false;
    this.port.onmessage = (e) => {
      if(e.data==='stop') {
        this.stopped = true;
      } else if(e.data?.dough) {
        __q.push(e.data)
      } else {
        msg?.(e.data)
      }
    };
  }
  process(inputs, outputs, parameters) {
    const output = outputs[0];
    if(__q.length) {
      for(let i=0;i<__q.length;++i) {
        const deadline = __q[i].time-currentTime;
        if(deadline<=0) {
          trigger(__q[i].dough)
          __q.splice(i,1)
        }
      }
    }
    for (let i = 0; i < output[0].length; i++) {
      const out = dsp(this.t / sampleRate);
      output.forEach((channel) => {
        channel[i] = out;
      });
      this.t++;
    }
  return !this.stopped;
  }
}
registerProcessor('${n}', MyProcessor);
`,r=`data:text/javascript;base64,${btoa(s)}`;await t.audioWorklet.addModule(r);const i=new AudioWorkletNode(t,n);return{node:i,stop:()=>i.port.postMessage("stop")}}const z5=()=>{var t;an&&(an==null||an.stop(),(t=an==null?void 0:an.node)==null||t.disconnect())};typeof window<"u"&&window.addEventListener("message",t=>{var e;t.data==="strudel-stop"?z5():(e=t.data)!=null&&e.dough&&(an==null||an.node.port.postMessage(t.data))});const R5=async t=>{const e=Dt();z5(),an=await W1(e,t),an.node.connect(e.destination)};function z1(t,e,n,s){window.postMessage({time:s,dough:t.value,currentTime:e,duration:t.duration,cps:n})}const $i=Object.freeze({NONE:0,ASYM:1,MIRROR:2,BENDP:3,BENDM:4,BENDMP:5,SYNC:6,QUANT:7,FOLD:8,PWM:9,ORBIT:10,SPIN:11,CHAOS:12,PRIMES:13,BINARY:14,BROWNIAN:15,RECIPROCAL:16,WORMHOLE:17,LOGISTIC:18,SIGMOID:19,FRACTAL:20,FLIP:21}),my=new Set;async function ew(t,e,n=2048){const s=`${t},${n}`;if(!my.has(s)){const r=(await iw(t,e)).getChannelData(0),i=r.length,a=Math.max(1,Math.floor(i/n)),o=new Array(a);for(let u=0;u<a;u++){const c=u*n;o[u]=r.subarray(c,c+n)}return my.add(s),{frames:o,frameLen:n,numFrames:a,key:s}}return{frameLen:n,key:s}}function nw(t,e){var n=1024;if(t<n)return t+" B";var s=["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],r=-1;do t/=n,++r;while(t>=n);return t.toFixed(1)+" "+s[r]}function sw(t){const e=new DataView(t);let n=12;for(;n+8<=e.byteLength;){const s=String.fromCharCode(e.getUint8(n),e.getUint8(n+1),e.getUint8(n+2),e.getUint8(n+3)),r=e.getUint32(n+4,!0);if(s==="fmt ")return e.getUint32(n+12,!0);n+=8+r+(r&1)}return null}async function rw(t){const e=sw(t)||44100;return await new OfflineAudioContext(1,1,e).decodeAudioData(t)}const Fo={},iw=(t,e)=>{if(t=t.replace("#","%23"),!Fo[t]){he(`[wavetable] load table ${e}..`,"load-table",{url:t});const n=Date.now();Fo[t]=fetch(t).then(s=>s.arrayBuffer()).then(async s=>{const r=Date.now()-n,i=nw(s.byteLength);return he(`[wavetable] load table ${e}... done! loaded ${i} in ${r}ms`,"loaded-table",{url:t}),await rw(s)})}return Fo[t]};function B5(t,e=""){if(!t.startsWith("github:"))throw new Error('expected "github:" at the start of pseudoUrl');let[n,s]=t.split("github:");return s=s.endsWith("/")?s.slice(0,-1):s,s.split("/").length===2&&(s+="/main"),`https://raw.githubusercontent.com/${s}/${e}`}const fy=(t,e,n,s={})=>(e=t._base||e,Object.entries(t).forEach(([r,i])=>{if(r==="_base")return!1;if(typeof i=="string"&&(i=[i]),typeof i!="object")throw new Error("wrong json format for "+r);let a=e;a.startsWith("github:")&&(a=B5(a,"")),i=i.map(o=>a+o).filter(o=>o.toLowerCase().endsWith(".wav")?!0:(he(`[wavetable] skipping ${o} -- wavetables must be ".wav" format`),!1)),i.length&&Ta(r,i,{baseUrl:e,frameLen:n})}));function Ta(t,e,n){Gn(t,(s,r,i,a)=>R1(s,r,i,e,a,(n==null?void 0:n.frameLen)??2048),{type:"wavetable",tables:e,...n})}const T5=async(t,e,n,s={})=>{if(n!==void 0)return fy(n,t,e);if(t.startsWith("github:")&&(t=B5(t,"strudel.json")),t.startsWith("local:")&&(t="http://localhost:5432"),typeof fetch=="function"&&!(typeof fetch>"u"))return fetch(t).then(r=>r.json()).then(r=>fy(r,t,e,s)).catch(r=>{throw console.error(r),new Error(`error loading "${t}"`)})};async function R1(t,e,n,s,r,i){const{s:a,n:o=0,duration:u,clip:c}=e,l=Dt(),[d,m,f,g]=Qe([e.attack,e.decay,e.sustain,e.release]);let{warpmode:y}=e;typeof y=="string"&&(y=$i[y.toUpperCase()]??$i.NONE);const P=ls(e),{url:Z,label:S}=u5(e,s),k=await ew(Z,S,i);let v=t+u;c!==void 0&&(v=Math.min(t+c*u,v));const X=v+g,L=X+.01,V=ke(l,"wavetable-oscillator-processor",{begin:t,end:L,frequency:P,freqspread:e.detune,position:e.wt,warp:e.warp,warpMode:y,voices:Math.max(e.unison??1,1),panspread:e.spread,phaserand:e.wtphaserand??e.unison>1?1:0},{outputChannelCount:[2]});if(V.port.postMessage({type:"table",payload:k}),l.currentTime>t){he(`[wavetable] still loading sound "${a}:${o}"`,"highlight");return}const E=[e.wtattack,e.wtdecay,e.wtsustain,e.wtrelease],I=[e.warpattack,e.warpdecay,e.warpsustain,e.warprelease],R=V.parameters,J=R.get("position"),W=R.get("warp");let Y=e.wtrate;e.wtsync!=null&&(Y=r*e.wtsync);const tt=qi(l,J,t,X,{offset:e.wt,amount:e.wtenv,defaultAmount:.5,values:E,holdEnd:v,defaultValues:[0,.5,0,.1]},{frequency:Y,depth:e.wtdepth,defaultDepth:.5,shape:e.wtshape,skew:e.wtskew,dcoffset:e.wtdc??0});let ct=e.warprate;e.warpsync!=null&&(ct=ct=r*e.warpsync);const Q=qi(l,W,t,X,{offset:e.warp,amount:e.warpenv,defaultAmount:.5,values:I,holdEnd:v,defaultValues:[0,.5,0,.1]},{frequency:ct,depth:e.warpdepth,defaultDepth:.5,shape:e.warpshape,skew:e.warpskew,dcoffset:e.warpdc??0}),nt=Ts(V.parameters.get("detune"),e,t),q=gr(V.parameters.get("frequency"),e,t),xt=l.createGain(),st=V.connect(xt);Oe(st.gain,d,m,f,g,0,.3,t,v,"linear"),Bs(V.parameters.get("detune"),e,t,v);const dt={node:st,source:V},H=Ss(l,()=>{Ds(V),nt==null||nt.stop(),q==null||q.stop(),st.disconnect(),tt==null||tt.disconnect(),Q==null||Q.disconnect(),n()},t,L);return dt.stop=gt=>{H.stop(gt)},dt}let Or;function aw(){const t=Dt();Or=ke(t,"dough-processor",{},{outputChannelCount:[2]}),A1(Or)}const Ni=new Map,yy=new Map;_.prototype.supradough=function(){return this.onTrigger((t,e,n,s)=>{t.value._begin=s,t.value._duration=t.duration/n,!Or&&aw();const r=(t.value.bank?t.value.bank+"_":"")+t.value.s,i=t.value.n??0,a=`${r}:${i}`;if(Ni.has(r)&&(t.value.s=a),Ni.has(r)&&!yy.has(a)){const o=Ni.get(r),u=o[i%o.length];console.log(`load ${a} from ${u}`);const c=cw(u);yy.set(a,c),c.then(({channels:l,sampleRate:d})=>Or.port.postMessage({sample:a,channels:l,sampleRate:d}))}Or.port.postMessage({spawn:t.value})},1)};function ow(t,e=""){if(!t.startsWith("github:"))throw new Error('expected "github:" at the start of pseudoUrl');let[n,s]=t.split("github:");return s=s.endsWith("/")?s.slice(0,-1):s,s.split("/").length===2&&(s+="/main"),`https://raw.githubusercontent.com/${s}/${e}`}async function uw(t){if(t.startsWith("github:")&&(t=ow(t,"strudel.json")),t.startsWith("local:")&&(t="http://localhost:5432"),t.startsWith("shabda:")){let[s,r]=t.split("shabda:");t=`https://shabda.ndre.gr/${r}.json?strudel=1`}if(t.startsWith("shabda/speech")){let[s,r]=t.split("shabda/speech");r=r.startsWith("/")?r.substring(1):r;let[i,a]=r.split(":"),o="f",u="en-GB";i&&([u,o]=i.split("/")),t=`https://shabda.ndre.gr/speech/${a}.json?gender=${o}&language=${u}&strudel=1'`}if(typeof fetch!="function")return;const e=t.split("/").slice(0,-1).join("/");if(typeof fetch>"u")return;const n=await fetch(t).then(s=>s.json()).catch(s=>{throw console.error(s),new Error(`error loading "${t}"`)});return[n,n._base||e]}async function cw(t){const e=await fetch(t).then(s=>s.arrayBuffer()).then(s=>Dt().decodeAudioData(s));let n=[];for(let s=0;s<e.numberOfChannels;s++)n.push(e.getChannelData(s));return{channels:n,sampleRate:e.sampleRate}}async function B1(t,e){if(typeof t=="string"){const[n,s]=await uw(t);return B1(n,s)}Object.entries(t).map(async([n,s])=>{n!=="_base"&&(s=s.map(r=>e+r),Ni.set(n,s))})}const lw="data:text/javascript;base64,dmFyIGF0PU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgaHQ9KHUsbSxmKT0+bSBpbiB1P2F0KHUsbSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6Zn0pOnVbbV09Zjt2YXIgZT0odSxtLGYpPT5odCh1LHR5cGVvZiBtIT0ic3ltYm9sIj9tKyIiOm0sZik7KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NvbnN0IHU9dHlwZW9mIHNhbXBsZVJhdGU8InUiP3NhbXBsZVJhdGU6NDhlMyxtPU1hdGguUEkvdSxmPTEvdTtsZXQgVj1oPT5NYXRoLnBvdyhoLDIpO2Z1bmN0aW9uIF8oaCl7cmV0dXJuIFYoaCl9ZnVuY3Rpb24gTyhoLHMsdCl7Y29uc3QgaT1NYXRoLnNpbigoMS10KSouNSpNYXRoLlBJKSxuPU1hdGguc2luKHQqLjUqTWF0aC5QSSk7cmV0dXJuIGgqaStzKm59Y2xhc3MgZ3tjb25zdHJ1Y3Rvcigpe2UodGhpcywicGhhc2UiLDApfXVwZGF0ZShzKXtjb25zdCB0PU1hdGguc2luKHRoaXMucGhhc2UqMipNYXRoLlBJKTtyZXR1cm4gdGhpcy5waGFzZT0odGhpcy5waGFzZStzL3UpJTEsdH19Y2xhc3MgSXtjb25zdHJ1Y3Rvcigpe2UodGhpcywicGhhc2UiLDApfXVwZGF0ZShzKXtyZXR1cm4gdGhpcy5waGFzZSs9ZipzLHRoaXMucGhhc2UlMSoyLTF9fWZ1bmN0aW9uIE0oaCxzKXtyZXR1cm4gaDxzPyhoLz1zLGgraC1oKmgtMSk6aD4xLXM/KGg9KGgtMSkvcyxoKmgraCtoKzEpOjB9Y2xhc3MgU3tjb25zdHJ1Y3RvcihzPXt9KXt0aGlzLnBoYXNlPXMucGhhc2U/PzB9dXBkYXRlKHMpe2NvbnN0IHQ9cy91O2xldCBpPU0odGhpcy5waGFzZSx0KSxuPTIqdGhpcy5waGFzZS0xLWk7cmV0dXJuIHRoaXMucGhhc2UrPXQsdGhpcy5waGFzZT4xJiYodGhpcy5waGFzZS09MSksbn19ZnVuY3Rpb24gVChoLHMsdCl7cmV0dXJuIGg8Mj8wOigobixsLHIpPT5yKihsLW4pK24pKC1zKi41LHMqLjUsdC8oaC0xKSl9ZnVuY3Rpb24geihoLHMpe3JldHVybiBoKk1hdGgucG93KDIscy8xMil9Y2xhc3MgRntjb25zdHJ1Y3RvcihzPXt9KXt0aGlzLnZvaWNlcz1zLnZvaWNlcz8/NSx0aGlzLmZyZXFzcHJlYWQ9cy5mcmVxc3ByZWFkPz8uMix0aGlzLnBhbnNwcmVhZD1zLnBhbnNwcmVhZD8/LjQsdGhpcy5waGFzZT1uZXcgRmxvYXQzMkFycmF5KHRoaXMudm9pY2VzKS5tYXAoKCk9Pk1hdGgucmFuZG9tKCkpfXVwZGF0ZShzKXtjb25zdCB0PU1hdGguc3FydCgxLXRoaXMucGFuc3ByZWFkKSxpPU1hdGguc3FydCh0aGlzLnBhbnNwcmVhZCk7bGV0IG49MCxsPTA7Zm9yKGxldCByPTA7cjx0aGlzLnZvaWNlcztyKyspe2NvbnN0IGE9eihzLFQodGhpcy52b2ljZXMsdGhpcy5mcmVxc3ByZWFkLHIpKS91LGM9KHImMSk9PTE7bGV0IGQ9dDtjJiYoZD1pKTtsZXQgYj1NKHRoaXMucGhhc2Vbcl0sYSksRT0yKnRoaXMucGhhc2Vbcl0tMS1iO249bitFKmQsbD1sK0UqZCx0aGlzLnBoYXNlW3JdKz1hLHRoaXMucGhhc2Vbcl0+MSYmKHRoaXMucGhhc2Vbcl0tPTEpfXJldHVybiBuK2x9fWNsYXNzIGt7Y29uc3RydWN0b3IoKXtlKHRoaXMsInBoYXNlIiwwKX11cGRhdGUocyl7dGhpcy5waGFzZSs9ZipzO2xldCB0PXRoaXMucGhhc2UlMTtyZXR1cm4odDwuNT8yKnQ6MS0yKih0LS41KSkqMi0xfX1jbGFzcyBxe2NvbnN0cnVjdG9yKCl7ZSh0aGlzLCJzMCIsMCk7ZSh0aGlzLCJzMSIsMCl9dXBkYXRlKHMsdCxpPTApe2k9TWF0aC5tYXgoaSwwKSx0PU1hdGgubWluKHQsMmU0KTtjb25zdCBuPTIqTWF0aC5zaW4odCptKSxyPTEtTWF0aC5wb3coLjUsKGkrLjEyNSkvLjEyNSkqbjtyZXR1cm4gdGhpcy5zMD1yKnRoaXMuczAtbip0aGlzLnMxK24qcyx0aGlzLnMxPXIqdGhpcy5zMStuKnRoaXMuczAsdGhpcy5zMX19Y2xhc3MgQ3tjb25zdHJ1Y3RvcihzPTApe3RoaXMucGhhc2U9c31zYXcocyx0KXtsZXQgaT0odGhpcy5waGFzZStzKSUxLG49TShpLHQpO3JldHVybiAyKmktMS1ufXVwZGF0ZShzLHQ9LjUpe2NvbnN0IGk9cy91O2xldCBuPXRoaXMuc2F3KDAsaSktdGhpcy5zYXcodCxpKTtyZXR1cm4gdGhpcy5waGFzZT0odGhpcy5waGFzZStpKSUxLG4rdCoyLTF9fWNsYXNzIEx7Y29uc3RydWN0b3IoKXtlKHRoaXMsInBoYXNlIiwwKX11cGRhdGUocyx0PS41KXtyZXR1cm4gdGhpcy5waGFzZSs9ZipzLHRoaXMucGhhc2UlMTx0PzE6LTF9fWNsYXNzIFB7Y29uc3RydWN0b3IoKXtlKHRoaXMsInVwZGF0ZSIscz0+TWF0aC5yYW5kb20oKTxzKmY/TWF0aC5yYW5kb20oKTowKX19Y2xhc3MgTnt1cGRhdGUoKXtyZXR1cm4gTWF0aC5yYW5kb20oKSoyLTF9fWNsYXNzIEd7Y29uc3RydWN0b3IoKXt0aGlzLm91dD0wfXVwZGF0ZSgpe2xldCBzPU1hdGgucmFuZG9tKCkqMi0xO3JldHVybiB0aGlzLm91dD0odGhpcy5vdXQrLjAyKnMpLzEuMDIsdGhpcy5vdXR9fWNsYXNzIGp7Y29uc3RydWN0b3IoKXt0aGlzLmIwPTAsdGhpcy5iMT0wLHRoaXMuYjI9MCx0aGlzLmIzPTAsdGhpcy5iND0wLHRoaXMuYjU9MCx0aGlzLmI2PTB9dXBkYXRlKCl7Y29uc3Qgcz1NYXRoLnJhbmRvbSgpKjItMTt0aGlzLmIwPS45OTg4Nip0aGlzLmIwK3MqLjA1NTUxNzksdGhpcy5iMT0uOTkzMzIqdGhpcy5iMStzKi4wNzUwNzU5LHRoaXMuYjI9Ljk2OSp0aGlzLmIyK3MqLjE1Mzg1Mix0aGlzLmIzPS44NjY1KnRoaXMuYjMrcyouMzEwNDg1Nix0aGlzLmI0PS41NSp0aGlzLmI0K3MqLjUzMjk1MjIsdGhpcy5iNT0tLjc2MTYqdGhpcy5iNS1zKi4wMTY4OTg7Y29uc3QgdD10aGlzLmIwK3RoaXMuYjErdGhpcy5iMit0aGlzLmIzK3RoaXMuYjQrdGhpcy5iNSt0aGlzLmI2K3MqLjUzNjI7cmV0dXJuIHRoaXMuYjY9cyouMTE1OTI2LHQqLjExfX1jbGFzcyBCe2NvbnN0cnVjdG9yKCl7ZSh0aGlzLCJwaGFzZSIsMSl9dXBkYXRlKHMpe3RoaXMucGhhc2UrPWYqcztsZXQgdD10aGlzLnBoYXNlPj0xPzE6MDtyZXR1cm4gdGhpcy5waGFzZT10aGlzLnBoYXNlJTEsdH19ZnVuY3Rpb24gUihoLHMsdCxpPTEpe2lmKGg8PTApcmV0dXJuIHM7aWYoaD49MSlyZXR1cm4gdDtsZXQgbjtyZXR1cm4gaT09PTA/bj1oOmk+MD9uPU1hdGgucG93KGgsaSk6bj0xLU1hdGgucG93KDEtaCwtaSkscysodC1zKSpufWNsYXNzIHZ7Y29uc3RydWN0b3Iocz17fSl7dGhpcy5zdGF0ZT0ib2ZmIix0aGlzLnN0YXJ0VGltZT0wLHRoaXMuc3RhcnRWYWw9MCx0aGlzLmRlY2F5Q3VydmU9cy5kZWNheUN1cnZlPz8xfXVwZGF0ZShzLHQsaSxuLGwscil7c3dpdGNoKHRoaXMuc3RhdGUpe2Nhc2Uib2ZmIjpyZXR1cm4gdD4wJiYodGhpcy5zdGF0ZT0iYXR0YWNrIix0aGlzLnN0YXJ0VGltZT1zLHRoaXMuc3RhcnRWYWw9MCksMDtjYXNlImF0dGFjayI6e2xldCBwPXMtdGhpcy5zdGFydFRpbWU7cmV0dXJuIHA+aT8odGhpcy5zdGF0ZT0iZGVjYXkiLHRoaXMuc3RhcnRUaW1lPXMsMSk6UihwL2ksdGhpcy5zdGFydFZhbCwxLDEpfWNhc2UiZGVjYXkiOntsZXQgcD1zLXRoaXMuc3RhcnRUaW1lLGE9UihwL24sMSxsLC10aGlzLmRlY2F5Q3VydmUpO3JldHVybiB0PD0wPyh0aGlzLnN0YXRlPSJyZWxlYXNlIix0aGlzLnN0YXJ0VGltZT1zLHRoaXMuc3RhcnRWYWw9YSxhKTpwPm4/KHRoaXMuc3RhdGU9InN1c3RhaW4iLHRoaXMuc3RhcnRUaW1lPXMsbCk6YX1jYXNlInN1c3RhaW4iOnJldHVybiB0PD0wJiYodGhpcy5zdGF0ZT0icmVsZWFzZSIsdGhpcy5zdGFydFRpbWU9cyx0aGlzLnN0YXJ0VmFsPWwpLGw7Y2FzZSJyZWxlYXNlIjp7bGV0IHA9cy10aGlzLnN0YXJ0VGltZTtpZihwPnIpcmV0dXJuIHRoaXMuc3RhdGU9Im9mZiIsMDtsZXQgYT1SKHAvcix0aGlzLnN0YXJ0VmFsLDAsLXRoaXMuZGVjYXlDdXJ2ZSk7cmV0dXJuIHQ+MCYmKHRoaXMuc3RhdGU9ImF0dGFjayIsdGhpcy5zdGFydFRpbWU9cyx0aGlzLnN0YXJ0VmFsPWEpLGF9fXRocm93ImludmFsaWQgZW52ZWxvcGUgc3RhdGUifX1jb25zdCBXPTEwO2NsYXNzIHh7Y29uc3RydWN0b3IoKXtlKHRoaXMsIndyaXRlSWR4IiwwKTtlKHRoaXMsInJlYWRJZHgiLDApO2UodGhpcywiYnVmZmVyIixuZXcgRmxvYXQzMkFycmF5KFcqdSkpfXdyaXRlKHMsdCl7dGhpcy53cml0ZUlkeD0odGhpcy53cml0ZUlkeCsxKSV0aGlzLmJ1ZmZlci5sZW5ndGgsdGhpcy5idWZmZXJbdGhpcy53cml0ZUlkeF09cztsZXQgaT1NYXRoLm1pbihNYXRoLmZsb29yKHUqdCksdGhpcy5idWZmZXIubGVuZ3RoLTEpO3RoaXMucmVhZElkeD10aGlzLndyaXRlSWR4LWksdGhpcy5yZWFkSWR4PDAmJih0aGlzLnJlYWRJZHgrPXRoaXMuYnVmZmVyLmxlbmd0aCl9dXBkYXRlKHMsdCl7cmV0dXJuIHRoaXMud3JpdGUocyx0KSx0aGlzLmJ1ZmZlclt0aGlzLnJlYWRJZHhdfX1jbGFzcyBYe2NvbnN0cnVjdG9yKCl7ZSh0aGlzLCJkZWxheSIsbmV3IHgpO2UodGhpcywibW9kdWxhdG9yIixuZXcgayl9dXBkYXRlKHMsdCxpLG4sbCl7Y29uc3Qgcj10aGlzLm1vZHVsYXRvci51cGRhdGUobikqbCxwPXRoaXMuZGVsYXkudXBkYXRlKHMsaSooMStyKSk7cmV0dXJuIE8ocyxwLHQpfX1jbGFzcyAke2NvbnN0cnVjdG9yKCl7ZSh0aGlzLCJob2xkIiwwKTtlKHRoaXMsInQiLDApfXVwZGF0ZShzLHQpe3JldHVybiB0aGlzLnQrKyV0PT09MCYmKHRoaXMudD0wLHRoaXMuaG9sZD1zKSx0aGlzLmhvbGR9fWNsYXNzIFV7dXBkYXRlKHMsdCl7dD1NYXRoLm1heCgxLHQpO2NvbnN0IGk9TWF0aC5wb3coMix0LTEpO3JldHVybiBNYXRoLnJvdW5kKHMqaSkvaX19Y2xhc3MgWXt1cGRhdGUocyx0PTAsaT0xKXtpPU1hdGgubWF4KC4wMDEsTWF0aC5taW4oMSxpKSk7Y29uc3Qgbj1NYXRoLmV4cG0xKHQpO3JldHVybigxK24pKnMvKDErbipNYXRoLmFicyhzKSkqaX19Y2xhc3Mgd3tjb25zdHJ1Y3RvcihzLHQsaSl7ZSh0aGlzLCJidWZmZXIiKTtlKHRoaXMsInNhbXBsZVJhdGUiKTtlKHRoaXMsInBvcyIsMCk7ZSh0aGlzLCJzYW1wbGVGcmVxIixBKCkpO3RoaXMuYnVmZmVyPXMsdGhpcy5zYW1wbGVSYXRlPXQsdGhpcy5kdXJhdGlvbj10aGlzLmJ1ZmZlci5sZW5ndGgvdGhpcy5zYW1wbGVSYXRlLHRoaXMuc3BlZWQ9dS90aGlzLnNhbXBsZVJhdGUsaSYmKHRoaXMuc3BlZWQqPXRoaXMuZHVyYXRpb24pfXVwZGF0ZShzKXtpZih0aGlzLnBvcz49dGhpcy5idWZmZXIubGVuZ3RoKXJldHVybiAwO2NvbnN0IHQ9cy90aGlzLnNhbXBsZUZyZXEqdGhpcy5zcGVlZDtsZXQgaT10aGlzLmJ1ZmZlcltNYXRoLmZsb29yKHRoaXMucG9zKV07cmV0dXJuIHRoaXMucG9zPXRoaXMucG9zK3QsaX19ZSh3LCJzYW1wbGVzIixuZXcgTWFwKTtjb25zdCB5PShoLHM9ImxpbmVhciIsdCk9Pntjb25zdFtyLHAsYSxjXT1oO2lmKHI9PW51bGwmJnA9PW51bGwmJmE9PW51bGwmJmM9PW51bGwpcmV0dXJuIHQ/P1suMDAxLC4wMDEsMSwuMDFdO2NvbnN0IGQ9YT8/KHIhPW51bGwmJnA9PW51bGx8fHI9PW51bGwmJnA9PW51bGw/MTouMDAxKTtyZXR1cm5bTWF0aC5tYXgocj8/MCwuMDAxKSxNYXRoLm1heChwPz8wLC4wMDEpLE1hdGgubWluKGQsMSksTWF0aC5tYXgoYz8/MCwuMDEpXX07bGV0IEQ9e3NpbmU6ZyxzYXc6Uyx6YXc6SSxzYXd0b290aDpTLHphd3Rvb3RoOkksc3VwZXJzYXc6Rix0cmk6ayx0cmlhbmdsZTprLHB1bHNlOkMsc3F1YXJlOkMscHVsemU6TCxkdXN0OlAsY3JhY2tsZTpQLGltcHVsc2U6Qix3aGl0ZTpOLGJyb3duOkcscGluazpqfTtjb25zdCBaPXtjaG9ydXM6MCxub3RlOjQ4LHM6InRyaWFuZ2xlIixiYW5rOiIiLGdhaW46MSxwb3N0Z2FpbjoxLHZlbG9jaXR5OjEsZGVuc2l0eToiLjAzIixmdHlwZToiMTJkYiIsZmFuY2hvcjowLHJlc29uYW5jZTowLGhyZXNvbmFuY2U6MCxiYW5kcTowLGNoYW5uZWxzOlsxLDJdLHBoYXNlcmRlcHRoOi43NSxzaGFwZXZvbDoxLGRpc3RvcnR2b2w6MSxkZWxheTowLGJ5dGVCZWF0RXhwcmVzc2lvbjoiMCIsZGVsYXlmZWVkYmFjazouNSxkZWxheXNwZWVkOjEsZGVsYXl0aW1lOi4yNSxvcmJpdDoxLGk6MSxmZnQ6OCx6OiJ0cmlhbmdsZSIscGFuOi41LGZtaDoxLGZtZW52OjAsc3BlZWQ6MSxwdzouNX07bGV0IG89aD0+WltoXTtjb25zdCBIPXtjOjAsZDoyLGU6NCxmOjUsZzo3LGE6OSxiOjExfSxKPXsiIyI6MSxiOi0xLHM6MSxmOi0xfSxLPShoLHM9Myk9Pnt2YXIgYTtsZXRbdCxpPSIiLG49IiJdPSgoYT1TdHJpbmcoaCkubWF0Y2goL14oW2EtZ0EtR10pKFsjYnNmXSopKFswLTldKikkLykpPT1udWxsP3ZvaWQgMDphLnNsaWNlKDEpKXx8W107aWYoIXQpdGhyb3cgbmV3IEVycm9yKCdub3QgYSBub3RlOiAiJytoKyciJyk7Y29uc3QgbD1IW3QudG9Mb3dlckNhc2UoKV0scj0oaT09bnVsbD92b2lkIDA6aS5zcGxpdCgiIikucmVkdWNlKChjLGQpPT5jK0pbZF0sMCkpfHwwO3JldHVybihOdW1iZXIobnx8cykrMSkqMTIrbCtyfSxRPWg9Pk1hdGgucG93KDIsKGgtNjkpLzEyKSo0NDAsQT1oPT4oaD1ofHxvKCJub3RlIiksdHlwZW9mIGg9PSJzdHJpbmciJiYoaD1LKGgsMykpLFEoaCkpO2NsYXNzIHR0e2NvbnN0cnVjdG9yKHMpe2UodGhpcywiaWQiLDApO2UodGhpcywib3V0IixbMCwwXSk7ZSh0aGlzLCJhdHRhY2siKTtlKHRoaXMsImRlY2F5Iik7ZSh0aGlzLCJzdXN0YWluIik7ZSh0aGlzLCJyZWxlYXNlIik7ZSh0aGlzLCJfYmVnaW4iKTtlKHRoaXMsIl9kdXJhdGlvbiIpO2UodGhpcywiX3NvdW5kIik7ZSh0aGlzLCJfY2hhbm5lbHMiLDEpO2UodGhpcywiX2J1ZmZlcnMiKTtlKHRoaXMsInVuaXQiKTtlKHRoaXMsIl9wZW52Iik7ZSh0aGlzLCJwZW52Iik7ZSh0aGlzLCJwYXR0YWNrIik7ZSh0aGlzLCJwZGVjYXkiKTtlKHRoaXMsInBzdXN0YWluIik7ZSh0aGlzLCJwcmVsZWFzZSIpO2UodGhpcywidmliIik7ZSh0aGlzLCJfdmliIik7ZSh0aGlzLCJ2aWJtb2QiKTtlKHRoaXMsIl9mbSIpO2UodGhpcywiZm1oIik7ZSh0aGlzLCJmbWkiKTtlKHRoaXMsIl9mbWVudiIpO2UodGhpcywiZm1hdHRhY2siKTtlKHRoaXMsImZtZGVjYXkiKTtlKHRoaXMsImZtc3VzdGFpbiIpO2UodGhpcywiZm1yZWxlYXNlIik7ZSh0aGlzLCJfbHBlbnYiKTtlKHRoaXMsImxwZW52Iik7ZSh0aGlzLCJscGF0dGFjayIpO2UodGhpcywibHBkZWNheSIpO2UodGhpcywibHBzdXN0YWluIik7ZSh0aGlzLCJscHJlbGVhc2UiKTtlKHRoaXMsIl9ocGVudiIpO2UodGhpcywiaHBlbnYiKTtlKHRoaXMsImhwYXR0YWNrIik7ZSh0aGlzLCJocGRlY2F5Iik7ZSh0aGlzLCJocHN1c3RhaW4iKTtlKHRoaXMsImhwcmVsZWFzZSIpO2UodGhpcywiX2JwZW52Iik7ZSh0aGlzLCJicGVudiIpO2UodGhpcywiYnBhdHRhY2siKTtlKHRoaXMsImJwZGVjYXkiKTtlKHRoaXMsImJwc3VzdGFpbiIpO2UodGhpcywiYnByZWxlYXNlIik7ZSh0aGlzLCJjdXRvZmYiKTtlKHRoaXMsImhjdXRvZmYiKTtlKHRoaXMsImJhbmRmIik7ZSh0aGlzLCJjb2Fyc2UiKTtlKHRoaXMsImNydXNoIik7ZSh0aGlzLCJkaXN0b3J0Iik7ZSh0aGlzLCJmcmVxIik7ZSh0aGlzLCJub3RlIik7ZSh0aGlzLCJfbHBmIik7ZSh0aGlzLCJfaHBmIik7ZSh0aGlzLCJfYnBmIik7ZSh0aGlzLCJfY2hvcnVzIik7ZSh0aGlzLCJfY29hcnNlIik7ZSh0aGlzLCJfY3J1c2giKTtlKHRoaXMsIl9kaXN0b3J0Iik7dmFyIGksbixsLHIscCxhLGM7dGhpcy5mcmVxPz8odGhpcy5mcmVxPUEocy5ub3RlKSksdGhpcy5fYmVnaW49cy5fYmVnaW4sdGhpcy5fZHVyYXRpb249cy5fZHVyYXRpb24sdGhpcy5yZWxlYXNlPXMucmVsZWFzZT8/MDtsZXQgdD10aGlzO2lmKE9iamVjdC5hc3NpZ24odCxzKSx0LnM9dC5zPz9vKCJzIiksdC5nYWluPV8odC5nYWluPz9vKCJnYWluIikpLHQudmVsb2NpdHk9Xyh0LnZlbG9jaXR5Pz9vKCJ2ZWxvY2l0eSIpKSx0LnBvc3RnYWluPV8odC5wb3N0Z2Fpbj8/bygicG9zdGdhaW4iKSksdC5kZW5zaXR5PXQuZGVuc2l0eT8/bygiZGVuc2l0eSIpLHQuZmFuY2hvcj10LmZhbmNob3I/P28oImZhbmNob3IiKSx0LmRyaXZlPXQuZHJpdmU/Py42OSx0LnBoYXNlcmRlcHRoPXQucGhhc2VyZGVwdGg/P28oInBoYXNlcmRlcHRoIiksdC5zaGFwZXZvbD1fKHQuc2hhcGV2b2w/P28oInNoYXBldm9sIikpLHQuZGlzdG9ydHZvbD1fKHQuZGlzdG9ydHZvbD8/bygiZGlzdG9ydHZvbCIpKSx0Lmk9dC5pPz9vKCJpIiksdC5jaG9ydXM9dC5jaG9ydXM/P28oImNob3J1cyIpLHQuZmZ0PXQuZmZ0Pz9vKCJmZnQiKSx0LnBhbj10LnBhbj8/bygicGFuIiksdC5vcmJpdD10Lm9yYml0Pz9vKCJvcmJpdCIpLHQuZm1lbnY9dC5mbWVudj8/bygiZm1lbnYiKSx0LnJlc29uYW5jZT10LnJlc29uYW5jZT8/bygicmVzb25hbmNlIiksdC5ocmVzb25hbmNlPXQuaHJlc29uYW5jZT8/bygiaHJlc29uYW5jZSIpLHQuYmFuZHE9dC5iYW5kcT8/bygiYmFuZHEiKSx0LnNwZWVkPXQuc3BlZWQ/P28oInNwZWVkIiksdC5wdz10LnB3Pz9vKCJwdyIpLFt0LmF0dGFjayx0LmRlY2F5LHQuc3VzdGFpbix0LnJlbGVhc2VdPXkoW3QuYXR0YWNrLHQuZGVjYXksdC5zdXN0YWluLHQucmVsZWFzZV0pLHQuX2hvbGRFbmQ9dC5fYmVnaW4rdC5fZHVyYXRpb24sdC5fZW5kPXQuX2hvbGRFbmQrdC5yZWxlYXNlKy4wMSx0LmZtaSYmKHQucz09PSJzYXcifHx0LnM9PT0ic2F3dG9vdGgiKSYmKHQucz0iemF3IiksRFt0LnNdKXtjb25zdCBkPURbdC5zXTt0Ll9zb3VuZD1uZXcgZCx0Ll9jaGFubmVscz0xfWVsc2UgaWYody5zYW1wbGVzLmhhcyh0LnMpKXtjb25zdCBkPXcuc2FtcGxlcy5nZXQodC5zKTt0Ll9idWZmZXJzPVtdLHQuX2NoYW5uZWxzPWQuY2hhbm5lbHMubGVuZ3RoO2ZvcihsZXQgYj0wO2I8dC5fY2hhbm5lbHM7YisrKXQuX2J1ZmZlcnMucHVzaChuZXcgdyhkLmNoYW5uZWxzW2JdLGQuc2FtcGxlUmF0ZSx0LnVuaXQ9PT0iYyIpKX1lbHNlIGNvbnNvbGUud2Fybigic291bmQgbm90IGxvYWRlZCIsdC5zKTt0LnBlbnYmJih0Ll9wZW52PW5ldyB2KHtkZWNheUN1cnZlOjR9KSxbdC5wYXR0YWNrLHQucGRlY2F5LHQucHN1c3RhaW4sdC5wcmVsZWFzZV09eShbdC5wYXR0YWNrLHQucGRlY2F5LHQucHN1c3RhaW4sdC5wcmVsZWFzZV0pKSx0LnZpYiYmKHQuX3ZpYj1uZXcgZyx0LnZpYm1vZD10LnZpYm1vZD8/bygidmlibW9kIikpLHQuZm1pJiYodC5fZm09bmV3IGcsdC5mbWg9dC5mbWg/P28oImZtaCIpLHQuZm1lbnYmJih0Ll9mbWVudj1uZXcgdih7ZGVjYXlDdXJ2ZToyfSksW3QuZm1hdHRhY2ssdC5mbWRlY2F5LHQuZm1zdXN0YWluLHQuZm1yZWxlYXNlXT15KFt0LmZtYXR0YWNrLHQuZm1kZWNheSx0LmZtc3VzdGFpbix0LmZtcmVsZWFzZV0pKSksdC5fYWRzcj1uZXcgdih7ZGVjYXlDdXJ2ZToyfSksdC5kZWxheT1fKHQuZGVsYXk/P28oImRlbGF5IikpLHQuZGVsYXlmZWVkYmFjaz10LmRlbGF5ZmVlZGJhY2s/P28oImRlbGF5ZmVlZGJhY2siKSx0LmRlbGF5c3BlZWQ9dC5kZWxheXNwZWVkPz9vKCJkZWxheXNwZWVkIiksdC5kZWxheXRpbWU9dC5kZWxheXRpbWU/P28oImRlbGF5dGltZSIpLHQubHBlbnYmJih0Ll9scGVudj1uZXcgdih7ZGVjYXlDdXJ2ZTo0fSksW3QubHBhdHRhY2ssdC5scGRlY2F5LHQubHBzdXN0YWluLHQubHByZWxlYXNlXT15KFt0LmxwYXR0YWNrLHQubHBkZWNheSx0Lmxwc3VzdGFpbix0LmxwcmVsZWFzZV0pKSx0LmhwZW52JiYodC5faHBlbnY9bmV3IHYoe2RlY2F5Q3VydmU6NH0pLFt0LmhwYXR0YWNrLHQuaHBkZWNheSx0Lmhwc3VzdGFpbix0LmhwcmVsZWFzZV09eShbdC5ocGF0dGFjayx0LmhwZGVjYXksdC5ocHN1c3RhaW4sdC5ocHJlbGVhc2VdKSksdC5icGVudiYmKHQuX2JwZW52PW5ldyB2KHtkZWNheUN1cnZlOjR9KSxbdC5icGF0dGFjayx0LmJwZGVjYXksdC5icHN1c3RhaW4sdC5icHJlbGVhc2VdPXkoW3QuYnBhdHRhY2ssdC5icGRlY2F5LHQuYnBzdXN0YWluLHQuYnByZWxlYXNlXSkpLHQuX2Nob3J1cz10LmNob3J1cz9bXTpudWxsLHQuX2xwZj10LmN1dG9mZj9bXTpudWxsLHQuX2hwZj10LmhjdXRvZmY/W106bnVsbCx0Ll9icGY9dC5iYW5kZj9bXTpudWxsLHQuX2NvYXJzZT10LmNvYXJzZT9bXTpudWxsLHQuX2NydXNoPXQuY3J1c2g/W106bnVsbCx0Ll9kaXN0b3J0PXQuZGlzdG9ydD9bXTpudWxsO2ZvcihsZXQgZD0wO2Q8dGhpcy5fY2hhbm5lbHM7ZCsrKShpPXQuX2xwZik9PW51bGx8fGkucHVzaChuZXcgcSksKG49dC5faHBmKT09bnVsbHx8bi5wdXNoKG5ldyBxKSwobD10Ll9icGYpPT1udWxsfHxsLnB1c2gobmV3IHEpLChyPXQuX2Nob3J1cyk9PW51bGx8fHIucHVzaChuZXcgWCksKHA9dC5fY29hcnNlKT09bnVsbHx8cC5wdXNoKG5ldyAkKSwoYT10Ll9jcnVzaCk9PW51bGx8fGEucHVzaChuZXcgVSksKGM9dC5fZGlzdG9ydCk9PW51bGx8fGMucHVzaChuZXcgWSl9dXBkYXRlKHMpe2lmKCF0aGlzLl9zb3VuZCYmIXRoaXMuX2J1ZmZlcnMpcmV0dXJuIDA7bGV0IHQ9KyhzPj10aGlzLl9iZWdpbiYmczw9dGhpcy5faG9sZEVuZCksaT10aGlzLmZyZXEqdGhpcy5zcGVlZDtpZih0aGlzLl9mbSYmdGhpcy5mbWghPT12b2lkIDAmJnRoaXMuZm1pIT09dm9pZCAwKXtsZXQgYT10aGlzLmZtaTtpZih0aGlzLl9mbWVudil7Y29uc3QgYj10aGlzLl9mbWVudi51cGRhdGUocyx0LHRoaXMuZm1hdHRhY2ssdGhpcy5mbWRlY2F5LHRoaXMuZm1zdXN0YWluLHRoaXMuZm1yZWxlYXNlKTthPXRoaXMuZm1lbnYqYiphfWNvbnN0IGM9aSp0aGlzLmZtaCxkPWMqYTtpPWkrdGhpcy5fZm0udXBkYXRlKGMpKmR9aWYodGhpcy5fdmliJiZ0aGlzLnZpYm1vZCE9PXZvaWQgMCYmKGk9aSoyKioodGhpcy5fdmliLnVwZGF0ZSh0aGlzLnZpYikqdGhpcy52aWJtb2QvMTIpKSx0aGlzLl9wZW52JiZ0aGlzLnBlbnYhPT12b2lkIDApe2NvbnN0IGE9dGhpcy5fcGVudi51cGRhdGUocyx0LHRoaXMucGF0dGFjayx0aGlzLnBkZWNheSx0aGlzLnBzdXN0YWluLHRoaXMucHJlbGVhc2UpO2k9aSthKnRoaXMucGVudn1sZXQgbj10aGlzLmN1dG9mZjtpZihuIT09dm9pZCAwJiZ0aGlzLl9scGVudil7Y29uc3QgYT10aGlzLl9scGVudi51cGRhdGUocyx0LHRoaXMubHBhdHRhY2ssdGhpcy5scGRlY2F5LHRoaXMubHBzdXN0YWluLHRoaXMubHByZWxlYXNlKTtuPXRoaXMubHBlbnYqYSpuK259bGV0IGw9dGhpcy5oY3V0b2ZmO2lmKGwhPT12b2lkIDAmJnRoaXMuX2hwZW52JiZ0aGlzLmhwZW52IT09dm9pZCAwKXtjb25zdCBhPXRoaXMuX2hwZW52LnVwZGF0ZShzLHQsdGhpcy5ocGF0dGFjayx0aGlzLmhwZGVjYXksdGhpcy5ocHN1c3RhaW4sdGhpcy5ocHJlbGVhc2UpO2w9MioqdGhpcy5ocGVudiphKmwrbH1sZXQgcj10aGlzLmJhbmRmO2lmKHIhPT12b2lkIDAmJnRoaXMuX2JwZW52JiZ0aGlzLmJwZW52IT09dm9pZCAwKXtjb25zdCBhPXRoaXMuX2JwZW52LnVwZGF0ZShzLHQsdGhpcy5icGF0dGFjayx0aGlzLmJwZGVjYXksdGhpcy5icHN1c3RhaW4sdGhpcy5icHJlbGVhc2UpO3I9MioqdGhpcy5icGVudiphKnIrcn1jb25zdCBwPXRoaXMuX2Fkc3IudXBkYXRlKHMsdCx0aGlzLmF0dGFjayx0aGlzLmRlY2F5LHRoaXMuc3VzdGFpbix0aGlzLnJlbGVhc2UpO2ZvcihsZXQgYT0wO2E8dGhpcy5fY2hhbm5lbHM7YSsrKXtpZih0aGlzLl9zb3VuZCYmdGhpcy5zPT09InB1bHNlIj90aGlzLm91dFthXT10aGlzLl9zb3VuZC51cGRhdGUoaSx0aGlzLnB3KTp0aGlzLl9zb3VuZD90aGlzLm91dFthXT10aGlzLl9zb3VuZC51cGRhdGUoaSk6dGhpcy5fYnVmZmVycyYmKHRoaXMub3V0W2FdPXRoaXMuX2J1ZmZlcnNbYV0udXBkYXRlKGkpKSx0aGlzLm91dFthXT10aGlzLm91dFthXSp0aGlzLmdhaW4qdGhpcy52ZWxvY2l0eSx0aGlzLl9jaG9ydXMpe2NvbnN0IGM9dGhpcy5fY2hvcnVzW2FdLnVwZGF0ZSh0aGlzLm91dFthXSx0aGlzLmNob3J1cywuMDMrLjA1KmEsMSwuMTEpO3RoaXMub3V0W2FdPWMrdGhpcy5vdXRbYV19dGhpcy5fbHBmJiYodGhpcy5fbHBmW2FdLnVwZGF0ZSh0aGlzLm91dFthXSxuLHRoaXMucmVzb25hbmNlKSx0aGlzLm91dFthXT10aGlzLl9scGZbYV0uczEpLHRoaXMuX2hwZiYmKHRoaXMuX2hwZlthXS51cGRhdGUodGhpcy5vdXRbYV0sbCx0aGlzLmhyZXNvbmFuY2UpLHRoaXMub3V0W2FdPXRoaXMub3V0W2FdLXRoaXMuX2hwZlthXS5zMSksdGhpcy5fYnBmJiYodGhpcy5fYnBmW2FdLnVwZGF0ZSh0aGlzLm91dFthXSxyLHRoaXMuYmFuZHEpLHRoaXMub3V0W2FdPXRoaXMuX2JwZlthXS5zMCksdGhpcy5fY29hcnNlJiYodGhpcy5vdXRbYV09dGhpcy5fY29hcnNlW2FdLnVwZGF0ZSh0aGlzLm91dFthXSx0aGlzLmNvYXJzZSkpLHRoaXMuX2NydXNoJiYodGhpcy5vdXRbYV09dGhpcy5fY3J1c2hbYV0udXBkYXRlKHRoaXMub3V0W2FdLHRoaXMuY3J1c2gpKSx0aGlzLl9kaXN0b3J0JiYodGhpcy5vdXRbYV09dGhpcy5fZGlzdG9ydFthXS51cGRhdGUodGhpcy5vdXRbYV0sdGhpcy5kaXN0b3J0LHRoaXMuZGlzdG9ydHZvbCkpLHRoaXMub3V0W2FdPXRoaXMub3V0W2FdKnAsdGhpcy5vdXRbYV09dGhpcy5vdXRbYV0qdGhpcy5wb3N0Z2Fpbix0aGlzLl9idWZmZXJzfHwodGhpcy5vdXRbYV09dGhpcy5vdXRbYV0qLjIpfWlmKHRoaXMuX2NoYW5uZWxzPT09MSYmKHRoaXMub3V0WzFdPXRoaXMub3V0WzBdKSx0aGlzLnBhbiE9PS41KXtjb25zdCBhPXRoaXMucGFuKk1hdGguUEkvMjt0aGlzLm91dFswXT10aGlzLm91dFswXSpNYXRoLmNvcyhhKSx0aGlzLm91dFsxXT10aGlzLm91dFsxXSpNYXRoLnNpbihhKX19fWNsYXNzIHN0e2NvbnN0cnVjdG9yKHM9NDhlMyx0PTApe2UodGhpcywidm9pY2VzIixbXSk7ZSh0aGlzLCJ2aWQiLDApO2UodGhpcywicSIsW10pO2UodGhpcywib3V0IixbMCwwXSk7ZSh0aGlzLCJkZWxheXNlbmQiLFswLDBdKTtlKHRoaXMsImRlbGF5dGltZSIsbygiZGVsYXl0aW1lIikpO2UodGhpcywiZGVsYXlmZWVkYmFjayIsbygiZGVsYXlmZWVkYmFjayIpKTtlKHRoaXMsImRlbGF5c3BlZWQiLG8oImRlbGF5c3BlZWQiKSk7ZSh0aGlzLCJ0IiwwKTt0aGlzLnNhbXBsZVJhdGU9cyx0aGlzLnQ9TWF0aC5mbG9vcih0KnMpLHRoaXMuX2RlbGF5TD1uZXcgeCx0aGlzLl9kZWxheVI9bmV3IHh9bG9hZFNhbXBsZShzLHQsaSl7dy5zYW1wbGVzLnNldChzLHtjaGFubmVsczp0LHNhbXBsZVJhdGU6aX0pfXNjaGVkdWxlU3Bhd24ocyl7aWYocy5fYmVnaW49PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJbZG91Z2hdOiBzY2hlZHVsZVNwYXduIGV4cGVjdGVkIF9iZWdpbiB0byBiZSBzZXQiKTtpZihzLl9kdXJhdGlvbj09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoIltkb3VnaF06IHNjaGVkdWxlU3Bhd24gZXhwZWN0ZWQgX2R1cmF0aW9uIHRvIGJlIHNldCIpO3Muc2FtcGxlUmF0ZT10aGlzLnNhbXBsZVJhdGU7Y29uc3QgdD1NYXRoLmZsb29yKHMuX2JlZ2luKnRoaXMuc2FtcGxlUmF0ZSk7dGhpcy5zY2hlZHVsZSh7dGltZTp0LHR5cGU6InNwYXduIixhcmc6c30pfXNwYXduKHMpe3MuaWQ9dGhpcy52aWQrKztjb25zdCB0PW5ldyB0dChzKTt0aGlzLnZvaWNlcy5wdXNoKHQpO2NvbnN0IGk9TWF0aC5jZWlsKHQuX2VuZCp0aGlzLnNhbXBsZVJhdGUpO3RoaXMuc2NoZWR1bGUoe3RpbWU6aSx0eXBlOiJkZXNwYXduIixhcmc6dC5pZH0pfWRlc3Bhd24ocyl7dGhpcy52b2ljZXM9dGhpcy52b2ljZXMuZmlsdGVyKHQ9PnQuaWQhPT1zKX1zY2hlZHVsZShzKXtpZighdGhpcy5xLmxlbmd0aCl7dGhpcy5xLnB1c2gocyk7cmV0dXJufWxldCB0PTA7Zm9yKDt0PHRoaXMucS5sZW5ndGgmJnRoaXMucVt0XS50aW1lPHMudGltZTspdCsrO3RoaXMucS5zcGxpY2UodCwwLHMpfXVwZGF0ZSgpe2Zvcig7dGhpcy5xLmxlbmd0aD4wJiZ0aGlzLnFbMF0udGltZTw9dGhpcy50Oyl0aGlzW3RoaXMucVswXS50eXBlXSh0aGlzLnFbMF0uYXJnKSx0aGlzLnEuc2hpZnQoKTt0aGlzLm91dFswXT0wLHRoaXMub3V0WzFdPTA7Zm9yKGxldCBpPTA7aTx0aGlzLnZvaWNlcy5sZW5ndGg7aSsrKXRoaXMudm9pY2VzW2ldLnVwZGF0ZSh0aGlzLnQvdGhpcy5zYW1wbGVSYXRlKSx0aGlzLm91dFswXSs9dGhpcy52b2ljZXNbaV0ub3V0WzBdLHRoaXMub3V0WzFdKz10aGlzLnZvaWNlc1tpXS5vdXRbMV0sdGhpcy52b2ljZXNbaV0uZGVsYXkmJih0aGlzLmRlbGF5c2VuZFswXSs9dGhpcy52b2ljZXNbaV0ub3V0WzBdKnRoaXMudm9pY2VzW2ldLmRlbGF5LHRoaXMuZGVsYXlzZW5kWzFdKz10aGlzLnZvaWNlc1tpXS5vdXRbMV0qdGhpcy52b2ljZXNbaV0uZGVsYXksdGhpcy5kZWxheXRpbWU9dGhpcy52b2ljZXNbaV0uZGVsYXl0aW1lLHRoaXMuZGVsYXlzcGVlZD10aGlzLnZvaWNlc1tpXS5kZWxheXNwZWVkLHRoaXMuZGVsYXlmZWVkYmFjaz10aGlzLnZvaWNlc1tpXS5kZWxheWZlZWRiYWNrKTtjb25zdCBzPXRoaXMuX2RlbGF5TC51cGRhdGUodGhpcy5kZWxheXNlbmRbMF0sdGhpcy5kZWxheXRpbWUpLHQ9dGhpcy5fZGVsYXlSLnVwZGF0ZSh0aGlzLmRlbGF5c2VuZFsxXSx0aGlzLmRlbGF5dGltZSk7dGhpcy5kZWxheXNlbmRbMF09cyp0aGlzLmRlbGF5ZmVlZGJhY2ssdGhpcy5kZWxheXNlbmRbMV09dCp0aGlzLmRlbGF5ZmVlZGJhY2ssdGhpcy5vdXRbMF0rPXMsdGhpcy5vdXRbMV0rPXQsdGhpcy50Kyt9fWNvbnN0IGV0PShoLHMsdCk9Pk1hdGgubWluKE1hdGgubWF4KGgscyksdCk7Y2xhc3MgaXQgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuZG91Z2g9bmV3IHN0KHNhbXBsZVJhdGUsY3VycmVudFRpbWUpLHRoaXMucG9ydC5vbm1lc3NhZ2U9cz0+e3MuZGF0YS5zcGF3bj90aGlzLmRvdWdoLnNjaGVkdWxlU3Bhd24ocy5kYXRhLnNwYXduKTpzLmRhdGEuc2FtcGxlP3RoaXMuZG91Z2gubG9hZFNhbXBsZShzLmRhdGEuc2FtcGxlLHMuZGF0YS5jaGFubmVscyxzLmRhdGEuc2FtcGxlUmF0ZSk6cy5kYXRhLnNhbXBsZXM/cy5kYXRhLnNhbXBsZXMuZm9yRWFjaCgoW3QsaSxuXSk9Pnt0aGlzLmRvdWdoLmxvYWRTYW1wbGUodCxpLG4pfSk6Y29uc29sZS5sb2coInVucmVjb2duaXplZCBldmVudCB0eXBlIixzLmRhdGEpfX1wcm9jZXNzKHMsdCxpKXtpZih0aGlzLmRpc2Nvbm5lY3RlZClyZXR1cm4hMTtjb25zdCBuPXRbMF07Zm9yKGxldCBsPTA7bDxuWzBdLmxlbmd0aDtsKyspe3RoaXMuZG91Z2gudXBkYXRlKCk7Zm9yKGxldCByPTA7cjxuLmxlbmd0aDtyKyspbltyXVtsXT1ldCh0aGlzLmRvdWdoLm91dFtyXSwtMSwxKX1yZXR1cm4hMH19cmVnaXN0ZXJQcm9jZXNzb3IoImRvdWdoLXByb2Nlc3NvciIsaXQpfSkoKTsK",hw=lw;w1(hw);const{Pattern:pw,logger:dw,repl:mw}=s5;u1(dw);const fw=t=>(t.ensureObjectValue(),t.value),T1=(t,e,n,s,r)=>{var i;return Ba(fw(t),r,n,s,(i=t.whole)==null?void 0:i.begin.valueOf())};function N1(t={}){return t={getTime:()=>Dt().currentTime,defaultOutput:T1,...t},mw(t)}pw.prototype.dough=function(){return this.onTrigger(z1,1)};const Hs=(t="test-canvas",e)=>{let{contextType:n="2d",pixelated:s=!1,pixelRatio:r=window.devicePixelRatio}={},i=document.querySelector("#"+t);if(!i){i=document.createElement("canvas"),i.id=t,i.width=window.innerWidth*r,i.height=window.innerHeight*r,i.style="pointer-events:none;width:100%;height:100%;position:fixed;top:0;left:0",s&&(i.style.imageRendering="pixelated"),document.body.prepend(i);let a;window.addEventListener("resize",()=>{a&&clearTimeout(a),a=setTimeout(()=>{i.width=window.innerWidth*r,i.height=window.innerHeight*r},200)})}return i.getContext(n,{willReadFrequently:!0})};let Qr={};function yw(t){Qr[t]!==void 0&&(cancelAnimationFrame(Qr[t]),delete Qr[t])}let Jn={};_.prototype.draw=function(t,e){if(typeof window>"u")return this;let{id:n=1,lookbehind:s=0,lookahead:r=0}=e,i=Math.max(Qi(),0);yw(n),s=Math.abs(s),Jn[n]=(Jn[n]||[]).filter(c=>!c.isInFuture(i));let a=this.queryArc(i,i+r).filter(c=>c.hasOnset());Jn[n]=Jn[n].concat(a);let o;const u=()=>{const c=Qi(),l=c+r;Jn[n]=Jn[n].filter(f=>f.isInNearPast(s,c));let d=Math.max(o||l,l-1/10);const m=this.queryArc(d,l).filter(f=>f.hasOnset());Jn[n]=Jn[n].concat(m),o=l,t(Jn[n],c,l,this),Qr[n]=requestAnimationFrame(u)};return Qr[n]=requestAnimationFrame(u),this};_.prototype.onPaint=function(t){return this.withState(e=>(e.controls.painters||(e.controls.painters=[]),e.controls.painters.push(t),e))};_.prototype.getPainters=function(){let t=[];return this.queryArc(0,0,{painters:t}),t};let bw={background:"#222",foreground:"#75baff",caret:"#ffcc00",selection:"rgba(128, 203, 196, 0.5)",selectionMatch:"#036dd626",lineHighlight:"#00000050",gutterBackground:"transparent",gutterForeground:"#8a919966"};function Qn(){return bw}let by="#22222210";_.prototype.animate=function({callback:t,sync:e=!1,smear:n=.5}={}){window.frame&&cancelAnimationFrame(window.frame);const s=Hs();let{clientWidth:r,clientHeight:i}=s.canvas;r*=window.devicePixelRatio,i*=window.devicePixelRatio;let a=n===0?"99":Number((1-n)*100).toFixed(0);a=a.length===1?`0${a}`:a,by=`#200010${a}`;const o=u=>{let c;u=Math.round(u),c=this.slow(1e3).queryArc(u,u),s.fillStyle=by,s.fillRect(0,0,r,i),c.forEach(l=>{let{x:d,y:m,w:f,h:g,s:y,r:P,angle:Z=0,fill:S="darkseagreen"}=l.value;if(f*=r,g*=i,P!==void 0&&Z!==void 0){const v=Z*2*Math.PI,[X,L]=[(r-f)/2,(i-g)/2];d=X+Math.cos(v)*P*X,m=L+Math.sin(v)*P*L}else d*=r-f,m*=i-g;const k={...l.value,x:d,y:m,w:f,h:g};s.fillStyle=S,y==="rect"?s.fillRect(d,m,f,g):y==="ellipse"&&(s.beginPath(),s.ellipse(d+f/2,m+g/2,f/2,g/2,0,0,2*Math.PI),s.fill()),t&&t(s,k,l)}),window.frame=requestAnimationFrame(o)};return window.frame=requestAnimationFrame(o),zt};const{x:N5,y:YL,w:HL,h:jL,angle:JL,r:_L,fill:UL,smear:OL}=xa("x","y","w","h","angle","r","fill","smear");B("rescale",function(t,e){return e.mul(N5(t).w(t).y(t).h(t))});B("moveXY",function(t,e,n){return n.add(N5(t).y(e))});B("zoomIn",function(t,e){const n=te(1).sub(t).div(2);return e.rescale(t).move(n,n)});const Kr=(t,e,n)=>t*(n-e)+e,gy=t=>{let{value:e}=t;typeof t.value!="object"&&(e={value:e});let{note:n,n:s,freq:r,s:i}=e;if(r)return ha(r);if(n=n??s,typeof n=="string")try{return wn(n)}catch{return 0}return typeof n=="number"?n:i?"_"+i:e};_.prototype.pianoroll=function(t={}){let{cycles:e=4,playhead:n=.5,overscan:s=0,hideNegative:r=!1,ctx:i=Hs(),id:a=1}=t,o=-e*n,u=e*(1-n);const c=(l,d)=>(!r||l.whole.begin>=0)&&l.isWithinTime(d+o,d+u);return this.draw((l,d)=>{I5({...t,time:d,ctx:i,haps:l.filter(m=>c(m,d))})},{lookbehind:o-s,lookahead:u+s,id:a}),this};function I5({time:t,haps:e,cycles:n=4,playhead:s=.5,flipTime:r=0,flipValues:i=0,hideNegative:a=!1,inactive:o=Qn().foreground,active:u=Qn().foreground,background:c="transparent",smear:l=0,playheadColor:d=Qn().foreground,minMidi:m=10,maxMidi:f=90,autorange:g=0,timeframe:y,fold:P=1,vertical:Z=0,labels:S=!1,fill:k=1,fillActive:v=!1,strokeActive:X=!0,stroke:L,hideInactive:V=0,colorizeInactive:E=1,fontFamily:I,ctx:R,id:J}={}){const W=R.canvas.width,Y=R.canvas.height;let tt=-n*s,ct=n*(1-s);J&&(e=e.filter(ot=>ot.hasTag(J))),y&&(console.warn("timeframe is deprecated! use from/to instead"),tt=0,ct=y);const Q=Z?Y:W,nt=Z?W:Y;let q=Z?[Q,0]:[0,Q];const xt=ct-tt,st=Z?[0,nt]:[nt,0];let dt=f-m+1,H=nt/dt,gt=[];r&&q.reverse(),i&&st.reverse();const{min:Kt,max:Ut,values:vt}=e.reduce(({min:ot,max:Ft,values:oe},ae)=>{const Xt=gy(ae);return{min:Xt<ot?Xt:ot,max:Xt>Ft?Xt:Ft,values:oe.includes(Xt)?oe:[...oe,Xt]}},{min:1/0,max:-1/0,values:[]});g&&(m=Kt,f=Ut,dt=f-m+1),gt=vt.sort((ot,Ft)=>typeof ot=="number"&&typeof Ft=="number"?ot-Ft:typeof ot=="number"?1:String(ot).localeCompare(String(Ft))),H=P?nt/gt.length:nt/dt,R.fillStyle=c,R.globalAlpha=1,l||(R.clearRect(0,0,W,Y),R.fillRect(0,0,W,Y)),e.forEach(ot=>{var Re;const Ft=ot.whole.begin<=t&&ot.endClipped>t;let oe=L??(X&&Ft),ae=!Ft&&k||Ft&&v;if(V&&!Ft)return;let Xt=(Re=ot.value)==null?void 0:Re.color;u=Xt||u,o=E&&Xt||o,Xt=Ft?u:o,R.fillStyle=ae?Xt:"transparent",R.strokeStyle=Xt;const{velocity:ze=1,gain:Tt=1}=ot.value||{};R.globalAlpha=ze*Tt;const Je=(ot.whole.begin-(r?ct:tt))/xt,Xe=Kr(Je,...q);let re=Kr(ot.duration/xt,0,Q);const Ze=gy(ot),be=P?gt.indexOf(Ze)/gt.length:(Number(Ze)-m)/dt,Ae=Kr(be,...st);let ge=0;const Se=Kr(t/xt,...q);let Ot;if(Z?Ot=[Ae+1-(i?H:0),Q-Se+Xe+ge+1-(r?0:re),H-2,re-2]:Ot=[Xe-Se+ge+1-(r?re:0),Ae+1-(i?0:H),re-2,H-2],oe&&R.strokeRect(...Ot),ae&&R.fillRect(...Ot),S){const Pt=ot.value.note??ot.value.s+(ot.value.n?`:${ot.value.n}`:""),{label:Nt,activeLabel:it}=ot.value,It=(Ft&&it||Nt)??Pt;let Wt=Z?re:H*.75;R.font=`${Wt}px ${I||"monospace"}`,R.fillStyle=ae?"black":Xt,R.textBaseline="top",R.fillText(It,...Ot)}}),R.globalAlpha=1;const Bt=Kr(-tt/xt,...q);return R.strokeStyle=d,R.beginPath(),Z?(R.moveTo(0,Bt),R.lineTo(nt,Bt)):(R.moveTo(Bt,0),R.lineTo(Bt,nt)),R.stroke(),this}function gw(t,e={}){let[n,s]=t;n=Math.abs(n);const r=s+n,i=r!==0?n/r:0;return{fold:1,...e,cycles:r,playhead:i}}const Mw=(t={})=>(e,n,s,r)=>I5({ctx:e,time:n,haps:s,...gw(r,t)});_.prototype.punchcard=function(t){return this.onPaint(Mw(t))};_.prototype.wordfall=function(t){return this.punchcard({vertical:1,labels:1,stroke:0,fillActive:1,active:"white",...t})};function Cw(t,e,n,s){const r=(t-90)*Math.PI/180;return[n+Math.cos(r)*e,s+Math.sin(r)*e]}const My=(t,e,n,s,r=0)=>Cw((t+r)*360,e*t,n,s);function Cy(t){let{ctx:e,from:n=0,to:s=3,margin:r=50,cx:i=100,cy:a=100,rotate:o=0,thickness:u=r/2,color:c=Qn().foreground,cap:l="round",stretch:d=1,fromOpacity:m=1,toOpacity:f=1}=t;n*=d,s*=d,o*=d,e.lineWidth=u,e.lineCap=l,e.strokeStyle=c,e.globalAlpha=m,e.beginPath();let[g,y]=My(n,r,i,a,o);e.moveTo(g,y);const P=1/60;let Z=n;for(;Z<=s;){const[S,k]=My(Z,r,i,a,o);e.globalAlpha=(Z-n)/(s-n)*f,e.lineTo(S,k),Z+=P}e.stroke()}function xw(t){let{stretch:e=1,size:n=80,thickness:s=n/2,cap:r="butt",inset:i=3,playheadColor:a="#ffffff",playheadLength:o=.02,playheadThickness:u=s,padding:c=0,steady:l=1,activeColor:d=Qn().foreground,inactiveColor:m=Qn().gutterForeground,colorizeInactive:f=0,fade:g=!0,ctx:y,time:P,haps:Z,drawTime:S,id:k}=t;k&&(Z=Z.filter(W=>W.hasTag(k)));const[v,X]=[y.canvas.width,y.canvas.height];y.clearRect(0,0,v*2,X*2);const[L,V]=[v/2,X/2],E={margin:n/e,cx:L,cy:V,stretch:e,cap:r,thickness:s},I={...E,thickness:u,from:i-o,to:i,color:a},[R]=S,J=l*P;Z.forEach(W=>{var xt;const Y=W.whole.begin<=P&&W.endClipped>P,tt=W.whole.begin-P+i,ct=W.endClipped-P+i-c,Q=((xt=W.value)==null?void 0:xt.color)||d,nt=f||Y?Q:m,q=g?1-Math.abs((W.whole.begin-P)/R):1;Cy({ctx:y,...E,from:tt,to:ct,rotate:J,color:nt,fromOpacity:q,toOpacity:q})}),Cy({ctx:y,...I,rotate:J})}_.prototype.spiral=function(t={}){return this.onPaint((e,n,s,r)=>xw({ctx:e,time:n,haps:s,drawTime:r,...t}))};const Pw=zs(36),xy=(t,e,n,s)=>{s=s*Math.PI*2;const r=Math.sin(s)*n+t,i=Math.cos(s)*n+e;return[r,i]},Py=(t,e)=>.5-Math.log2(t/e)%1;function Gw({haps:t,ctx:e,id:n,hapcircles:s=1,circle:r=0,edo:i=12,root:a=Pw,thickness:o=3,hapRadius:u=6,mode:c="flake",margin:l=10}={}){const d=c==="polygon",m=c==="flake",f=e.canvas.width,g=e.canvas.height;e.clearRect(0,0,f,g);const y=Qn().foreground,P=Math.min(f,g)/2-o/2-u-l,Z=f/2,S=g/2;n&&(t=t.filter(v=>v.hasTag(n))),e.strokeStyle=y,e.fillStyle=y,e.globalAlpha=1,e.lineWidth=o,r&&(e.beginPath(),e.arc(Z,S,P,0,2*Math.PI),e.stroke()),i&&(Array.from({length:i},(v,X)=>{const L=Py(a*Math.pow(2,X/i),a),[V,E]=xy(Z,S,P,L);e.beginPath(),e.arc(V,E,u,0,2*Math.PI),e.fill()}),e.stroke());let k=[];e.lineWidth=u,t.forEach(v=>{let X;try{X=Ru(v)}catch{return}const L=Py(X,a),[V,E]=xy(Z,S,P,L),I=v.value.color||y;e.strokeStyle=I,e.fillStyle=I;const{velocity:R=1,gain:J=1}=v.value||{},W=R*J;e.globalAlpha=W,k.push([V,E,L,I,W]),e.beginPath(),s&&(e.moveTo(V+u,E),e.arc(V,E,u,0,2*Math.PI),e.fill()),m&&(e.moveTo(Z,S),e.lineTo(V,E)),e.stroke()}),e.strokeStyle=y,e.globalAlpha=1,d&&k.length&&(k=k.sort((v,X)=>v[2]-X[2]),e.beginPath(),e.moveTo(k[0][0],k[0][1]),k.forEach(([v,X,L,V,E])=>{e.strokeStyle=V,e.globalAlpha=E,e.lineTo(v,X)}),e.lineTo(k[0][0],k[0][1]),e.stroke())}_.prototype.pitchwheel=function(t={}){let{ctx:e=Hs(),id:n=1}=t;return this.tag(n).onPaint((s,r,i)=>Gw({...t,ctx:e,haps:i.filter(a=>a.isActive(r)),id:n}))};function I1(t,{align:e=!0,color:n="white",thickness:s=3,scale:r=.25,pos:i=.75,trigger:a=0,ctx:o=Hs(),id:u=1}={}){o.lineWidth=s,o.strokeStyle=n;let c=o.canvas;if(!t){o.beginPath();let y=i*c.height;o.moveTo(0,y),o.lineTo(c.width,y),o.stroke();return}const l=Ci("time",u);o.beginPath();const d=t.frequencyBinCount;let m=e?Array.from(l).findIndex((y,P,Z)=>P&&Z[P-1]>-a&&y<=-a):0;m=Math.max(m,0);const f=c.width*1/d;let g=0;for(let y=m;y<d;y++){const P=l[y]+1,Z=(i-r*(P-1))*c.height;y===0?o.moveTo(g,Z):o.lineTo(g,Z),g+=f}o.stroke()}function K1(t,{color:e="white",scale:n=.25,pos:s=.75,lean:r=.5,min:i=-150,max:a=0,ctx:o=Hs(),id:u=1}={}){if(!t){o.beginPath();let g=s*l.height;o.moveTo(0,g),o.lineTo(l.width,g),o.stroke();return}const c=Ci("frequency",u),l=o.canvas;o.fillStyle=e;const d=t.frequencyBinCount,m=l.width*1/d;let f=0;for(let g=0;g<d;g++){const y=di((c[g]-i)/(a-i),0,1)*n,P=y*l.height,Z=(s-y*r)*l.height;o.fillRect(f,Z,Math.max(m,1),P),f+=m}}function K5(t=0,e="0,0,0",n=Hs()){t?(n.fillStyle=`rgba(${e},${1-t})`,n.fillRect(0,0,n.canvas.width,n.canvas.height)):n.clearRect(0,0,n.canvas.width,n.canvas.height)}_.prototype.fscope=function(t={}){let e=t.id??1;return this.analyze(e).draw(()=>{K5(t.smear,"0,0,0",t.ctx),we[e]&&K1(we[e],t)},{id:e})};_.prototype.tscope=function(t={}){let e=t.id??1;return this.analyze(e).draw(n=>{var s,r;t.color=((r=(s=n[0])==null?void 0:s.value)==null?void 0:r.color)||Qn().foreground,t.color,K5(t.smear,"0,0,0",t.ctx),I1(we[e],t)},{id:e})};_.prototype.scope=_.prototype.tscope;let Gy={};_.prototype.spectrum=function(t={}){let e=t.id??1;return this.analyze(e).draw(n=>{var s,r;t.color=((r=(s=n[0])==null?void 0:s.value)==null?void 0:r.color)||Gy[e]||Qn().foreground,Gy[e]=t.color,Xw(we[e],t)},{id:e})};_.prototype.scope=_.prototype.tscope;const Do=new Map;function Xw(t,{thickness:e=3,speed:n=1,min:s=-80,max:r=0,ctx:i=Hs(),id:a=1,color:o}={}){if(i.lineWidth=e,i.strokeStyle=o,!t)return;const u=n,c=Ci("frequency",a),l=i.canvas;i.fillStyle=o;const d=t.frequencyBinCount;let m=Do.get(a)||i.getImageData(0,0,l.width,l.height);Do.set(a,m),i.clearRect(0,0,i.canvas.width,i.canvas.height),i.putImageData(m,-u,0);let f=l.width-n;for(let g=0;g<d;g++){const y=di((c[g]-s)/(r-s),0,1);i.globalAlpha=y;const P=Math.log(g+1)/Math.log(d)*l.height;i.fillRect(f,l.height-P,u,2)}Do.set(a,i.getImageData(0,0,l.width,l.height))}const Zw=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_MAX_POLYPHONY:za,Warpmode:$i,aliasBank:Z5,get analysers(){return we},get analysersData(){return ds},applyFM:gr,applyGainCurve:Sn,applyParameterModulators:qi,connectToDestination:A1,createFilter:Ur,destroyAudioWorkletNode:Ds,distortionAlgorithms:Ea,dough:R5,doughTrigger:z1,doughsamples:B1,drawFrequencyScope:K1,drawTimeScope:I1,drywet:h1,dspWorklet:W1,effectSend:ai,errorLogger:i5,gainNode:Ve,getADSRValues:Qe,getAnalyserById:S1,getAnalyzerData:Ci,getAudioContext:Dt,getAudioContextCurrentTime:c5,getAudioDevices:X1,getCachedBuffer:f5,getCompressor:l1,getDefaultValue:ne,getDistortion:p1,getDistortionAlgorithm:m5,getFrequencyFromValue:ls,getLfo:Xr,getLoadedBuffer:y5,getOscillator:k1,getParamADSR:Oe,getPitchEnvelope:Bs,getSampleBuffer:f1,getSampleBufferSource:y1,getSampleInfo:m1,getSound:Vs,getVibratoOscillator:Ts,getWorklet:ke,getZZFX:E1,initAudio:F1,initAudioOnFirstClick:D1,loadBuffer:Wa,logger:he,noises:ka,onTriggerSample:C1,onTriggerSynth:R1,processSampleMap:g1,registerSampleSource:x1,registerSamplesPrefix:C5,registerSound:Gn,registerSynthSounds:V1,registerWaveTable:Ta,registerWorklet:w1,registerZZFXSounds:W5,resetDefaultValues:v1,resetDefaults:F5,resetGlobalEffects:k5,resetLoadedSounds:S5,reverseBuffer:b1,samples:M1,setDefault:w5,setDefaultAudioContext:c1,setDefaultValue:Ra,setDefaultValues:D5,setGainCurve:X5,setLogger:u1,setMaxPolyphony:P1,setMultiChannelOrbits:G1,setVersionDefaults:A5,soundAlias:v5,soundMap:hn,superdough:Ba,superdoughTrigger:E5,tables:T5,waveformN:L1,webAudioTimeout:Ss,webaudioOutput:T1,webaudioRepl:N1},Symbol.toStringTag,{value:"Module"}));function vw(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}function ys(t,e,n,s){var r=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(r,ys.prototype),r.expected=e,r.found=n,r.location=s,r.name="SyntaxError",r}vw(ys,Error);function Ao(t,e,n){return n=n||" ",t.length>e?t:(e-=t.length,n+=n.repeat(e),t+n.slice(0,e))}ys.prototype.format=function(t){var e="Error: "+this.message;if(this.location){var n=null,s;for(s=0;s<t.length;s++)if(t[s].source===this.location.source){n=t[s].text.split(/\r\n|\n|\r/g);break}var r=this.location.start,i=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(r):r,a=this.location.source+":"+i.line+":"+i.column;if(n){var o=this.location.end,u=Ao("",i.line.toString().length," "),c=n[r.line-1],l=r.line===o.line?o.column:c.length+1,d=l-r.column||1;e+=`
 --> `+a+`
`+u+` |
`+i.line+" | "+c+`
`+u+" | "+Ao("",r.column-1," ")+Ao("",d,"^")}else e+=`
 at `+a}return e};ys.buildMessage=function(t,e){var n={literal:function(c){return'"'+r(c.text)+'"'},class:function(c){var l=c.parts.map(function(d){return Array.isArray(d)?i(d[0])+"-"+i(d[1]):i(d)});return"["+(c.inverted?"^":"")+l.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(c){return c.description}};function s(c){return c.charCodeAt(0).toString(16).toUpperCase()}function r(c){return c.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(l){return"\\x0"+s(l)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(l){return"\\x"+s(l)})}function i(c){return c.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(l){return"\\x0"+s(l)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(l){return"\\x"+s(l)})}function a(c){return n[c.type](c)}function o(c){var l=c.map(a),d,m;if(l.sort(),l.length>0){for(d=1,m=1;d<l.length;d++)l[d-1]!==l[d]&&(l[m]=l[d],m++);l.length=m}switch(l.length){case 1:return l[0];case 2:return l[0]+" or "+l[1];default:return l.slice(0,-1).join(", ")+", or "+l[l.length-1]}}function u(c){return c?'"'+r(c)+'"':"end of input"}return"Expected "+o(t)+" but "+u(e)+" found."};function Y1(t,e){e=e!==void 0?e:{};var n={},s=e.grammarSource,r={start:kf},i=kf,a=".",o="-",u="0",c=",",l="|",d="[",m="]",f="{",g="}",y="%",P="<",Z=">",S="!",k="(",v=")",X="/",L="*",V="?",E=":",I="..",R="^",J="struct",W="target",Y="euclid",tt="slow",ct="rotL",Q="rotR",nt="fast",q="scale",xt="//",st="cat",dt="$",H="setcps",gt="setbpm",Kt="hush",Ut=/^[1-9]/,vt=/^[eE]/,Bt=/^[+\-]/,ot=/^[0-9]/,Ft=/^[ \n\r\t\xA0]/,oe=/^["']/,ae=/^[#\--.0-9A-Z\^-_a-z~\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376-\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06E5-\u06E6\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4-\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u09FC\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60-\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0CF1-\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E46\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065-\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE-\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5-\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7B9\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD-\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,Xt=/^[@_]/,ze=/^[^\n]/,Tt=mo("number"),Je=St(".",!1),Xe=Kn([["1","9"]],!1,!1),re=Kn(["e","E"],!1,!1),Ze=Kn(["+","-"],!1,!1),be=St("-",!1),Ae=St("0",!1),ge=Kn([["0","9"]],!1,!1),Se=mo("whitespace"),Ot=Kn([" ",`
`,"\r","	"," "],!1,!1),Re=St(",",!1),Pt=St("|",!1),Nt=Kn(['"',"'"],!1,!1),it=mo('a letter, a number, "-", "#", ".", "^", "_"'),It=Kn(["#",["-","."],["0","9"],["A","Z"],["^","_"],["a","z"],"~","ª","µ","º",["À","Ö"],["Ø","ö"],["ø","ˁ"],["ˆ","ˑ"],["ˠ","ˤ"],"ˬ","ˮ",["Ͱ","ʹ"],["Ͷ","ͷ"],["ͺ","ͽ"],"Ϳ","Ά",["Έ","Ί"],"Ό",["Ύ","Ρ"],["Σ","ϵ"],["Ϸ","ҁ"],["Ҋ","ԯ"],["Ա","Ֆ"],"ՙ",["ՠ","ֈ"],["א","ת"],["ׯ","ײ"],["ؠ","ي"],["ٮ","ٯ"],["ٱ","ۓ"],"ە",["ۥ","ۦ"],["ۮ","ۯ"],["ۺ","ۼ"],"ۿ","ܐ",["ܒ","ܯ"],["ݍ","ޥ"],"ޱ",["ߊ","ߪ"],["ߴ","ߵ"],"ߺ",["ࠀ","ࠕ"],"ࠚ","ࠤ","ࠨ",["ࡀ","ࡘ"],["ࡠ","ࡪ"],["ࢠ","ࢴ"],["ࢶ","ࢽ"],["ऄ","ह"],"ऽ","ॐ",["क़","ॡ"],["ॱ","ঀ"],["অ","ঌ"],["এ","ঐ"],["ও","ন"],["প","র"],"ল",["শ","হ"],"ঽ","ৎ",["ড়","ঢ়"],["য়","ৡ"],["ৰ","ৱ"],"ৼ",["ਅ","ਊ"],["ਏ","ਐ"],["ਓ","ਨ"],["ਪ","ਰ"],["ਲ","ਲ਼"],["ਵ","ਸ਼"],["ਸ","ਹ"],["ਖ਼","ੜ"],"ਫ਼",["ੲ","ੴ"],["અ","ઍ"],["એ","ઑ"],["ઓ","ન"],["પ","ર"],["લ","ળ"],["વ","હ"],"ઽ","ૐ",["ૠ","ૡ"],"ૹ",["ଅ","ଌ"],["ଏ","ଐ"],["ଓ","ନ"],["ପ","ର"],["ଲ","ଳ"],["ଵ","ହ"],"ଽ",["ଡ଼","ଢ଼"],["ୟ","ୡ"],"ୱ","ஃ",["அ","ஊ"],["எ","ஐ"],["ஒ","க"],["ங","ச"],"ஜ",["ஞ","ட"],["ண","த"],["ந","ப"],["ம","ஹ"],"ௐ",["అ","ఌ"],["ఎ","ఐ"],["ఒ","న"],["ప","హ"],"ఽ",["ౘ","ౚ"],["ౠ","ౡ"],"ಀ",["ಅ","ಌ"],["ಎ","ಐ"],["ಒ","ನ"],["ಪ","ಳ"],["ವ","ಹ"],"ಽ","ೞ",["ೠ","ೡ"],["ೱ","ೲ"],["അ","ഌ"],["എ","ഐ"],["ഒ","ഺ"],"ഽ","ൎ",["ൔ","ൖ"],["ൟ","ൡ"],["ൺ","ൿ"],["අ","ඖ"],["ක","න"],["ඳ","ර"],"ල",["ව","ෆ"],["ก","ะ"],["า","ำ"],["เ","ๆ"],["ກ","ຂ"],"ຄ",["ງ","ຈ"],"ຊ","ຍ",["ດ","ທ"],["ນ","ຟ"],["ມ","ຣ"],"ລ","ວ",["ສ","ຫ"],["ອ","ະ"],["າ","ຳ"],"ຽ",["ເ","ໄ"],"ໆ",["ໜ","ໟ"],"ༀ",["ཀ","ཇ"],["ཉ","ཬ"],["ྈ","ྌ"],["က","ဪ"],"ဿ",["ၐ","ၕ"],["ၚ","ၝ"],"ၡ",["ၥ","ၦ"],["ၮ","ၰ"],["ၵ","ႁ"],"ႎ",["Ⴀ","Ⴥ"],"Ⴧ","Ⴭ",["ა","ჺ"],["ჼ","ቈ"],["ቊ","ቍ"],["ቐ","ቖ"],"ቘ",["ቚ","ቝ"],["በ","ኈ"],["ኊ","ኍ"],["ነ","ኰ"],["ኲ","ኵ"],["ኸ","ኾ"],"ዀ",["ዂ","ዅ"],["ወ","ዖ"],["ዘ","ጐ"],["ጒ","ጕ"],["ጘ","ፚ"],["ᎀ","ᎏ"],["Ꭰ","Ᏽ"],["ᏸ","ᏽ"],["ᐁ","ᙬ"],["ᙯ","ᙿ"],["ᚁ","ᚚ"],["ᚠ","ᛪ"],["ᛮ","ᛸ"],["ᜀ","ᜌ"],["ᜎ","ᜑ"],["ᜠ","ᜱ"],["ᝀ","ᝑ"],["ᝠ","ᝬ"],["ᝮ","ᝰ"],["ក","ឳ"],"ៗ","ៜ",["ᠠ","ᡸ"],["ᢀ","ᢄ"],["ᢇ","ᢨ"],"ᢪ",["ᢰ","ᣵ"],["ᤀ","ᤞ"],["ᥐ","ᥭ"],["ᥰ","ᥴ"],["ᦀ","ᦫ"],["ᦰ","ᧉ"],["ᨀ","ᨖ"],["ᨠ","ᩔ"],"ᪧ",["ᬅ","ᬳ"],["ᭅ","ᭋ"],["ᮃ","ᮠ"],["ᮮ","ᮯ"],["ᮺ","ᯥ"],["ᰀ","ᰣ"],["ᱍ","ᱏ"],["ᱚ","ᱽ"],["ᲀ","ᲈ"],["Ა","Ჺ"],["Ჽ","Ჿ"],["ᳩ","ᳬ"],["ᳮ","ᳱ"],["ᳵ","ᳶ"],["ᴀ","ᶿ"],["Ḁ","ἕ"],["Ἐ","Ἕ"],["ἠ","ὅ"],["Ὀ","Ὅ"],["ὐ","ὗ"],"Ὑ","Ὓ","Ὕ",["Ὗ","ώ"],["ᾀ","ᾴ"],["ᾶ","ᾼ"],"ι",["ῂ","ῄ"],["ῆ","ῌ"],["ῐ","ΐ"],["ῖ","Ί"],["ῠ","Ῥ"],["ῲ","ῴ"],["ῶ","ῼ"],"ⁱ","ⁿ",["ₐ","ₜ"],"ℂ","ℇ",["ℊ","ℓ"],"ℕ",["ℙ","ℝ"],"ℤ","Ω","ℨ",["K","ℭ"],["ℯ","ℹ"],["ℼ","ℿ"],["ⅅ","ⅉ"],"ⅎ",["Ⅰ","ↈ"],["Ⰰ","Ⱞ"],["ⰰ","ⱞ"],["Ⱡ","ⳤ"],["Ⳬ","ⳮ"],["Ⳳ","ⳳ"],["ⴀ","ⴥ"],"ⴧ","ⴭ",["ⴰ","ⵧ"],"ⵯ",["ⶀ","ⶖ"],["ⶠ","ⶦ"],["ⶨ","ⶮ"],["ⶰ","ⶶ"],["ⶸ","ⶾ"],["ⷀ","ⷆ"],["ⷈ","ⷎ"],["ⷐ","ⷖ"],["ⷘ","ⷞ"],"ⸯ",["々","〇"],["〡","〩"],["〱","〵"],["〸","〼"],["ぁ","ゖ"],["ゝ","ゟ"],["ァ","ヺ"],["ー","ヿ"],["ㄅ","ㄯ"],["ㄱ","ㆎ"],["ㆠ","ㆺ"],["ㇰ","ㇿ"],["㐀","䶵"],["一","鿯"],["ꀀ","ꒌ"],["ꓐ","ꓽ"],["ꔀ","ꘌ"],["ꘐ","ꘟ"],["ꘪ","ꘫ"],["Ꙁ","ꙮ"],["ꙿ","ꚝ"],["ꚠ","ꛯ"],["ꜗ","ꜟ"],["Ꜣ","ꞈ"],["Ꞌ","ꞹ"],["ꟷ","ꠁ"],["ꠃ","ꠅ"],["ꠇ","ꠊ"],["ꠌ","ꠢ"],["ꡀ","ꡳ"],["ꢂ","ꢳ"],["ꣲ","ꣷ"],"ꣻ",["ꣽ","ꣾ"],["ꤊ","ꤥ"],["ꤰ","ꥆ"],["ꥠ","ꥼ"],["ꦄ","ꦲ"],"ꧏ",["ꧠ","ꧤ"],["ꧦ","ꧯ"],["ꧺ","ꧾ"],["ꨀ","ꨨ"],["ꩀ","ꩂ"],["ꩄ","ꩋ"],["ꩠ","ꩶ"],"ꩺ",["ꩾ","ꪯ"],"ꪱ",["ꪵ","ꪶ"],["ꪹ","ꪽ"],"ꫀ","ꫂ",["ꫛ","ꫝ"],["ꫠ","ꫪ"],["ꫲ","ꫴ"],["ꬁ","ꬆ"],["ꬉ","ꬎ"],["ꬑ","ꬖ"],["ꬠ","ꬦ"],["ꬨ","ꬮ"],["ꬰ","ꭚ"],["ꭜ","ꭥ"],["ꭰ","ꯢ"],["가","힣"],["ힰ","ퟆ"],["ퟋ","ퟻ"],["豈","舘"],["並","龎"],["ﬀ","ﬆ"],["ﬓ","ﬗ"],"יִ",["ײַ","ﬨ"],["שׁ","זּ"],["טּ","לּ"],"מּ",["נּ","סּ"],["ףּ","פּ"],["צּ","ﮱ"],["ﯓ","ﴽ"],["ﵐ","ﶏ"],["ﶒ","ﷇ"],["ﷰ","ﷻ"],["ﹰ","ﹴ"],["ﹶ","ﻼ"],["Ａ","Ｚ"],["ａ","ｚ"],["ｦ","ﾾ"],["ￂ","ￇ"],["ￊ","ￏ"],["ￒ","ￗ"],["ￚ","ￜ"]],!1,!1),Wt=St("[",!1),Be=St("]",!1),_e=St("{",!1),Me=St("}",!1),rs=St("%",!1),en=St("<",!1),_t=St(">",!1),is=Kn(["@","_"],!1,!1),yn=St("!",!1),Yt=St("(",!1),ue=St(")",!1),Ue=St("/",!1),Te=St("*",!1),An=St("?",!1),Ps=St(":",!1),In=St("..",!1),h=St("^",!1),M=St("struct",!1),b=St("target",!1),C=St("euclid",!1),w=St("slow",!1),z=St("rotL",!1),T=St("rotR",!1),K=St("fast",!1),$=St("scale",!1),Mt=St("//",!1),Et=Kn([`
`],!0,!1),ce=St("cat",!1),ht=St("$",!1),Ne=St("setcps",!1),ve=St("setbpm",!1),de=St("hush",!1),Gs=function(){return parseFloat(UP())},Xs=function(p){const G=p.join("");return G==="."||G==="_"},et=function(p){return new RG(p.join(""))},wt=function(p){return p},bt=function(p,G){return p.arguments_.stepsPerCycle=G,p},kr=function(p){return p},Zs=function(p){return p.arguments_.alignment="polymeter_slowcat",p},bP=function(p){return G=>G.options_.weight=(G.options_.weight??1)+(p??2)-1},gP=function(p){return G=>{const A=(G.options_.reps??1)+(p??2)-1;G.options_.reps=A,G.options_.ops=G.options_.ops.filter(N=>N.type_!=="replicate"),G.options_.ops.push({type_:"replicate",arguments_:{amount:A}}),G.options_.weight=A}},MP=function(p,G,A){return N=>N.options_.ops.push({type_:"bjorklund",arguments_:{pulse:p,step:G,rotation:A}})},CP=function(p){return G=>G.options_.ops.push({type_:"stretch",arguments_:{amount:p,type:"slow"}})},xP=function(p){return G=>G.options_.ops.push({type_:"stretch",arguments_:{amount:p,type:"fast"}})},PP=function(p){return G=>G.options_.ops.push({type_:"degradeBy",arguments_:{amount:p,seed:go++}})},GP=function(p){return G=>G.options_.ops.push({type_:"tail",arguments_:{element:p}})},XP=function(p){return G=>G.options_.ops.push({type_:"range",arguments_:{element:p}})},ZP=function(p,G){const A=new TG(p,{ops:[],weight:1,reps:1});for(const N of G)N(A);return A},vP=function(p,G){return new Di(G,"fastcat",void 0,!!p)},wP=function(p){return{alignment:"stack",list:p}},FP=function(p){return{alignment:"rand",list:p,seed:go++}},DP=function(p){return{alignment:"feet",list:p,seed:go++}},AP=function(p,G){return G&&G.list.length>0?new Di([p,...G.list],G.alignment,G.seed):p},SP=function(p,G){return new Di(G?[p,...G.list]:[p],"polymeter")},VP=function(p){return p},LP=function(p){return{name:"struct",args:{mini:p}}},kP=function(p){return{name:"target",args:{name:p}}},EP=function(p,G,A){return{name:"bjorklund",args:{pulse:p,step:parseInt(G)}}},WP=function(p){return{name:"stretch",args:{amount:p}}},zP=function(p){return{name:"shift",args:{amount:"-"+p}}},RP=function(p){return{name:"shift",args:{amount:p}}},BP=function(p){return{name:"stretch",args:{amount:"1/"+p}}},TP=function(p){return{name:"scale",args:{scale:p.join("")}}},Sf=function(p,G){return G},NP=function(p,G){return G.unshift(p),new Di(G,"slowcat")},IP=function(p){return p},KP=function(p,G){return new BG(p.name,p.args,G)},YP=function(p){return p},HP=function(p){return p},jP=function(p){return new bo("setcps",{value:p})},JP=function(p){return new bo("setcps",{value:p/120/2})},_P=function(){return new bo("hush")},F=e.peg$currPos|0,Ct=F,Us=[{line:1,column:1}],bn=F,vi=e.peg$maxFailExpected||[],ut=e.peg$silentFails|0,Er;if(e.startRule){if(!(e.startRule in r))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');i=r[e.startRule]}function UP(){return t.substring(Ct,F)}function Vf(){return fo(Ct,F)}function St(p,G){return{type:"literal",text:p,ignoreCase:G}}function Kn(p,G,A){return{type:"class",parts:p,inverted:G,ignoreCase:A}}function OP(){return{type:"end"}}function mo(p){return{type:"other",description:p}}function Lf(p){var G=Us[p],A;if(G)return G;if(p>=Us.length)A=Us.length-1;else for(A=p;!Us[--A];);for(G=Us[A],G={line:G.line,column:G.column};A<p;)t.charCodeAt(A)===10?(G.line++,G.column=1):G.column++,A++;return Us[p]=G,G}function fo(p,G,A){var N=Lf(p),lt=Lf(G),Qt={source:s,start:{offset:p,line:N.line,column:N.column},end:{offset:G,line:lt.line,column:lt.column}};return Qt}function mt(p){F<bn||(F>bn&&(bn=F,vi=[]),vi.push(p))}function QP(p,G,A){return new ys(ys.buildMessage(p,G),p,G,A)}function kf(){var p;return p=zG(),p}function Yn(){var p,G;return ut++,p=F,sG(),G=wi(),G!==n?(nG(),eG(),Ct=p,p=Gs()):(F=p,p=n),ut--,p===n&&ut===0&&mt(Tt),p}function qP(){var p;return t.charCodeAt(F)===46?(p=a,F++):(p=n,ut===0&&mt(Je)),p}function $P(){var p;return p=t.charAt(F),Ut.test(p)?F++:(p=n,ut===0&&mt(Xe)),p}function tG(){var p;return p=t.charAt(F),vt.test(p)?F++:(p=n,ut===0&&mt(re)),p}function eG(){var p,G,A,N,lt;if(p=F,G=tG(),G!==n){if(A=t.charAt(F),Bt.test(A)?F++:(A=n,ut===0&&mt(Ze)),A===n&&(A=null),N=[],lt=Os(),lt!==n)for(;lt!==n;)N.push(lt),lt=Os();else N=n;N!==n?(G=[G,A,N],p=G):(F=p,p=n)}else F=p,p=n;return p}function nG(){var p,G,A,N;if(p=F,G=qP(),G!==n){if(A=[],N=Os(),N!==n)for(;N!==n;)A.push(N),N=Os();else A=n;A!==n?(G=[G,A],p=G):(F=p,p=n)}else F=p,p=n;return p}function wi(){var p,G,A,N;if(p=rG(),p===n)if(p=F,G=$P(),G!==n){for(A=[],N=Os();N!==n;)A.push(N),N=Os();G=[G,A],p=G}else F=p,p=n;return p}function sG(){var p;return t.charCodeAt(F)===45?(p=o,F++):(p=n,ut===0&&mt(be)),p}function rG(){var p;return t.charCodeAt(F)===48?(p=u,F++):(p=n,ut===0&&mt(Ae)),p}function Os(){var p;return p=t.charAt(F),ot.test(p)?F++:(p=n,ut===0&&mt(ge)),p}function ft(){var p,G;for(ut++,p=[],G=t.charAt(F),Ft.test(G)?F++:(G=n,ut===0&&mt(Ot));G!==n;)p.push(G),G=t.charAt(F),Ft.test(G)?F++:(G=n,ut===0&&mt(Ot));return ut--,G=n,ut===0&&mt(Se),p}function Qs(){var p,G,A,N;return p=F,G=ft(),t.charCodeAt(F)===44?(A=c,F++):(A=n,ut===0&&mt(Re)),A!==n?(N=ft(),G=[G,A,N],p=G):(F=p,p=n),p}function Ef(){var p,G,A,N;return p=F,G=ft(),t.charCodeAt(F)===124?(A=l,F++):(A=n,ut===0&&mt(Pt)),A!==n?(N=ft(),G=[G,A,N],p=G):(F=p,p=n),p}function Wf(){var p,G,A,N;return p=F,G=ft(),t.charCodeAt(F)===46?(A=a,F++):(A=n,ut===0&&mt(Je)),A!==n?(N=ft(),G=[G,A,N],p=G):(F=p,p=n),p}function qs(){var p;return p=t.charAt(F),oe.test(p)?F++:(p=n,ut===0&&mt(Nt)),p}function Fi(){var p;return ut++,p=t.charAt(F),ae.test(p)?F++:(p=n,ut===0&&mt(It)),ut--,p===n&&ut===0&&mt(it),p}function zf(){var p,G,A,N;if(p=F,ft(),G=[],A=Fi(),A!==n)for(;A!==n;)G.push(A),A=Fi();else G=n;return G!==n?(A=ft(),Ct=F,N=Xs(G),N?N=n:N=void 0,N!==n?(Ct=p,p=et(G)):(F=p,p=n)):(F=p,p=n),p}function iG(){var p,G,A,N;return p=F,ft(),t.charCodeAt(F)===91?(G=d,F++):(G=n,ut===0&&mt(Wt)),G!==n?(ft(),A=Tf(),A!==n?(ft(),t.charCodeAt(F)===93?(N=m,F++):(N=n,ut===0&&mt(Be)),N!==n?(ft(),Ct=p,p=wt(A)):(F=p,p=n)):(F=p,p=n)):(F=p,p=n),p}function aG(){var p,G,A,N,lt;return p=F,ft(),t.charCodeAt(F)===123?(G=f,F++):(G=n,ut===0&&mt(_e)),G!==n?(ft(),A=Nf(),A!==n?(ft(),t.charCodeAt(F)===125?(N=g,F++):(N=n,ut===0&&mt(Me)),N!==n?(lt=oG(),lt===n&&(lt=null),ft(),Ct=p,p=bt(A,lt)):(F=p,p=n)):(F=p,p=n)):(F=p,p=n),p}function oG(){var p,G,A;return p=F,t.charCodeAt(F)===37?(G=y,F++):(G=n,ut===0&&mt(rs)),G!==n?(A=$s(),A!==n?(Ct=p,p=kr(A)):(F=p,p=n)):(F=p,p=n),p}function uG(){var p,G,A,N;return p=F,ft(),t.charCodeAt(F)===60?(G=P,F++):(G=n,ut===0&&mt(en)),G!==n?(ft(),A=Nf(),A!==n?(ft(),t.charCodeAt(F)===62?(N=Z,F++):(N=n,ut===0&&mt(_t)),N!==n?(ft(),Ct=p,p=Zs(A)):(F=p,p=n)):(F=p,p=n)):(F=p,p=n),p}function $s(){var p;return p=zf(),p===n&&(p=iG(),p===n&&(p=aG(),p===n&&(p=uG()))),p}function Rf(){var p;return p=cG(),p===n&&(p=hG(),p===n&&(p=pG(),p===n&&(p=dG(),p===n&&(p=lG(),p===n&&(p=mG(),p===n&&(p=fG(),p===n&&(p=yG()))))))),p}function cG(){var p,G,A;return p=F,ft(),G=t.charAt(F),Xt.test(G)?F++:(G=n,ut===0&&mt(is)),G!==n?(A=Yn(),A===n&&(A=null),Ct=p,p=bP(A)):(F=p,p=n),p}function lG(){var p,G,A;return p=F,ft(),t.charCodeAt(F)===33?(G=S,F++):(G=n,ut===0&&mt(yn)),G!==n?(A=Yn(),A===n&&(A=null),Ct=p,p=gP(A)):(F=p,p=n),p}function hG(){var p,G,A,N,lt,Qt,gn;return p=F,t.charCodeAt(F)===40?(G=k,F++):(G=n,ut===0&&mt(Yt)),G!==n?(ft(),A=Wr(),A!==n?(ft(),N=Qs(),N!==n?(ft(),lt=Wr(),lt!==n?(ft(),Qs(),ft(),Qt=Wr(),Qt===n&&(Qt=null),ft(),t.charCodeAt(F)===41?(gn=v,F++):(gn=n,ut===0&&mt(ue)),gn!==n?(Ct=p,p=MP(A,lt,Qt)):(F=p,p=n)):(F=p,p=n)):(F=p,p=n)):(F=p,p=n)):(F=p,p=n),p}function pG(){var p,G,A;return p=F,t.charCodeAt(F)===47?(G=X,F++):(G=n,ut===0&&mt(Ue)),G!==n?(A=$s(),A!==n?(Ct=p,p=CP(A)):(F=p,p=n)):(F=p,p=n),p}function dG(){var p,G,A;return p=F,t.charCodeAt(F)===42?(G=L,F++):(G=n,ut===0&&mt(Te)),G!==n?(A=$s(),A!==n?(Ct=p,p=xP(A)):(F=p,p=n)):(F=p,p=n),p}function mG(){var p,G,A;return p=F,t.charCodeAt(F)===63?(G=V,F++):(G=n,ut===0&&mt(An)),G!==n?(A=Yn(),A===n&&(A=null),Ct=p,p=PP(A)):(F=p,p=n),p}function fG(){var p,G,A;return p=F,t.charCodeAt(F)===58?(G=E,F++):(G=n,ut===0&&mt(Ps)),G!==n?(A=$s(),A!==n?(Ct=p,p=GP(A)):(F=p,p=n)):(F=p,p=n),p}function yG(){var p,G,A;return p=F,t.substr(F,2)===I?(G=I,F+=2):(G=n,ut===0&&mt(In)),G!==n?(A=$s(),A!==n?(Ct=p,p=XP(A)):(F=p,p=n)):(F=p,p=n),p}function Wr(){var p,G,A,N;if(p=F,G=$s(),G!==n){for(A=[],N=Rf();N!==n;)A.push(N),N=Rf();Ct=p,p=ZP(G,A)}else F=p,p=n;return p}function as(){var p,G,A,N;if(p=F,t.charCodeAt(F)===94?(G=R,F++):(G=n,ut===0&&mt(h)),G===n&&(G=null),A=[],N=Wr(),N!==n)for(;N!==n;)A.push(N),N=Wr();else A=n;return A!==n?(Ct=p,p=vP(G,A)):(F=p,p=n),p}function Bf(){var p,G,A,N,lt;if(p=F,G=[],A=F,N=Qs(),N!==n?(lt=as(),lt!==n?A=lt:(F=A,A=n)):(F=A,A=n),A!==n)for(;A!==n;)G.push(A),A=F,N=Qs(),N!==n?(lt=as(),lt!==n?A=lt:(F=A,A=n)):(F=A,A=n);else G=n;return G!==n&&(Ct=p,G=wP(G)),p=G,p}function bG(){var p,G,A,N,lt;if(p=F,G=[],A=F,N=Ef(),N!==n?(lt=as(),lt!==n?A=lt:(F=A,A=n)):(F=A,A=n),A!==n)for(;A!==n;)G.push(A),A=F,N=Ef(),N!==n?(lt=as(),lt!==n?A=lt:(F=A,A=n)):(F=A,A=n);else G=n;return G!==n&&(Ct=p,G=FP(G)),p=G,p}function gG(){var p,G,A,N,lt;if(p=F,G=[],A=F,N=Wf(),N!==n?(lt=as(),lt!==n?A=lt:(F=A,A=n)):(F=A,A=n),A!==n)for(;A!==n;)G.push(A),A=F,N=Wf(),N!==n?(lt=as(),lt!==n?A=lt:(F=A,A=n)):(F=A,A=n);else G=n;return G!==n&&(Ct=p,G=DP(G)),p=G,p}function Tf(){var p,G,A;return p=F,G=as(),G!==n?(A=Bf(),A===n&&(A=bG(),A===n&&(A=gG())),A===n&&(A=null),Ct=p,p=AP(G,A)):(F=p,p=n),p}function Nf(){var p,G,A;return p=F,G=as(),G!==n?(A=Bf(),A===n&&(A=null),Ct=p,p=SP(G,A)):(F=p,p=n),p}function MG(){var p,G,A,N;return p=F,ft(),G=qs(),G!==n?(ft(),A=Tf(),A!==n?(ft(),N=qs(),N!==n?(Ct=p,p=VP(A)):(F=p,p=n)):(F=p,p=n)):(F=p,p=n),p}function CG(){var p;return p=FG(),p===n&&(p=XG(),p===n&&(p=wG(),p===n&&(p=PG(),p===n&&(p=GG(),p===n&&(p=xG(),p===n&&(p=vG(),p===n&&(p=ZG()))))))),p}function xG(){var p,G,A;return p=F,t.substr(F,6)===J?(G=J,F+=6):(G=n,ut===0&&mt(M)),G!==n?(ft(),A=tr(),A!==n?(Ct=p,p=LP(A)):(F=p,p=n)):(F=p,p=n),p}function PG(){var p,G,A,N,lt;return p=F,t.substr(F,6)===W?(G=W,F+=6):(G=n,ut===0&&mt(b)),G!==n?(ft(),A=qs(),A!==n?(N=zf(),N!==n?(lt=qs(),lt!==n?(Ct=p,p=kP(N)):(F=p,p=n)):(F=p,p=n)):(F=p,p=n)):(F=p,p=n),p}function GG(){var p,G,A,N;return p=F,t.substr(F,6)===Y?(G=Y,F+=6):(G=n,ut===0&&mt(C)),G!==n?(ft(),A=wi(),A!==n?(ft(),N=wi(),N!==n?(ft(),wi(),Ct=p,p=EP(A,N)):(F=p,p=n)):(F=p,p=n)):(F=p,p=n),p}function XG(){var p,G,A;return p=F,t.substr(F,4)===tt?(G=tt,F+=4):(G=n,ut===0&&mt(w)),G!==n?(ft(),A=Yn(),A!==n?(Ct=p,p=WP(A)):(F=p,p=n)):(F=p,p=n),p}function ZG(){var p,G,A;return p=F,t.substr(F,4)===ct?(G=ct,F+=4):(G=n,ut===0&&mt(z)),G!==n?(ft(),A=Yn(),A!==n?(Ct=p,p=zP(A)):(F=p,p=n)):(F=p,p=n),p}function vG(){var p,G,A;return p=F,t.substr(F,4)===Q?(G=Q,F+=4):(G=n,ut===0&&mt(T)),G!==n?(ft(),A=Yn(),A!==n?(Ct=p,p=RP(A)):(F=p,p=n)):(F=p,p=n),p}function wG(){var p,G,A;return p=F,t.substr(F,4)===nt?(G=nt,F+=4):(G=n,ut===0&&mt(K)),G!==n?(ft(),A=Yn(),A!==n?(Ct=p,p=BP(A)):(F=p,p=n)):(F=p,p=n),p}function FG(){var p,G,A,N,lt;if(p=F,t.substr(F,5)===q?(G=q,F+=5):(G=n,ut===0&&mt($)),G!==n)if(ft(),A=qs(),A!==n){if(N=[],lt=Fi(),lt!==n)for(;lt!==n;)N.push(lt),lt=Fi();else N=n;N!==n?(lt=qs(),lt!==n?(Ct=p,p=TP(N)):(F=p,p=n)):(F=p,p=n)}else F=p,p=n;else F=p,p=n;return p}function yo(){var p,G,A,N;if(p=F,t.substr(F,2)===xt?(G=xt,F+=2):(G=n,ut===0&&mt(Mt)),G!==n){for(A=[],N=t.charAt(F),ze.test(N)?F++:(N=n,ut===0&&mt(Et));N!==n;)A.push(N),N=t.charAt(F),ze.test(N)?F++:(N=n,ut===0&&mt(Et));G=[G,A],p=G}else F=p,p=n;return p}function DG(){var p,G,A,N,lt,Qt,gn,er;if(p=F,t.substr(F,3)===st?(G=st,F+=3):(G=n,ut===0&&mt(ce)),G!==n)if(ft(),t.charCodeAt(F)===91?(A=d,F++):(A=n,ut===0&&mt(Wt)),A!==n)if(ft(),N=tr(),N!==n){for(lt=[],Qt=F,gn=Qs(),gn!==n?(er=tr(),er!==n?(Ct=Qt,Qt=Sf(N,er)):(F=Qt,Qt=n)):(F=Qt,Qt=n);Qt!==n;)lt.push(Qt),Qt=F,gn=Qs(),gn!==n?(er=tr(),er!==n?(Ct=Qt,Qt=Sf(N,er)):(F=Qt,Qt=n)):(F=Qt,Qt=n);Qt=ft(),t.charCodeAt(F)===93?(gn=m,F++):(gn=n,ut===0&&mt(Be)),gn!==n?(Ct=p,p=NP(N,lt)):(F=p,p=n)}else F=p,p=n;else F=p,p=n;else F=p,p=n;return p}function AG(){var p;return p=DG(),p===n&&(p=MG()),p}function tr(){var p,G,A,N,lt;if(p=F,G=AG(),G!==n){for(ft(),A=[],N=yo();N!==n;)A.push(N),N=yo();Ct=p,p=IP(G)}else F=p,p=n;return p===n&&(p=F,G=CG(),G!==n?(ft(),t.charCodeAt(F)===36?(A=dt,F++):(A=n,ut===0&&mt(ht)),A!==n?(N=ft(),lt=tr(),lt!==n?(Ct=p,p=KP(G,lt)):(F=p,p=n)):(F=p,p=n)):(F=p,p=n)),p}function SG(){var p,G;return p=F,G=tr(),G!==n&&(Ct=p,G=YP(G)),p=G,p===n&&(p=yo()),p}function VG(){var p;return p=SG(),p}function LG(){var p,G;return p=F,ft(),G=kG(),G===n&&(G=EG(),G===n&&(G=WG())),G!==n?(ft(),Ct=p,p=HP(G)):(F=p,p=n),p}function kG(){var p,G,A;return p=F,t.substr(F,6)===H?(G=H,F+=6):(G=n,ut===0&&mt(Ne)),G!==n?(ft(),A=Yn(),A!==n?(Ct=p,p=jP(A)):(F=p,p=n)):(F=p,p=n),p}function EG(){var p,G,A;return p=F,t.substr(F,6)===gt?(G=gt,F+=6):(G=n,ut===0&&mt(ve)),G!==n?(ft(),A=Yn(),A!==n?(Ct=p,p=JP(A)):(F=p,p=n)):(F=p,p=n),p}function WG(){var p,G;return p=F,t.substr(F,4)===Kt?(G=Kt,F+=4):(G=n,ut===0&&mt(de)),G!==n&&(Ct=p,G=_P()),p=G,p}function zG(){var p;return p=VG(),p===n&&(p=LG()),p}var RG=function(p){this.type_="atom",this.source_=p,this.location_=Vf()},Di=function(p,G,A,N){this.type_="pattern",this.arguments_={alignment:G,_steps:N},A!==void 0&&(this.arguments_.seed=A),this.source_=p},BG=function(p,G,A){this.type_=p,this.arguments_=G,this.source_=A},TG=function(p,G){this.type_="element",this.source_=p,this.options_=G,this.location_=Vf()},bo=function(p,G){this.type_="command",this.name_=p,this.options_=G},go=0;if(Er=i(),e.peg$library)return{peg$result:Er,peg$currPos:F,peg$FAILED:n,peg$maxFailExpected:vi,peg$maxFailPos:bn};if(Er!==n&&F===t.length)return Er;throw Er!==n&&F<t.length&&mt(OP()),QP(vi,bn<t.length?t.charAt(bn):null,bn<t.length?fo(bn,bn+1):fo(bn,bn))}const Y5=["start"],H5=3e-4,ww=(t,e)=>(n,s)=>{var a;const r=(a=t.source_[s].options_)==null?void 0:a.ops,i=n.__steps_source;if(r)for(const o of r)switch(o.type_){case"stretch":{const u=["fast","slow"],{type:c,amount:l}=o.arguments_;if(!u.includes(c))throw new Error(`mini: stretch: type must be one of ${u.join("|")} but got ${c}`);n=U(n)[c](e(l));break}case"replicate":{const{amount:u}=o.arguments_;n=U(n),n=n._repeatCycles(u)._fast(u);break}case"bjorklund":{o.arguments_.rotation?n=n.euclidRot(e(o.arguments_.pulse),e(o.arguments_.step),e(o.arguments_.rotation)):n=n.euclid(e(o.arguments_.pulse),e(o.arguments_.step));break}case"degradeBy":{n=U(n)._degradeByWith(Fe.early(H5*o.arguments_.seed),o.arguments_.amount??.5);break}case"tail":{const u=e(o.arguments_.element);n=n.fmap(c=>l=>Array.isArray(c)?[...c,l]:[c,l]).appLeft(u);break}case"range":{const u=e(o.arguments_.element);n=U(n);const c=(l,d,m=1)=>Array.from({length:Math.abs(d-l)/m+1},(f,g)=>l<d?l+g*m:l-g*m);n=((l,d)=>l.squeezeBind(m=>d.bind(f=>Ge(...c(m,f)))))(n,u);break}default:console.warn(`operator "${o.type_}" not implemented`)}return n.__steps_source=n.__steps_source||i,n};function js(t,e,n,s=0){n==null||n(t);const r=i=>js(i,e,n,s);switch(t.type_){case"pattern":{const i=t.source_.map(c=>r(c)).map(ww(t,r)),a=t.arguments_.alignment,o=i.filter(c=>c.__steps_source);let u;switch(a){case"stack":{u=jt(...i),o.length&&(u._steps=Xn(...o.map(c=>j(c._steps))));break}case"polymeter_slowcat":{u=jt(...i.map(c=>c._slow(c.__weight))),o.length&&(u._steps=Xn(...o.map(c=>j(c._steps))));break}case"polymeter":{const c=t.arguments_.stepsPerCycle?r(t.arguments_.stepsPerCycle).fmap(d=>j(d)):te(j(i.length>0?i[0].__weight:1)),l=i.map(d=>d.fast(c.fmap(m=>m.div(d.__weight))));u=jt(...l);break}case"rand":{u=gi(Fe.early(H5*t.arguments_.seed).segment(1),i),o.length&&(u._steps=Xn(...o.map(c=>j(c._steps))));break}case"feet":{u=Ge(...i);break}default:{if(t.source_.some(c=>{var l;return!!((l=c.options_)!=null&&l.weight)})){const c=t.source_.reduce((l,d)=>{var m;return l.add(((m=d.options_)==null?void 0:m.weight)||j(1))},j(0));u=ga(...t.source_.map((l,d)=>{var m;return[((m=l.options_)==null?void 0:m.weight)||j(1),i[d]]})),u.__weight=c,u._steps=c,o.length&&(u._steps=u._steps.mul(Xn(...o.map(l=>j(l._steps)))))}else u=dn(...i),u._steps=i.length;t.arguments_._steps&&(u.__steps_source=!0)}}return o.length&&(u.__steps_source=!0),u}case"element":return r(t.source_);case"atom":{if(t.source_==="~"||t.source_==="-")return zt;if(!t.location_)return console.warn("no location for",t),t.source_;const i=isNaN(Number(t.source_))?t.source_:Number(t.source_);if(s===-1)return te(i);const[a,o]=Na(e,t,s);return te(i).withLoc(a,o)}case"stretch":return r(t.source_).slow(r(t.arguments_.amount));default:return console.warn(`node type "${t.type_}" not implemented -> returning silence`),zt}}const Na=(t,e,n=0)=>{const{start:s,end:r}=e.location_,i=t==null?void 0:t.split("").slice(s.offset,r.offset).join(""),[a=0,o=0]=i?i.split(e.source_).map(u=>u.split("").filter(c=>c===" ").length):[];return[s.offset+a+n,r.offset-o+n]},Zr=(t,e=0,n=t)=>{try{return Y1(t)}catch(s){const r=[s.location.start.offset+e,s.location.end.offset+e],i=n.slice(0,r[0]).split(`
`).length;throw new Error(`[mini] parse error at line ${i}: ${s.message}`)}},H1=(t,e,n)=>{const s=Zr(t,e,n);let r=[];return js(s,t,i=>{i.type_==="atom"&&r.push(i)},-1),r},Ia=(t,e=0,n)=>H1(t,e,n).map(s=>Na(t,s,e)),Ka=(...t)=>{const e=t.map(n=>{const s=`"${n}"`,r=Zr(s);return js(r,s)});return dn(...e)},j5=(t,e)=>{const n=`"${t}"`,s=Zr(n);return js(s,n,null,e)},J5=t=>{const e=Zr(t);return js(e,t)};function _5(t){return typeof t=="string"?Ka(t):U(t)}function j1(){Qu(Ka)}const Fw=Object.freeze(Object.defineProperty({__proto__:null,StartRules:Y5,SyntaxError:ys,getLeafLocation:Na,getLeafLocations:Ia,getLeaves:H1,h:J5,m:j5,mini:Ka,mini2ast:Zr,miniAllStrings:j1,minify:_5,parse:Y1,patternifyAST:js},Symbol.toStringTag,{value:"Module"}));var Dw=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],U5=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],Aw="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࢗ-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･",O5="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲊᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟍꟐꟑꟓꟕ-Ƛꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",So={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Vo="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",Sw={5:Vo,"5module":Vo+" export import",6:Vo+" const class extends export import super"},Vw=/^in(stanceof)?$/,Lw=new RegExp("["+O5+"]"),kw=new RegExp("["+O5+Aw+"]");function uu(t,e){for(var n=65536,s=0;s<e.length;s+=2){if(n+=e[s],n>t)return!1;if(n+=e[s+1],n>=t)return!0}return!1}function qn(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&Lw.test(String.fromCharCode(t)):e===!1?!1:uu(t,U5)}function Mr(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&kw.test(String.fromCharCode(t)):e===!1?!1:uu(t,U5)||uu(t,Dw)}var kt=function(t,e){e===void 0&&(e={}),this.label=t,this.keyword=e.keyword,this.beforeExpr=!!e.beforeExpr,this.startsExpr=!!e.startsExpr,this.isLoop=!!e.isLoop,this.isAssign=!!e.isAssign,this.prefix=!!e.prefix,this.postfix=!!e.postfix,this.binop=e.binop||null,this.updateContext=null};function nn(t,e){return new kt(t,{beforeExpr:!0,binop:e})}var sn={beforeExpr:!0},Ie={startsExpr:!0},J1={};function Vt(t,e){return e===void 0&&(e={}),e.keyword=t,J1[t]=new kt(t,e)}var x={num:new kt("num",Ie),regexp:new kt("regexp",Ie),string:new kt("string",Ie),name:new kt("name",Ie),privateId:new kt("privateId",Ie),eof:new kt("eof"),bracketL:new kt("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new kt("]"),braceL:new kt("{",{beforeExpr:!0,startsExpr:!0}),braceR:new kt("}"),parenL:new kt("(",{beforeExpr:!0,startsExpr:!0}),parenR:new kt(")"),comma:new kt(",",sn),semi:new kt(";",sn),colon:new kt(":",sn),dot:new kt("."),question:new kt("?",sn),questionDot:new kt("?."),arrow:new kt("=>",sn),template:new kt("template"),invalidTemplate:new kt("invalidTemplate"),ellipsis:new kt("...",sn),backQuote:new kt("`",Ie),dollarBraceL:new kt("${",{beforeExpr:!0,startsExpr:!0}),eq:new kt("=",{beforeExpr:!0,isAssign:!0}),assign:new kt("_=",{beforeExpr:!0,isAssign:!0}),incDec:new kt("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new kt("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:nn("||",1),logicalAND:nn("&&",2),bitwiseOR:nn("|",3),bitwiseXOR:nn("^",4),bitwiseAND:nn("&",5),equality:nn("==/!=/===/!==",6),relational:nn("</>/<=/>=",7),bitShift:nn("<</>>/>>>",8),plusMin:new kt("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:nn("%",10),star:nn("*",10),slash:nn("/",10),starstar:new kt("**",{beforeExpr:!0}),coalesce:nn("??",1),_break:Vt("break"),_case:Vt("case",sn),_catch:Vt("catch"),_continue:Vt("continue"),_debugger:Vt("debugger"),_default:Vt("default",sn),_do:Vt("do",{isLoop:!0,beforeExpr:!0}),_else:Vt("else",sn),_finally:Vt("finally"),_for:Vt("for",{isLoop:!0}),_function:Vt("function",Ie),_if:Vt("if"),_return:Vt("return",sn),_switch:Vt("switch"),_throw:Vt("throw",sn),_try:Vt("try"),_var:Vt("var"),_const:Vt("const"),_while:Vt("while",{isLoop:!0}),_with:Vt("with"),_new:Vt("new",{beforeExpr:!0,startsExpr:!0}),_this:Vt("this",Ie),_super:Vt("super",Ie),_class:Vt("class",Ie),_extends:Vt("extends",sn),_export:Vt("export"),_import:Vt("import",Ie),_null:Vt("null",Ie),_true:Vt("true",Ie),_false:Vt("false",Ie),_in:Vt("in",{beforeExpr:!0,binop:7}),_instanceof:Vt("instanceof",{beforeExpr:!0,binop:7}),_typeof:Vt("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Vt("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Vt("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},mn=/\r\n?|\n|\u2028|\u2029/,Ew=new RegExp(mn.source,"g");function vr(t){return t===10||t===13||t===8232||t===8233}function Q5(t,e,n){n===void 0&&(n=t.length);for(var s=e;s<n;s++){var r=t.charCodeAt(s);if(vr(r))return s<n-1&&r===13&&t.charCodeAt(s+1)===10?s+2:s+1}return-1}var q5=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,on=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,$5=Object.prototype,Ww=$5.hasOwnProperty,zw=$5.toString,wr=Object.hasOwn||function(t,e){return Ww.call(t,e)},Xy=Array.isArray||function(t){return zw.call(t)==="[object Array]"},Zy=Object.create(null);function hs(t){return Zy[t]||(Zy[t]=new RegExp("^(?:"+t.replace(/ /g,"|")+")$"))}function $n(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}var Rw=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,oi=function(t,e){this.line=t,this.column=e};oi.prototype.offset=function(t){return new oi(this.line,this.column+t)};var Ya=function(t,e,n){this.start=e,this.end=n,t.sourceFile!==null&&(this.source=t.sourceFile)};function tC(t,e){for(var n=1,s=0;;){var r=Q5(t,s,e);if(r<0)return new oi(n,e-s);++n,s=r}}var cu={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},vy=!1;function Bw(t){var e={};for(var n in cu)e[n]=t&&wr(t,n)?t[n]:cu[n];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!vy&&typeof console=="object"&&console.warn&&(vy=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),Xy(e.onToken)){var s=e.onToken;e.onToken=function(r){return s.push(r)}}return Xy(e.onComment)&&(e.onComment=Tw(e,e.onComment)),e}function Tw(t,e){return function(n,s,r,i,a,o){var u={type:n?"Block":"Line",value:s,start:r,end:i};t.locations&&(u.loc=new Ya(this,a,o)),t.ranges&&(u.range=[r,i]),e.push(u)}}var ui=1,Fr=2,_1=4,eC=8,nC=16,sC=32,U1=64,rC=128,xi=256,O1=ui|Fr|xi;function Q1(t,e){return Fr|(t?_1:0)|(e?eC:0)}var ta=0,q1=1,ss=2,iC=3,aC=4,oC=5,pe=function(t,e,n){this.options=t=Bw(t),this.sourceFile=t.sourceFile,this.keywords=hs(Sw[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var s="";t.allowReserved!==!0&&(s=So[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(s+=" await")),this.reservedWords=hs(s);var r=(s?s+" ":"")+So.strict;this.reservedWordsStrict=hs(r),this.reservedWordsStrictBind=hs(r+" "+So.strictBind),this.input=String(e),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf(`
`,n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(mn).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=x.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(ui),this.regexpState=null,this.privateNameStack=[]},Tn={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};pe.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};Tn.inFunction.get=function(){return(this.currentVarScope().flags&Fr)>0};Tn.inGenerator.get=function(){return(this.currentVarScope().flags&eC)>0&&!this.currentVarScope().inClassFieldInit};Tn.inAsync.get=function(){return(this.currentVarScope().flags&_1)>0&&!this.currentVarScope().inClassFieldInit};Tn.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&xi)return!1;if(e.flags&Fr)return(e.flags&_1)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Tn.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,n=t.inClassFieldInit;return(e&U1)>0||n||this.options.allowSuperOutsideMethod};Tn.allowDirectSuper.get=function(){return(this.currentThisScope().flags&rC)>0};Tn.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Tn.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,n=t.inClassFieldInit;return(e&(Fr|xi))>0||n};Tn.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&xi)>0};pe.extend=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var n=this,s=0;s<t.length;s++)n=t[s](n);return n};pe.parse=function(t,e){return new this(e,t).parse()};pe.parseExpressionAt=function(t,e,n){var s=new this(n,t,e);return s.nextToken(),s.parseExpression()};pe.tokenizer=function(t,e){return new this(e,t)};Object.defineProperties(pe.prototype,Tn);var We=pe.prototype,Nw=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;We.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){on.lastIndex=t,t+=on.exec(this.input)[0].length;var e=Nw.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){on.lastIndex=t+e[0].length;var n=on.exec(this.input),s=n.index+n[0].length,r=this.input.charAt(s);return r===";"||r==="}"||mn.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(r)||r==="!"&&this.input.charAt(s+1)==="=")}t+=e[0].length,on.lastIndex=t,t+=on.exec(this.input)[0].length,this.input[t]===";"&&t++}};We.eat=function(t){return this.type===t?(this.next(),!0):!1};We.isContextual=function(t){return this.type===x.name&&this.value===t&&!this.containsEsc};We.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};We.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};We.canInsertSemicolon=function(){return this.type===x.eof||this.type===x.braceR||mn.test(this.input.slice(this.lastTokEnd,this.start))};We.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};We.semicolon=function(){!this.eat(x.semi)&&!this.insertSemicolon()&&this.unexpected()};We.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};We.expect=function(t){this.eat(t)||this.unexpected()};We.unexpected=function(t){this.raise(t??this.start,"Unexpected token")};var Ha=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};We.checkPatternErrors=function(t,e){if(t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var n=e?t.parenthesizedAssign:t.parenthesizedBind;n>-1&&this.raiseRecoverable(n,e?"Assigning to rvalue":"Parenthesized pattern")}};We.checkExpressionErrors=function(t,e){if(!t)return!1;var n=t.shorthandAssign,s=t.doubleProto;if(!e)return n>=0||s>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),s>=0&&this.raiseRecoverable(s,"Redefinition of __proto__ property")};We.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};We.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var at=pe.prototype;at.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==x.eof;){var n=this.parseStatement(null,!0,e);t.body.push(n)}if(this.inModule)for(var s=0,r=Object.keys(this.undefinedExports);s<r.length;s+=1){var i=r[s];this.raiseRecoverable(this.undefinedExports[i].start,"Export '"+i+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var $1={kind:"loop"},Iw={kind:"switch"};at.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;on.lastIndex=this.pos;var e=on.exec(this.input),n=this.pos+e[0].length,s=this.input.charCodeAt(n);if(s===91||s===92)return!0;if(t)return!1;if(s===123||s>55295&&s<56320)return!0;if(qn(s,!0)){for(var r=n+1;Mr(s=this.input.charCodeAt(r),!0);)++r;if(s===92||s>55295&&s<56320)return!0;var i=this.input.slice(n,r);if(!Vw.test(i))return!0}return!1};at.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;on.lastIndex=this.pos;var t=on.exec(this.input),e=this.pos+t[0].length,n;return!mn.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(Mr(n=this.input.charCodeAt(e+8))||n>55295&&n<56320))};at.parseStatement=function(t,e,n){var s=this.type,r=this.startNode(),i;switch(this.isLet(t)&&(s=x._var,i="let"),s){case x._break:case x._continue:return this.parseBreakContinueStatement(r,s.keyword);case x._debugger:return this.parseDebuggerStatement(r);case x._do:return this.parseDoStatement(r);case x._for:return this.parseForStatement(r);case x._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(r,!1,!t);case x._class:return t&&this.unexpected(),this.parseClass(r,!0);case x._if:return this.parseIfStatement(r);case x._return:return this.parseReturnStatement(r);case x._switch:return this.parseSwitchStatement(r);case x._throw:return this.parseThrowStatement(r);case x._try:return this.parseTryStatement(r);case x._const:case x._var:return i=i||this.value,t&&i!=="var"&&this.unexpected(),this.parseVarStatement(r,i);case x._while:return this.parseWhileStatement(r);case x._with:return this.parseWithStatement(r);case x.braceL:return this.parseBlock(!0,r);case x.semi:return this.parseEmptyStatement(r);case x._export:case x._import:if(this.options.ecmaVersion>10&&s===x._import){on.lastIndex=this.pos;var a=on.exec(this.input),o=this.pos+a[0].length,u=this.input.charCodeAt(o);if(u===40||u===46)return this.parseExpressionStatement(r,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),s===x._import?this.parseImport(r):this.parseExport(r,n);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(r,!0,!t);var c=this.value,l=this.parseExpression();return s===x.name&&l.type==="Identifier"&&this.eat(x.colon)?this.parseLabeledStatement(r,c,l,t):this.parseExpressionStatement(r,l)}};at.parseBreakContinueStatement=function(t,e){var n=e==="break";this.next(),this.eat(x.semi)||this.insertSemicolon()?t.label=null:this.type!==x.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var s=0;s<this.labels.length;++s){var r=this.labels[s];if((t.label==null||r.name===t.label.name)&&(r.kind!=null&&(n||r.kind==="loop")||t.label&&n))break}return s===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,n?"BreakStatement":"ContinueStatement")};at.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};at.parseDoStatement=function(t){return this.next(),this.labels.push($1),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(x._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(x.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};at.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push($1),this.enterScope(0),this.expect(x.parenL),this.type===x.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var n=this.isLet();if(this.type===x._var||this.type===x._const||n){var s=this.startNode(),r=n?"let":this.value;return this.next(),this.parseVar(s,!0,r),this.finishNode(s,"VariableDeclaration"),(this.type===x._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&s.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===x._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,s)):(e>-1&&this.unexpected(e),this.parseFor(t,s))}var i=this.isContextual("let"),a=!1,o=this.containsEsc,u=new Ha,c=this.start,l=e>-1?this.parseExprSubscripts(u,"await"):this.parseExpression(!0,u);return this.type===x._in||(a=this.options.ecmaVersion>=6&&this.isContextual("of"))?(e>-1?(this.type===x._in&&this.unexpected(e),t.await=!0):a&&this.options.ecmaVersion>=8&&(l.start===c&&!o&&l.type==="Identifier"&&l.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(t.await=!1)),i&&a&&this.raise(l.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(l,!1,u),this.checkLValPattern(l),this.parseForIn(t,l)):(this.checkExpressionErrors(u,!0),e>-1&&this.unexpected(e),this.parseFor(t,l))};at.parseFunctionStatement=function(t,e,n){return this.next(),this.parseFunction(t,qr|(n?0:lu),!1,e)};at.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(x._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};at.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(x.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};at.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(x.braceL),this.labels.push(Iw),this.enterScope(0);for(var e,n=!1;this.type!==x.braceR;)if(this.type===x._case||this.type===x._default){var s=this.type===x._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),s?e.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,e.test=null),this.expect(x.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};at.parseThrowStatement=function(t){return this.next(),mn.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var Kw=[];at.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?sC:0),this.checkLValPattern(t,e?aC:ss),this.expect(x.parenR),t};at.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===x._catch){var e=this.startNode();this.next(),this.eat(x.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(x._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};at.parseVarStatement=function(t,e,n){return this.next(),this.parseVar(t,!1,e,n),this.semicolon(),this.finishNode(t,"VariableDeclaration")};at.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push($1),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};at.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};at.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};at.parseLabeledStatement=function(t,e,n,s){for(var r=0,i=this.labels;r<i.length;r+=1){var a=i[r];a.name===e&&this.raise(n.start,"Label '"+e+"' is already declared")}for(var o=this.type.isLoop?"loop":this.type===x._switch?"switch":null,u=this.labels.length-1;u>=0;u--){var c=this.labels[u];if(c.statementStart===t.start)c.statementStart=this.start,c.kind=o;else break}return this.labels.push({name:e,kind:o,statementStart:this.start}),t.body=this.parseStatement(s?s.indexOf("label")===-1?s+"label":s:"label"),this.labels.pop(),t.label=n,this.finishNode(t,"LabeledStatement")};at.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};at.parseBlock=function(t,e,n){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(x.braceL),t&&this.enterScope(0);this.type!==x.braceR;){var s=this.parseStatement(null);e.body.push(s)}return n&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};at.parseFor=function(t,e){return t.init=e,this.expect(x.semi),t.test=this.type===x.semi?null:this.parseExpression(),this.expect(x.semi),t.update=this.type===x.parenR?null:this.parseExpression(),this.expect(x.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};at.parseForIn=function(t,e){var n=this.type===x._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!n||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(x.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,n?"ForInStatement":"ForOfStatement")};at.parseVar=function(t,e,n,s){for(t.declarations=[],t.kind=n;;){var r=this.startNode();if(this.parseVarId(r,n),this.eat(x.eq)?r.init=this.parseMaybeAssign(e):!s&&n==="const"&&!(this.type===x._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!s&&r.id.type!=="Identifier"&&!(e&&(this.type===x._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):r.init=null,t.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(x.comma))break}return t};at.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?q1:ss,!1)};var qr=1,lu=2,uC=4;at.parseFunction=function(t,e,n,s,r){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!s)&&(this.type===x.star&&e&lu&&this.unexpected(),t.generator=this.eat(x.star)),this.options.ecmaVersion>=8&&(t.async=!!s),e&qr&&(t.id=e&uC&&this.type!==x.name?null:this.parseIdent(),t.id&&!(e&lu)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?q1:ss:iC));var i=this.yieldPos,a=this.awaitPos,o=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Q1(t.async,t.generator)),e&qr||(t.id=this.type===x.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,n,!1,r),this.yieldPos=i,this.awaitPos=a,this.awaitIdentPos=o,this.finishNode(t,e&qr?"FunctionDeclaration":"FunctionExpression")};at.parseFunctionParams=function(t){this.expect(x.parenL),t.params=this.parseBindingList(x.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};at.parseClass=function(t,e){this.next();var n=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var s=this.enterClassBody(),r=this.startNode(),i=!1;for(r.body=[],this.expect(x.braceL);this.type!==x.braceR;){var a=this.parseClassElement(t.superClass!==null);a&&(r.body.push(a),a.type==="MethodDefinition"&&a.kind==="constructor"?(i&&this.raiseRecoverable(a.start,"Duplicate constructor in the same class"),i=!0):a.key&&a.key.type==="PrivateIdentifier"&&Yw(s,a)&&this.raiseRecoverable(a.key.start,"Identifier '#"+a.key.name+"' has already been declared"))}return this.strict=n,this.next(),t.body=this.finishNode(r,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};at.parseClassElement=function(t){if(this.eat(x.semi))return null;var e=this.options.ecmaVersion,n=this.startNode(),s="",r=!1,i=!1,a="method",o=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(x.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===x.star?o=!0:s="static"}if(n.static=o,!s&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===x.star)&&!this.canInsertSemicolon()?i=!0:s="async"),!s&&(e>=9||!i)&&this.eat(x.star)&&(r=!0),!s&&!i&&!r){var u=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?a=u:s=u)}if(s?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=s,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),e<13||this.type===x.parenL||a!=="method"||r||i){var c=!n.static&&ea(n,"constructor"),l=c&&t;c&&a!=="method"&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=c?"constructor":a,this.parseClassMethod(n,r,i,l)}else this.parseClassField(n);return n};at.isClassElementNameStart=function(){return this.type===x.name||this.type===x.privateId||this.type===x.num||this.type===x.string||this.type===x.bracketL||this.type.keyword};at.parseClassElementName=function(t){this.type===x.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};at.parseClassMethod=function(t,e,n,s){var r=t.key;t.kind==="constructor"?(e&&this.raise(r.start,"Constructor can't be a generator"),n&&this.raise(r.start,"Constructor can't be an async method")):t.static&&ea(t,"prototype")&&this.raise(r.start,"Classes may not have a static property named prototype");var i=t.value=this.parseMethod(e,n,s);return t.kind==="get"&&i.params.length!==0&&this.raiseRecoverable(i.start,"getter should have no params"),t.kind==="set"&&i.params.length!==1&&this.raiseRecoverable(i.start,"setter should have exactly one param"),t.kind==="set"&&i.params[0].type==="RestElement"&&this.raiseRecoverable(i.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};at.parseClassField=function(t){if(ea(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&ea(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(x.eq)){var e=this.currentThisScope(),n=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=n}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};at.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(xi|U1);this.type!==x.braceR;){var n=this.parseStatement(null);t.body.push(n)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};at.parseClassId=function(t,e){this.type===x.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,ss,!1)):(e===!0&&this.unexpected(),t.id=null)};at.parseClassSuper=function(t){t.superClass=this.eat(x._extends)?this.parseExprSubscripts(null,!1):null};at.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};at.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,n=t.used;if(this.options.checkPrivateFields)for(var s=this.privateNameStack.length,r=s===0?null:this.privateNameStack[s-1],i=0;i<n.length;++i){var a=n[i];wr(e,a.name)||(r?r.used.push(a):this.raiseRecoverable(a.start,"Private field '#"+a.name+"' must be declared in an enclosing class"))}};function Yw(t,e){var n=e.key.name,s=t[n],r="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(r=(e.static?"s":"i")+e.kind),s==="iget"&&r==="iset"||s==="iset"&&r==="iget"||s==="sget"&&r==="sset"||s==="sset"&&r==="sget"?(t[n]="true",!1):s?!0:(t[n]=r,!1)}function ea(t,e){var n=t.computed,s=t.key;return!n&&(s.type==="Identifier"&&s.name===e||s.type==="Literal"&&s.value===e)}at.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==x.string&&this.unexpected(),t.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(t.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};at.parseExport=function(t,e){if(this.next(),this.eat(x.star))return this.parseExportAllDeclaration(t,e);if(this.eat(x._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==x.string&&this.unexpected(),t.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(t.attributes=this.parseWithClause());else{for(var n=0,s=t.specifiers;n<s.length;n+=1){var r=s[n];this.checkUnreserved(r.local),this.checkLocalExport(r.local),r.local.type==="Literal"&&this.raise(r.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};at.parseExportDeclaration=function(t){return this.parseStatement(null)};at.parseExportDefaultDeclaration=function(){var t;if(this.type===x._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,qr|uC,!1,t)}else if(this.type===x._class){var n=this.startNode();return this.parseClass(n,"nullableID")}else{var s=this.parseMaybeAssign();return this.semicolon(),s}};at.checkExport=function(t,e,n){t&&(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),wr(t,e)&&this.raiseRecoverable(n,"Duplicate export '"+e+"'"),t[e]=!0)};at.checkPatternExport=function(t,e){var n=e.type;if(n==="Identifier")this.checkExport(t,e,e.start);else if(n==="ObjectPattern")for(var s=0,r=e.properties;s<r.length;s+=1){var i=r[s];this.checkPatternExport(t,i)}else if(n==="ArrayPattern")for(var a=0,o=e.elements;a<o.length;a+=1){var u=o[a];u&&this.checkPatternExport(t,u)}else n==="Property"?this.checkPatternExport(t,e.value):n==="AssignmentPattern"?this.checkPatternExport(t,e.left):n==="RestElement"&&this.checkPatternExport(t,e.argument)};at.checkVariableExport=function(t,e){if(t)for(var n=0,s=e;n<s.length;n+=1){var r=s[n];this.checkPatternExport(t,r.id)}};at.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};at.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};at.parseExportSpecifiers=function(t){var e=[],n=!0;for(this.expect(x.braceL);!this.eat(x.braceR);){if(n)n=!1;else if(this.expect(x.comma),this.afterTrailingComma(x.braceR))break;e.push(this.parseExportSpecifier(t))}return e};at.parseImport=function(t){return this.next(),this.type===x.string?(t.specifiers=Kw,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===x.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(t.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};at.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,ss),this.finishNode(t,"ImportSpecifier")};at.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,ss),this.finishNode(t,"ImportDefaultSpecifier")};at.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,ss),this.finishNode(t,"ImportNamespaceSpecifier")};at.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===x.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(x.comma)))return t;if(this.type===x.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(x.braceL);!this.eat(x.braceR);){if(e)e=!1;else if(this.expect(x.comma),this.afterTrailingComma(x.braceR))break;t.push(this.parseImportSpecifier())}return t};at.parseWithClause=function(){var t=[];if(!this.eat(x._with))return t;this.expect(x.braceL);for(var e={},n=!0;!this.eat(x.braceR);){if(n)n=!1;else if(this.expect(x.comma),this.afterTrailingComma(x.braceR))break;var s=this.parseImportAttribute(),r=s.key.type==="Identifier"?s.key.name:s.key.value;wr(e,r)&&this.raiseRecoverable(s.key.start,"Duplicate attribute key '"+r+"'"),e[r]=!0,t.push(s)}return t};at.parseImportAttribute=function(){var t=this.startNode();return t.key=this.type===x.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never"),this.expect(x.colon),this.type!==x.string&&this.unexpected(),t.value=this.parseExprAtom(),this.finishNode(t,"ImportAttribute")};at.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===x.string){var t=this.parseLiteral(this.value);return Rw.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};at.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};at.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var fn=pe.prototype;fn.toAssignable=function(t,e,n){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var s=0,r=t.properties;s<r.length;s+=1){var i=r[s];this.toAssignable(i,e),i.type==="RestElement"&&(i.argument.type==="ArrayPattern"||i.argument.type==="ObjectPattern")&&this.raise(i.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,n);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return t};fn.toAssignableList=function(t,e){for(var n=t.length,s=0;s<n;s++){var r=t[s];r&&this.toAssignable(r,e)}if(n){var i=t[n-1];this.options.ecmaVersion===6&&e&&i&&i.type==="RestElement"&&i.argument.type!=="Identifier"&&this.unexpected(i.argument.start)}return t};fn.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};fn.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==x.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};fn.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case x.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(x.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case x.braceL:return this.parseObj(!0)}return this.parseIdent()};fn.parseBindingList=function(t,e,n,s){for(var r=[],i=!0;!this.eat(t);)if(i?i=!1:this.expect(x.comma),e&&this.type===x.comma)r.push(null);else{if(n&&this.afterTrailingComma(t))break;if(this.type===x.ellipsis){var a=this.parseRestBinding();this.parseBindingListItem(a),r.push(a),this.type===x.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else r.push(this.parseAssignableListItem(s))}return r};fn.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};fn.parseBindingListItem=function(t){return t};fn.parseMaybeDefault=function(t,e,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(x.eq))return n;var s=this.startNodeAt(t,e);return s.left=n,s.right=this.parseMaybeAssign(),this.finishNode(s,"AssignmentPattern")};fn.checkLValSimple=function(t,e,n){e===void 0&&(e=ta);var s=e!==ta;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(s?"Binding ":"Assigning to ")+t.name+" in strict mode"),s&&(e===ss&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),n&&(wr(n,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),n[t.name]=!0),e!==oC&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":s&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return s&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,n);default:this.raise(t.start,(s?"Binding":"Assigning to")+" rvalue")}};fn.checkLValPattern=function(t,e,n){switch(e===void 0&&(e=ta),t.type){case"ObjectPattern":for(var s=0,r=t.properties;s<r.length;s+=1){var i=r[s];this.checkLValInnerPattern(i,e,n)}break;case"ArrayPattern":for(var a=0,o=t.elements;a<o.length;a+=1){var u=o[a];u&&this.checkLValInnerPattern(u,e,n)}break;default:this.checkLValSimple(t,e,n)}};fn.checkLValInnerPattern=function(t,e,n){switch(e===void 0&&(e=ta),t.type){case"Property":this.checkLValInnerPattern(t.value,e,n);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,n);break;case"RestElement":this.checkLValPattern(t.argument,e,n);break;default:this.checkLValPattern(t,e,n)}};var Pn=function(t,e,n,s,r){this.token=t,this.isExpr=!!e,this.preserveSpace=!!n,this.override=s,this.generator=!!r},$t={b_stat:new Pn("{",!1),b_expr:new Pn("{",!0),b_tmpl:new Pn("${",!1),p_stat:new Pn("(",!1),p_expr:new Pn("(",!0),q_tmpl:new Pn("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new Pn("function",!1),f_expr:new Pn("function",!0),f_expr_gen:new Pn("function",!0,!1,null,!0),f_gen:new Pn("function",!1,!1,null,!0)},Dr=pe.prototype;Dr.initialContext=function(){return[$t.b_stat]};Dr.curContext=function(){return this.context[this.context.length-1]};Dr.braceIsBlock=function(t){var e=this.curContext();return e===$t.f_expr||e===$t.f_stat?!0:t===x.colon&&(e===$t.b_stat||e===$t.b_expr)?!e.isExpr:t===x._return||t===x.name&&this.exprAllowed?mn.test(this.input.slice(this.lastTokEnd,this.start)):t===x._else||t===x.semi||t===x.eof||t===x.parenR||t===x.arrow?!0:t===x.braceL?e===$t.b_stat:t===x._var||t===x._const||t===x.name?!1:!this.exprAllowed};Dr.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};Dr.updateContext=function(t){var e,n=this.type;n.keyword&&t===x.dot?this.exprAllowed=!1:(e=n.updateContext)?e.call(this,t):this.exprAllowed=n.beforeExpr};Dr.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};x.parenR.updateContext=x.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===$t.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};x.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?$t.b_stat:$t.b_expr),this.exprAllowed=!0};x.dollarBraceL.updateContext=function(){this.context.push($t.b_tmpl),this.exprAllowed=!0};x.parenL.updateContext=function(t){var e=t===x._if||t===x._for||t===x._with||t===x._while;this.context.push(e?$t.p_stat:$t.p_expr),this.exprAllowed=!0};x.incDec.updateContext=function(){};x._function.updateContext=x._class.updateContext=function(t){t.beforeExpr&&t!==x._else&&!(t===x.semi&&this.curContext()!==$t.p_stat)&&!(t===x._return&&mn.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===x.colon||t===x.braceL)&&this.curContext()===$t.b_stat)?this.context.push($t.f_expr):this.context.push($t.f_stat),this.exprAllowed=!1};x.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};x.backQuote.updateContext=function(){this.curContext()===$t.q_tmpl?this.context.pop():this.context.push($t.q_tmpl),this.exprAllowed=!1};x.star.updateContext=function(t){if(t===x._function){var e=this.context.length-1;this.context[e]===$t.f_expr?this.context[e]=$t.f_expr_gen:this.context[e]=$t.f_gen}this.exprAllowed=!0};x.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==x.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var yt=pe.prototype;yt.checkPropClash=function(t,e,n){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var s=t.key,r;switch(s.type){case"Identifier":r=s.name;break;case"Literal":r=String(s.value);break;default:return}var i=t.kind;if(this.options.ecmaVersion>=6){r==="__proto__"&&i==="init"&&(e.proto&&(n?n.doubleProto<0&&(n.doubleProto=s.start):this.raiseRecoverable(s.start,"Redefinition of __proto__ property")),e.proto=!0);return}r="$"+r;var a=e[r];if(a){var o;i==="init"?o=this.strict&&a.init||a.get||a.set:o=a.init||a[i],o&&this.raiseRecoverable(s.start,"Redefinition of property")}else a=e[r]={init:!1,get:!1,set:!1};a[i]=!0}};yt.parseExpression=function(t,e){var n=this.start,s=this.startLoc,r=this.parseMaybeAssign(t,e);if(this.type===x.comma){var i=this.startNodeAt(n,s);for(i.expressions=[r];this.eat(x.comma);)i.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(i,"SequenceExpression")}return r};yt.parseMaybeAssign=function(t,e,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var s=!1,r=-1,i=-1,a=-1;e?(r=e.parenthesizedAssign,i=e.trailingComma,a=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new Ha,s=!0);var o=this.start,u=this.startLoc;(this.type===x.parenL||this.type===x.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var c=this.parseMaybeConditional(t,e);if(n&&(c=n.call(this,c,o,u)),this.type.isAssign){var l=this.startNodeAt(o,u);return l.operator=this.value,this.type===x.eq&&(c=this.toAssignable(c,!1,e)),s||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=c.start&&(e.shorthandAssign=-1),this.type===x.eq?this.checkLValPattern(c):this.checkLValSimple(c),l.left=c,this.next(),l.right=this.parseMaybeAssign(t),a>-1&&(e.doubleProto=a),this.finishNode(l,"AssignmentExpression")}else s&&this.checkExpressionErrors(e,!0);return r>-1&&(e.parenthesizedAssign=r),i>-1&&(e.trailingComma=i),c};yt.parseMaybeConditional=function(t,e){var n=this.start,s=this.startLoc,r=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return r;if(this.eat(x.question)){var i=this.startNodeAt(n,s);return i.test=r,i.consequent=this.parseMaybeAssign(),this.expect(x.colon),i.alternate=this.parseMaybeAssign(t),this.finishNode(i,"ConditionalExpression")}return r};yt.parseExprOps=function(t,e){var n=this.start,s=this.startLoc,r=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||r.start===n&&r.type==="ArrowFunctionExpression"?r:this.parseExprOp(r,n,s,-1,t)};yt.parseExprOp=function(t,e,n,s,r){var i=this.type.binop;if(i!=null&&(!r||this.type!==x._in)&&i>s){var a=this.type===x.logicalOR||this.type===x.logicalAND,o=this.type===x.coalesce;o&&(i=x.logicalAND.binop);var u=this.value;this.next();var c=this.start,l=this.startLoc,d=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,r),c,l,i,r),m=this.buildBinary(e,n,t,d,u,a||o);return(a&&this.type===x.coalesce||o&&(this.type===x.logicalOR||this.type===x.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(m,e,n,s,r)}return t};yt.buildBinary=function(t,e,n,s,r,i){s.type==="PrivateIdentifier"&&this.raise(s.start,"Private identifier can only be left side of binary expression");var a=this.startNodeAt(t,e);return a.left=n,a.operator=r,a.right=s,this.finishNode(a,i?"LogicalExpression":"BinaryExpression")};yt.parseMaybeUnary=function(t,e,n,s){var r=this.start,i=this.startLoc,a;if(this.isContextual("await")&&this.canAwait)a=this.parseAwait(s),e=!0;else if(this.type.prefix){var o=this.startNode(),u=this.type===x.incDec;o.operator=this.value,o.prefix=!0,this.next(),o.argument=this.parseMaybeUnary(null,!0,u,s),this.checkExpressionErrors(t,!0),u?this.checkLValSimple(o.argument):this.strict&&o.operator==="delete"&&cC(o.argument)?this.raiseRecoverable(o.start,"Deleting local variable in strict mode"):o.operator==="delete"&&hu(o.argument)?this.raiseRecoverable(o.start,"Private fields can not be deleted"):e=!0,a=this.finishNode(o,u?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===x.privateId)(s||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),a=this.parsePrivateIdent(),this.type!==x._in&&this.unexpected();else{if(a=this.parseExprSubscripts(t,s),this.checkExpressionErrors(t))return a;for(;this.type.postfix&&!this.canInsertSemicolon();){var c=this.startNodeAt(r,i);c.operator=this.value,c.prefix=!1,c.argument=a,this.checkLValSimple(a),this.next(),a=this.finishNode(c,"UpdateExpression")}}if(!n&&this.eat(x.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(r,i,a,this.parseMaybeUnary(null,!1,!1,s),"**",!1);else return a};function cC(t){return t.type==="Identifier"||t.type==="ParenthesizedExpression"&&cC(t.expression)}function hu(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&hu(t.expression)||t.type==="ParenthesizedExpression"&&hu(t.expression)}yt.parseExprSubscripts=function(t,e){var n=this.start,s=this.startLoc,r=this.parseExprAtom(t,e);if(r.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return r;var i=this.parseSubscripts(r,n,s,!1,e);return t&&i.type==="MemberExpression"&&(t.parenthesizedAssign>=i.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=i.start&&(t.parenthesizedBind=-1),t.trailingComma>=i.start&&(t.trailingComma=-1)),i};yt.parseSubscripts=function(t,e,n,s,r){for(var i=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,a=!1;;){var o=this.parseSubscript(t,e,n,s,i,a,r);if(o.optional&&(a=!0),o===t||o.type==="ArrowFunctionExpression"){if(a){var u=this.startNodeAt(e,n);u.expression=o,o=this.finishNode(u,"ChainExpression")}return o}t=o}};yt.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(x.arrow)};yt.parseSubscriptAsyncArrow=function(t,e,n,s){return this.parseArrowExpression(this.startNodeAt(t,e),n,!0,s)};yt.parseSubscript=function(t,e,n,s,r,i,a){var o=this.options.ecmaVersion>=11,u=o&&this.eat(x.questionDot);s&&u&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var c=this.eat(x.bracketL);if(c||u&&this.type!==x.parenL&&this.type!==x.backQuote||this.eat(x.dot)){var l=this.startNodeAt(e,n);l.object=t,c?(l.property=this.parseExpression(),this.expect(x.bracketR)):this.type===x.privateId&&t.type!=="Super"?l.property=this.parsePrivateIdent():l.property=this.parseIdent(this.options.allowReserved!=="never"),l.computed=!!c,o&&(l.optional=u),t=this.finishNode(l,"MemberExpression")}else if(!s&&this.eat(x.parenL)){var d=new Ha,m=this.yieldPos,f=this.awaitPos,g=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var y=this.parseExprList(x.parenR,this.options.ecmaVersion>=8,!1,d);if(r&&!u&&this.shouldParseAsyncArrow())return this.checkPatternErrors(d,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=m,this.awaitPos=f,this.awaitIdentPos=g,this.parseSubscriptAsyncArrow(e,n,y,a);this.checkExpressionErrors(d,!0),this.yieldPos=m||this.yieldPos,this.awaitPos=f||this.awaitPos,this.awaitIdentPos=g||this.awaitIdentPos;var P=this.startNodeAt(e,n);P.callee=t,P.arguments=y,o&&(P.optional=u),t=this.finishNode(P,"CallExpression")}else if(this.type===x.backQuote){(u||i)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var Z=this.startNodeAt(e,n);Z.tag=t,Z.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(Z,"TaggedTemplateExpression")}return t};yt.parseExprAtom=function(t,e,n){this.type===x.slash&&this.readRegexp();var s,r=this.potentialArrowAt===this.start;switch(this.type){case x._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),s=this.startNode(),this.next(),this.type===x.parenL&&!this.allowDirectSuper&&this.raise(s.start,"super() call outside constructor of a subclass"),this.type!==x.dot&&this.type!==x.bracketL&&this.type!==x.parenL&&this.unexpected(),this.finishNode(s,"Super");case x._this:return s=this.startNode(),this.next(),this.finishNode(s,"ThisExpression");case x.name:var i=this.start,a=this.startLoc,o=this.containsEsc,u=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!o&&u.name==="async"&&!this.canInsertSemicolon()&&this.eat(x._function))return this.overrideContext($t.f_expr),this.parseFunction(this.startNodeAt(i,a),0,!1,!0,e);if(r&&!this.canInsertSemicolon()){if(this.eat(x.arrow))return this.parseArrowExpression(this.startNodeAt(i,a),[u],!1,e);if(this.options.ecmaVersion>=8&&u.name==="async"&&this.type===x.name&&!o&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return u=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(x.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(i,a),[u],!0,e)}return u;case x.regexp:var c=this.value;return s=this.parseLiteral(c.value),s.regex={pattern:c.pattern,flags:c.flags},s;case x.num:case x.string:return this.parseLiteral(this.value);case x._null:case x._true:case x._false:return s=this.startNode(),s.value=this.type===x._null?null:this.type===x._true,s.raw=this.type.keyword,this.next(),this.finishNode(s,"Literal");case x.parenL:var l=this.start,d=this.parseParenAndDistinguishExpression(r,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(d)&&(t.parenthesizedAssign=l),t.parenthesizedBind<0&&(t.parenthesizedBind=l)),d;case x.bracketL:return s=this.startNode(),this.next(),s.elements=this.parseExprList(x.bracketR,!0,!0,t),this.finishNode(s,"ArrayExpression");case x.braceL:return this.overrideContext($t.b_expr),this.parseObj(!1,t);case x._function:return s=this.startNode(),this.next(),this.parseFunction(s,0);case x._class:return this.parseClass(this.startNode(),!1);case x._new:return this.parseNew();case x.backQuote:return this.parseTemplate();case x._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}};yt.parseExprAtomDefault=function(){this.unexpected()};yt.parseExprImport=function(t){var e=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===x.parenL&&!t)return this.parseDynamicImport(e);if(this.type===x.dot){var n=this.startNodeAt(e.start,e.loc&&e.loc.start);return n.name="import",e.meta=this.finishNode(n,"Identifier"),this.parseImportMeta(e)}else this.unexpected()};yt.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(x.parenR)?t.options=null:(this.expect(x.comma),this.afterTrailingComma(x.parenR)?t.options=null:(t.options=this.parseMaybeAssign(),this.eat(x.parenR)||(this.expect(x.comma),this.afterTrailingComma(x.parenR)||this.unexpected())));else if(!this.eat(x.parenR)){var e=this.start;this.eat(x.comma)&&this.eat(x.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};yt.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};yt.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};yt.parseParenExpression=function(){this.expect(x.parenL);var t=this.parseExpression();return this.expect(x.parenR),t};yt.shouldParseArrow=function(t){return!this.canInsertSemicolon()};yt.parseParenAndDistinguishExpression=function(t,e){var n=this.start,s=this.startLoc,r,i=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var a=this.start,o=this.startLoc,u=[],c=!0,l=!1,d=new Ha,m=this.yieldPos,f=this.awaitPos,g;for(this.yieldPos=0,this.awaitPos=0;this.type!==x.parenR;)if(c?c=!1:this.expect(x.comma),i&&this.afterTrailingComma(x.parenR,!0)){l=!0;break}else if(this.type===x.ellipsis){g=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===x.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else u.push(this.parseMaybeAssign(!1,d,this.parseParenItem));var y=this.lastTokEnd,P=this.lastTokEndLoc;if(this.expect(x.parenR),t&&this.shouldParseArrow(u)&&this.eat(x.arrow))return this.checkPatternErrors(d,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=m,this.awaitPos=f,this.parseParenArrowList(n,s,u,e);(!u.length||l)&&this.unexpected(this.lastTokStart),g&&this.unexpected(g),this.checkExpressionErrors(d,!0),this.yieldPos=m||this.yieldPos,this.awaitPos=f||this.awaitPos,u.length>1?(r=this.startNodeAt(a,o),r.expressions=u,this.finishNodeAt(r,"SequenceExpression",y,P)):r=u[0]}else r=this.parseParenExpression();if(this.options.preserveParens){var Z=this.startNodeAt(n,s);return Z.expression=r,this.finishNode(Z,"ParenthesizedExpression")}else return r};yt.parseParenItem=function(t){return t};yt.parseParenArrowList=function(t,e,n,s){return this.parseArrowExpression(this.startNodeAt(t,e),n,!1,s)};var Hw=[];yt.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===x.dot){var e=this.startNodeAt(t.start,t.loc&&t.loc.start);e.name="new",t.meta=this.finishNode(e,"Identifier"),this.next();var n=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var s=this.start,r=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),s,r,!0,!1),this.eat(x.parenL)?t.arguments=this.parseExprList(x.parenR,this.options.ecmaVersion>=8,!1):t.arguments=Hw,this.finishNode(t,"NewExpression")};yt.parseTemplateElement=function(t){var e=t.isTagged,n=this.startNode();return this.type===x.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),n.tail=this.type===x.backQuote,this.finishNode(n,"TemplateElement")};yt.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var n=this.startNode();this.next(),n.expressions=[];var s=this.parseTemplateElement({isTagged:e});for(n.quasis=[s];!s.tail;)this.type===x.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(x.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(x.braceR),n.quasis.push(s=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(n,"TemplateLiteral")};yt.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===x.name||this.type===x.num||this.type===x.string||this.type===x.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===x.star)&&!mn.test(this.input.slice(this.lastTokEnd,this.start))};yt.parseObj=function(t,e){var n=this.startNode(),s=!0,r={};for(n.properties=[],this.next();!this.eat(x.braceR);){if(s)s=!1;else if(this.expect(x.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(x.braceR))break;var i=this.parseProperty(t,e);t||this.checkPropClash(i,r,e),n.properties.push(i)}return this.finishNode(n,t?"ObjectPattern":"ObjectExpression")};yt.parseProperty=function(t,e){var n=this.startNode(),s,r,i,a;if(this.options.ecmaVersion>=9&&this.eat(x.ellipsis))return t?(n.argument=this.parseIdent(!1),this.type===x.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(n,"RestElement")):(n.argument=this.parseMaybeAssign(!1,e),this.type===x.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(n,"SpreadElement"));this.options.ecmaVersion>=6&&(n.method=!1,n.shorthand=!1,(t||e)&&(i=this.start,a=this.startLoc),t||(s=this.eat(x.star)));var o=this.containsEsc;return this.parsePropertyName(n),!t&&!o&&this.options.ecmaVersion>=8&&!s&&this.isAsyncProp(n)?(r=!0,s=this.options.ecmaVersion>=9&&this.eat(x.star),this.parsePropertyName(n)):r=!1,this.parsePropertyValue(n,t,s,r,i,a,e,o),this.finishNode(n,"Property")};yt.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var n=t.value.start;t.kind==="get"?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};yt.parsePropertyValue=function(t,e,n,s,r,i,a,o){(n||s)&&this.type===x.colon&&this.unexpected(),this.eat(x.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),t.kind="init"):this.options.ecmaVersion>=6&&this.type===x.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(n,s)):!e&&!o&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==x.comma&&this.type!==x.braceR&&this.type!==x.eq?((n||s)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((n||s)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=r),t.kind="init",e?t.value=this.parseMaybeDefault(r,i,this.copyNode(t.key)):this.type===x.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),t.value=this.parseMaybeDefault(r,i,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};yt.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(x.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(x.bracketR),t.key;t.computed=!1}return t.key=this.type===x.num||this.type===x.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};yt.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};yt.parseMethod=function(t,e,n){var s=this.startNode(),r=this.yieldPos,i=this.awaitPos,a=this.awaitIdentPos;return this.initFunction(s),this.options.ecmaVersion>=6&&(s.generator=t),this.options.ecmaVersion>=8&&(s.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Q1(e,s.generator)|U1|(n?rC:0)),this.expect(x.parenL),s.params=this.parseBindingList(x.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(s,!1,!0,!1),this.yieldPos=r,this.awaitPos=i,this.awaitIdentPos=a,this.finishNode(s,"FunctionExpression")};yt.parseArrowExpression=function(t,e,n,s){var r=this.yieldPos,i=this.awaitPos,a=this.awaitIdentPos;return this.enterScope(Q1(n,!1)|nC),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,s),this.yieldPos=r,this.awaitPos=i,this.awaitIdentPos=a,this.finishNode(t,"ArrowFunctionExpression")};yt.parseFunctionBody=function(t,e,n,s){var r=e&&this.type!==x.braceL,i=this.strict,a=!1;if(r)t.body=this.parseMaybeAssign(s),t.expression=!0,this.checkParams(t,!1);else{var o=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!i||o)&&(a=this.strictDirective(this.end),a&&o&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var u=this.labels;this.labels=[],a&&(this.strict=!0),this.checkParams(t,!i&&!a&&!e&&!n&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,oC),t.body=this.parseBlock(!1,void 0,a&&!i),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=u}this.exitScope()};yt.isSimpleParamList=function(t){for(var e=0,n=t;e<n.length;e+=1){var s=n[e];if(s.type!=="Identifier")return!1}return!0};yt.checkParams=function(t,e){for(var n=Object.create(null),s=0,r=t.params;s<r.length;s+=1){var i=r[s];this.checkLValInnerPattern(i,q1,e?null:n)}};yt.parseExprList=function(t,e,n,s){for(var r=[],i=!0;!this.eat(t);){if(i)i=!1;else if(this.expect(x.comma),e&&this.afterTrailingComma(t))break;var a=void 0;n&&this.type===x.comma?a=null:this.type===x.ellipsis?(a=this.parseSpread(s),s&&this.type===x.comma&&s.trailingComma<0&&(s.trailingComma=this.start)):a=this.parseMaybeAssign(!1,s),r.push(a)}return r};yt.checkUnreserved=function(t){var e=t.start,n=t.end,s=t.name;if(this.inGenerator&&s==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&s==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&s==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(s==="arguments"||s==="await")&&this.raise(e,"Cannot use "+s+" in class static initialization block"),this.keywords.test(s)&&this.raise(e,"Unexpected keyword '"+s+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,n).indexOf("\\")!==-1)){var r=this.strict?this.reservedWordsStrict:this.reservedWords;r.test(s)&&(!this.inAsync&&s==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+s+"' is reserved"))}};yt.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};yt.parseIdentNode=function(){var t=this.startNode();return this.type===x.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=x.name):this.unexpected(),t};yt.parsePrivateIdent=function(){var t=this.startNode();return this.type===x.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};yt.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===x.semi||this.canInsertSemicolon()||this.type!==x.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(x.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};yt.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var na=pe.prototype;na.raise=function(t,e){var n=tC(this.input,t);e+=" ("+n.line+":"+n.column+")";var s=new SyntaxError(e);throw s.pos=t,s.loc=n,s.raisedAt=this.pos,s};na.raiseRecoverable=na.raise;na.curPosition=function(){if(this.options.locations)return new oi(this.curLine,this.pos-this.lineStart)};var Cs=pe.prototype,jw=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Cs.enterScope=function(t){this.scopeStack.push(new jw(t))};Cs.exitScope=function(){this.scopeStack.pop()};Cs.treatFunctionsAsVarInScope=function(t){return t.flags&Fr||!this.inModule&&t.flags&ui};Cs.declareName=function(t,e,n){var s=!1;if(e===ss){var r=this.currentScope();s=r.lexical.indexOf(t)>-1||r.functions.indexOf(t)>-1||r.var.indexOf(t)>-1,r.lexical.push(t),this.inModule&&r.flags&ui&&delete this.undefinedExports[t]}else if(e===aC){var i=this.currentScope();i.lexical.push(t)}else if(e===iC){var a=this.currentScope();this.treatFunctionsAsVar?s=a.lexical.indexOf(t)>-1:s=a.lexical.indexOf(t)>-1||a.var.indexOf(t)>-1,a.functions.push(t)}else for(var o=this.scopeStack.length-1;o>=0;--o){var u=this.scopeStack[o];if(u.lexical.indexOf(t)>-1&&!(u.flags&sC&&u.lexical[0]===t)||!this.treatFunctionsAsVarInScope(u)&&u.functions.indexOf(t)>-1){s=!0;break}if(u.var.push(t),this.inModule&&u.flags&ui&&delete this.undefinedExports[t],u.flags&O1)break}s&&this.raiseRecoverable(n,"Identifier '"+t+"' has already been declared")};Cs.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};Cs.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Cs.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&O1)return e}};Cs.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&O1&&!(e.flags&nC))return e}};var ja=function(t,e,n){this.type="",this.start=e,this.end=0,t.options.locations&&(this.loc=new Ya(t,n)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[e,0])},Pi=pe.prototype;Pi.startNode=function(){return new ja(this,this.start,this.startLoc)};Pi.startNodeAt=function(t,e){return new ja(this,t,e)};function lC(t,e,n,s){return t.type=e,t.end=n,this.options.locations&&(t.loc.end=s),this.options.ranges&&(t.range[1]=n),t}Pi.finishNode=function(t,e){return lC.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};Pi.finishNodeAt=function(t,e,n,s){return lC.call(this,t,e,n,s)};Pi.copyNode=function(t){var e=new ja(this,t.start,this.startLoc);for(var n in t)e[n]=t[n];return e};var Jw="Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz",hC="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",pC=hC+" Extended_Pictographic",dC=pC,mC=dC+" EBase EComp EMod EPres ExtPict",fC=mC,_w=fC,Uw={9:hC,10:pC,11:dC,12:mC,13:fC,14:_w},Ow="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",Qw={9:"",10:"",11:"",12:"",13:"",14:Ow},wy="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",yC="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",bC=yC+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",gC=bC+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",MC=gC+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",CC=MC+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",qw=CC+" "+Jw,$w={9:yC,10:bC,11:gC,12:MC,13:CC,14:qw},xC={};function tF(t){var e=xC[t]={binary:hs(Uw[t]+" "+wy),binaryOfStrings:hs(Qw[t]),nonBinary:{General_Category:hs(wy),Script:hs($w[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}for(var Lo=0,Fy=[9,10,11,12,13,14];Lo<Fy.length;Lo+=1){var eF=Fy[Lo];tF(eF)}var rt=pe.prototype,sa=function(t,e){this.parent=t,this.base=e||this};sa.prototype.separatedFrom=function(t){for(var e=this;e;e=e.parent)for(var n=t;n;n=n.parent)if(e.base===n.base&&e!==n)return!0;return!1};sa.prototype.sibling=function(){return new sa(this.parent,this.base)};var Nn=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=xC[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};Nn.prototype.reset=function(t,e,n){var s=n.indexOf("v")!==-1,r=n.indexOf("u")!==-1;this.start=t|0,this.source=e+"",this.flags=n,s&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=r&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=r&&this.parser.options.ecmaVersion>=9)};Nn.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};Nn.prototype.at=function(t,e){e===void 0&&(e=!1);var n=this.source,s=n.length;if(t>=s)return-1;var r=n.charCodeAt(t);if(!(e||this.switchU)||r<=55295||r>=57344||t+1>=s)return r;var i=n.charCodeAt(t+1);return i>=56320&&i<=57343?(r<<10)+i-56613888:r};Nn.prototype.nextIndex=function(t,e){e===void 0&&(e=!1);var n=this.source,s=n.length;if(t>=s)return s;var r=n.charCodeAt(t),i;return!(e||this.switchU)||r<=55295||r>=57344||t+1>=s||(i=n.charCodeAt(t+1))<56320||i>57343?t+1:t+2};Nn.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)};Nn.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};Nn.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};Nn.prototype.eat=function(t,e){return e===void 0&&(e=!1),this.current(e)===t?(this.advance(e),!0):!1};Nn.prototype.eatChars=function(t,e){e===void 0&&(e=!1);for(var n=this.pos,s=0,r=t;s<r.length;s+=1){var i=r[s],a=this.at(n,e);if(a===-1||a!==i)return!1;n=this.nextIndex(n,e)}return this.pos=n,!0};rt.validateRegExpFlags=function(t){for(var e=t.validFlags,n=t.flags,s=!1,r=!1,i=0;i<n.length;i++){var a=n.charAt(i);e.indexOf(a)===-1&&this.raise(t.start,"Invalid regular expression flag"),n.indexOf(a,i+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),a==="u"&&(s=!0),a==="v"&&(r=!0)}this.options.ecmaVersion>=15&&s&&r&&this.raise(t.start,"Invalid regular expression flag")};function nF(t){for(var e in t)return!0;return!1}rt.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&nF(t.groupNames)&&(t.switchN=!0,this.regexp_pattern(t))};rt.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames=Object.create(null),t.backReferenceNames.length=0,t.branchID=null,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,n=t.backReferenceNames;e<n.length;e+=1){var s=n[e];t.groupNames[s]||t.raise("Invalid named capture referenced")}};rt.regexp_disjunction=function(t){var e=this.options.ecmaVersion>=16;for(e&&(t.branchID=new sa(t.branchID,null)),this.regexp_alternative(t);t.eat(124);)e&&(t.branchID=t.branchID.sibling()),this.regexp_alternative(t);e&&(t.branchID=t.branchID.parent),this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};rt.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};rt.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};rt.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!n,!0}return t.pos=e,!1};rt.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};rt.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};rt.regexp_eatBracedQuantifier=function(t,e){var n=t.pos;if(t.eat(123)){var s=0,r=-1;if(this.regexp_eatDecimalDigits(t)&&(s=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(r=t.lastIntValue),t.eat(125)))return r!==-1&&r<s&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=n}return!1};rt.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};rt.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};rt.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)){if(this.options.ecmaVersion>=16){var n=this.regexp_eatModifiers(t),s=t.eat(45);if(n||s){for(var r=0;r<n.length;r++){var i=n.charAt(r);n.indexOf(i,r+1)>-1&&t.raise("Duplicate regular expression modifiers")}if(s){var a=this.regexp_eatModifiers(t);!n&&!a&&t.current()===58&&t.raise("Invalid regular expression modifiers");for(var o=0;o<a.length;o++){var u=a.charAt(o);(a.indexOf(u,o+1)>-1||n.indexOf(u)>-1)&&t.raise("Duplicate regular expression modifiers")}}}}if(t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}}t.pos=e}return!1};rt.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};rt.regexp_eatModifiers=function(t){for(var e="",n=0;(n=t.current())!==-1&&sF(n);)e+=$n(n),t.advance();return e};function sF(t){return t===105||t===109||t===115}rt.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};rt.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};rt.regexp_eatSyntaxCharacter=function(t){var e=t.current();return PC(e)?(t.lastIntValue=e,t.advance(),!0):!1};function PC(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}rt.regexp_eatPatternCharacters=function(t){for(var e=t.pos,n=0;(n=t.current())!==-1&&!PC(n);)t.advance();return t.pos!==e};rt.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};rt.regexp_groupSpecifier=function(t){if(t.eat(63)){this.regexp_eatGroupName(t)||t.raise("Invalid group");var e=this.options.ecmaVersion>=16,n=t.groupNames[t.lastStringValue];if(n)if(e)for(var s=0,r=n;s<r.length;s+=1){var i=r[s];i.separatedFrom(t.branchID)||t.raise("Duplicate capture group name")}else t.raise("Duplicate capture group name");e?(n||(t.groupNames[t.lastStringValue]=[])).push(t.branchID):t.groupNames[t.lastStringValue]=!0}};rt.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};rt.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=$n(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=$n(t.lastIntValue);return!0}return!1};rt.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,n=this.options.ecmaVersion>=11,s=t.current(n);return t.advance(n),s===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,n)&&(s=t.lastIntValue),rF(s)?(t.lastIntValue=s,!0):(t.pos=e,!1)};function rF(t){return qn(t,!0)||t===36||t===95}rt.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,n=this.options.ecmaVersion>=11,s=t.current(n);return t.advance(n),s===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,n)&&(s=t.lastIntValue),iF(s)?(t.lastIntValue=s,!0):(t.pos=e,!1)};function iF(t){return Mr(t,!0)||t===36||t===95||t===8204||t===8205}rt.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};rt.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var n=t.lastIntValue;if(t.switchU)return n>t.maxBackReference&&(t.maxBackReference=n),!0;if(n<=t.numCapturingParens)return!0;t.pos=e}return!1};rt.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};rt.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};rt.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};rt.regexp_eatZero=function(t){return t.current()===48&&!Ja(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};rt.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};rt.regexp_eatControlLetter=function(t){var e=t.current();return GC(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function GC(t){return t>=65&&t<=90||t>=97&&t<=122}rt.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var n=t.pos,s=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var r=t.lastIntValue;if(s&&r>=55296&&r<=56319){var i=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var a=t.lastIntValue;if(a>=56320&&a<=57343)return t.lastIntValue=(r-55296)*1024+(a-56320)+65536,!0}t.pos=i,t.lastIntValue=r}return!0}if(s&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&aF(t.lastIntValue))return!0;s&&t.raise("Invalid unicode escape"),t.pos=n}return!1};function aF(t){return t>=0&&t<=1114111}rt.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};rt.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var XC=0,ts=1,ln=2;rt.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(oF(e))return t.lastIntValue=-1,t.advance(),ts;var n=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((n=e===80)||e===112)){t.lastIntValue=-1,t.advance();var s;if(t.eat(123)&&(s=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return n&&s===ln&&t.raise("Invalid property name"),s;t.raise("Invalid property name")}return XC};function oF(t){return t===100||t===68||t===115||t===83||t===119||t===87}rt.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var n=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var s=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,n,s),ts}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var r=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,r)}return XC};rt.regexp_validateUnicodePropertyNameAndValue=function(t,e,n){wr(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(n)||t.raise("Invalid property value")};rt.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return ts;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return ln;t.raise("Invalid property name")};rt.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";ZC(e=t.current());)t.lastStringValue+=$n(e),t.advance();return t.lastStringValue!==""};function ZC(t){return GC(t)||t===95}rt.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";uF(e=t.current());)t.lastStringValue+=$n(e),t.advance();return t.lastStringValue!==""};function uF(t){return ZC(t)||Ja(t)}rt.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};rt.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),n=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&n===ln&&t.raise("Negated character class may contain strings"),!0}return!1};rt.regexp_classContents=function(t){return t.current()===93?ts:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),ts)};rt.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var n=t.lastIntValue;t.switchU&&(e===-1||n===-1)&&t.raise("Invalid character class"),e!==-1&&n!==-1&&e>n&&t.raise("Range out of order in character class")}}};rt.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var n=t.current();(n===99||FC(n))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var s=t.current();return s!==93?(t.lastIntValue=s,t.advance(),!0):!1};rt.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};rt.regexp_classSetExpression=function(t){var e=ts,n;if(!this.regexp_eatClassSetRange(t))if(n=this.regexp_eatClassSetOperand(t)){n===ln&&(e=ln);for(var s=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(n=this.regexp_eatClassSetOperand(t))){n!==ln&&(e=ts);continue}t.raise("Invalid character in character class")}if(s!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(s!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(n=this.regexp_eatClassSetOperand(t),!n)return e;n===ln&&(e=ln)}};rt.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var n=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var s=t.lastIntValue;return n!==-1&&s!==-1&&n>s&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};rt.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?ts:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};rt.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var n=t.eat(94),s=this.regexp_classContents(t);if(t.eat(93))return n&&s===ln&&t.raise("Negated character class may contain strings"),s;t.pos=e}if(t.eat(92)){var r=this.regexp_eatCharacterClassEscape(t);if(r)return r;t.pos=e}return null};rt.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var n=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return n}else t.raise("Invalid escape");t.pos=e}return null};rt.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===ln&&(e=ln);return e};rt.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?ts:ln};rt.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var n=t.current();return n<0||n===t.lookahead()&&cF(n)||lF(n)?!1:(t.advance(),t.lastIntValue=n,!0)};function cF(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}function lF(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}rt.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return hF(e)?(t.lastIntValue=e,t.advance(),!0):!1};function hF(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}rt.regexp_eatClassControlLetter=function(t){var e=t.current();return Ja(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};rt.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};rt.regexp_eatDecimalDigits=function(t){var e=t.pos,n=0;for(t.lastIntValue=0;Ja(n=t.current());)t.lastIntValue=10*t.lastIntValue+(n-48),t.advance();return t.pos!==e};function Ja(t){return t>=48&&t<=57}rt.regexp_eatHexDigits=function(t){var e=t.pos,n=0;for(t.lastIntValue=0;vC(n=t.current());)t.lastIntValue=16*t.lastIntValue+wC(n),t.advance();return t.pos!==e};function vC(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function wC(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}rt.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var n=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+n*8+t.lastIntValue:t.lastIntValue=e*8+n}else t.lastIntValue=e;return!0}return!1};rt.regexp_eatOctalDigit=function(t){var e=t.current();return FC(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function FC(t){return t>=48&&t<=55}rt.regexp_eatFixedHexDigits=function(t,e){var n=t.pos;t.lastIntValue=0;for(var s=0;s<e;++s){var r=t.current();if(!vC(r))return t.pos=n,!1;t.lastIntValue=16*t.lastIntValue+wC(r),t.advance()}return!0};var tf=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new Ya(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},At=pe.prototype;At.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new tf(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};At.getToken=function(){return this.next(),new tf(this)};typeof Symbol<"u"&&(At[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===x.eof,value:e}}}});At.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(x.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};At.readToken=function(t){return qn(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};At.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};At.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var s=void 0,r=e;(s=Q5(this.input,r,this.pos))>-1;)++this.curLine,r=this.lineStart=s;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,n),e,this.pos,t,this.curPosition())};At.skipLineComment=function(t){for(var e=this.pos,n=this.options.onComment&&this.curPosition(),s=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!vr(s);)s=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,n,this.curPosition())};At.skipSpace=function(){t:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t}break;default:if(t>8&&t<14||t>=5760&&q5.test(String.fromCharCode(t)))++this.pos;else break t}}};At.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=t,this.value=e,this.updateContext(n)};At.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(x.ellipsis)):(++this.pos,this.finishToken(x.dot))};At.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(x.assign,2):this.finishOp(x.slash,1)};At.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),n=1,s=t===42?x.star:x.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++n,s=x.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(x.assign,n+1):this.finishOp(s,n)};At.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(x.assign,3)}return this.finishOp(t===124?x.logicalOR:x.logicalAND,2)}return e===61?this.finishOp(x.assign,2):this.finishOp(t===124?x.bitwiseOR:x.bitwiseAND,1)};At.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(x.assign,2):this.finishOp(x.bitwiseXOR,1)};At.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||mn.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(x.incDec,2):e===61?this.finishOp(x.assign,2):this.finishOp(x.plusMin,1)};At.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),n=1;return e===t?(n=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+n)===61?this.finishOp(x.assign,n+1):this.finishOp(x.bitShift,n)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(n=2),this.finishOp(x.relational,n))};At.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(x.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(x.arrow)):this.finishOp(t===61?x.eq:x.prefix,1)};At.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(x.questionDot,2)}if(e===63){if(t>=12){var s=this.input.charCodeAt(this.pos+2);if(s===61)return this.finishOp(x.assign,3)}return this.finishOp(x.coalesce,2)}}return this.finishOp(x.question,1)};At.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),qn(e,!0)||e===92))return this.finishToken(x.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+$n(e)+"'")};At.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(x.parenL);case 41:return++this.pos,this.finishToken(x.parenR);case 59:return++this.pos,this.finishToken(x.semi);case 44:return++this.pos,this.finishToken(x.comma);case 91:return++this.pos,this.finishToken(x.bracketL);case 93:return++this.pos,this.finishToken(x.bracketR);case 123:return++this.pos,this.finishToken(x.braceL);case 125:return++this.pos,this.finishToken(x.braceR);case 58:return++this.pos,this.finishToken(x.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(x.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(x.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+$n(t)+"'")};At.finishOp=function(t,e){var n=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,n)};At.readRegexp=function(){for(var t,e,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var s=this.input.charAt(this.pos);if(mn.test(s)&&this.raise(n,"Unterminated regular expression"),t)t=!1;else{if(s==="[")e=!0;else if(s==="]"&&e)e=!1;else if(s==="/"&&!e)break;t=s==="\\"}++this.pos}var r=this.input.slice(n,this.pos);++this.pos;var i=this.pos,a=this.readWord1();this.containsEsc&&this.unexpected(i);var o=this.regexpState||(this.regexpState=new Nn(this));o.reset(n,r,a),this.validateRegExpFlags(o),this.validateRegExpPattern(o);var u=null;try{u=new RegExp(r,a)}catch{}return this.finishToken(x.regexp,{pattern:r,flags:a,value:u})};At.readInt=function(t,e,n){for(var s=this.options.ecmaVersion>=12&&e===void 0,r=n&&this.input.charCodeAt(this.pos)===48,i=this.pos,a=0,o=0,u=0,c=e??1/0;u<c;++u,++this.pos){var l=this.input.charCodeAt(this.pos),d=void 0;if(s&&l===95){r&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),o===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),u===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),o=l;continue}if(l>=97?d=l-97+10:l>=65?d=l-65+10:l>=48&&l<=57?d=l-48:d=1/0,d>=t)break;o=l,a=a*t+d}return s&&o===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===i||e!=null&&this.pos-i!==e?null:a};function pF(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}function DC(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}At.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var n=this.readInt(t);return n==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(n=DC(this.input.slice(e,this.pos)),++this.pos):qn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(x.num,n)};At.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var n=this.pos-e>=2&&this.input.charCodeAt(e)===48;n&&this.strict&&this.raise(e,"Invalid number");var s=this.input.charCodeAt(this.pos);if(!n&&!t&&this.options.ecmaVersion>=11&&s===110){var r=DC(this.input.slice(e,this.pos));return++this.pos,qn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(x.num,r)}n&&/[89]/.test(this.input.slice(e,this.pos))&&(n=!1),s===46&&!n&&(++this.pos,this.readInt(10),s=this.input.charCodeAt(this.pos)),(s===69||s===101)&&!n&&(s=this.input.charCodeAt(++this.pos),(s===43||s===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),qn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var i=pF(this.input.slice(e,this.pos),n);return this.finishToken(x.num,i)};At.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else e=this.readHexChar(4);return e};At.readString=function(t){for(var e="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var s=this.input.charCodeAt(this.pos);if(s===t)break;s===92?(e+=this.input.slice(n,this.pos),e+=this.readEscapedChar(!1),n=this.pos):s===8232||s===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(vr(s)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(n,this.pos++),this.finishToken(x.string,e)};var AC={};At.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===AC)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};At.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw AC;this.raise(t,e)};At.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(n===96||n===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===x.template||this.type===x.invalidTemplate)?n===36?(this.pos+=2,this.finishToken(x.dollarBraceL)):(++this.pos,this.finishToken(x.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(x.template,t));if(n===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(vr(n)){switch(t+=this.input.slice(e,this.pos),++this.pos,n){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};At.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(x.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};At.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return $n(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var s=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],r=parseInt(s,8);return r>255&&(s=s.slice(0,-1),r=parseInt(s,8)),this.pos+=s.length-1,e=this.input.charCodeAt(this.pos),(s!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-s.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(r)}return vr(e)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(e)}};At.readHexChar=function(t){var e=this.pos,n=this.readInt(16,t);return n===null&&this.invalidStringToken(e,"Bad character escape sequence"),n};At.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,n=this.pos,s=this.options.ecmaVersion>=6;this.pos<this.input.length;){var r=this.fullCharCodeAtPos();if(Mr(r,s))this.pos+=r<=65535?1:2;else if(r===92){this.containsEsc=!0,t+=this.input.slice(n,this.pos);var i=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(e?qn:Mr)(a,s)||this.invalidStringToken(i,"Invalid Unicode escape"),t+=$n(a),n=this.pos}else break;e=!1}return t+this.input.slice(n,this.pos)};At.readWord=function(){var t=this.readWord1(),e=x.name;return this.keywords.test(t)&&(e=J1[t]),this.finishToken(e,t)};var dF="8.14.0";pe.acorn={Parser:pe,version:dF,defaultOptions:cu,Position:oi,SourceLocation:Ya,getLineInfo:tC,Node:ja,TokenType:kt,tokTypes:x,keywordTypes:J1,TokContext:Pn,tokContexts:$t,isIdentifierChar:Mr,isIdentifierStart:qn,Token:tf,isNewLine:vr,lineBreak:mn,lineBreakG:Ew,nonASCIIwhitespace:q5};function mF(t,e){return pe.parse(t,e)}var fF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function SC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function yF(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var r=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:function(){return t[s]}})}),n}var Dy={},Ay={},Sy;function bF(){return Sy||(Sy=1,(function(t){(function e(n){var s,r,i,a,o,u;function c(X){var L={},V,E;for(V in X)X.hasOwnProperty(V)&&(E=X[V],typeof E=="object"&&E!==null?L[V]=c(E):L[V]=E);return L}function l(X,L){var V,E,I,R;for(E=X.length,I=0;E;)V=E>>>1,R=I+V,L(X[R])?E=V:(I=R+1,E-=V+1);return I}s={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ChainExpression:"ChainExpression",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",PrivateIdentifier:"PrivateIdentifier",Program:"Program",Property:"Property",PropertyDefinition:"PropertyDefinition",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},i={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ChainExpression:["expression"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],PrivateIdentifier:[],Program:["body"],Property:["key","value"],PropertyDefinition:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},a={},o={},u={},r={Break:a,Skip:o,Remove:u};function d(X,L){this.parent=X,this.key=L}d.prototype.replace=function(X){this.parent[this.key]=X},d.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)};function m(X,L,V,E){this.node=X,this.path=L,this.wrap=V,this.ref=E}function f(){}f.prototype.path=function(){var X,L,V,E,I,R;function J(W,Y){if(Array.isArray(Y))for(V=0,E=Y.length;V<E;++V)W.push(Y[V]);else W.push(Y)}if(!this.__current.path)return null;for(I=[],X=2,L=this.__leavelist.length;X<L;++X)R=this.__leavelist[X],J(I,R.path);return J(I,this.__current.path),I},f.prototype.type=function(){var X=this.current();return X.type||this.__current.wrap},f.prototype.parents=function(){var X,L,V;for(V=[],X=1,L=this.__leavelist.length;X<L;++X)V.push(this.__leavelist[X].node);return V},f.prototype.current=function(){return this.__current.node},f.prototype.__execute=function(X,L){var V,E;return E=void 0,V=this.__current,this.__current=L,this.__state=null,X&&(E=X.call(this,L.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=V,E},f.prototype.notify=function(X){this.__state=X},f.prototype.skip=function(){this.notify(o)},f.prototype.break=function(){this.notify(a)},f.prototype.remove=function(){this.notify(u)},f.prototype.__initialize=function(X,L){this.visitor=L,this.root=X,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,L.fallback==="iteration"?this.__fallback=Object.keys:typeof L.fallback=="function"&&(this.__fallback=L.fallback),this.__keys=i,L.keys&&(this.__keys=Object.assign(Object.create(this.__keys),L.keys))};function g(X){return X==null?!1:typeof X=="object"&&typeof X.type=="string"}function y(X,L){return(X===s.ObjectExpression||X===s.ObjectPattern)&&L==="properties"}function P(X,L){for(var V=X.length-1;V>=0;--V)if(X[V].node===L)return!0;return!1}f.prototype.traverse=function(X,L){var V,E,I,R,J,W,Y,tt,ct,Q,nt,q;for(this.__initialize(X,L),q={},V=this.__worklist,E=this.__leavelist,V.push(new m(X,null,null,null)),E.push(new m(null,null,null,null));V.length;){if(I=V.pop(),I===q){if(I=E.pop(),W=this.__execute(L.leave,I),this.__state===a||W===a)return;continue}if(I.node){if(W=this.__execute(L.enter,I),this.__state===a||W===a)return;if(V.push(q),E.push(I),this.__state===o||W===o)continue;if(R=I.node,J=R.type||I.wrap,Q=this.__keys[J],!Q)if(this.__fallback)Q=this.__fallback(R);else throw new Error("Unknown node type "+J+".");for(tt=Q.length;(tt-=1)>=0;)if(Y=Q[tt],nt=R[Y],!!nt){if(Array.isArray(nt)){for(ct=nt.length;(ct-=1)>=0;)if(nt[ct]&&!P(E,nt[ct])){if(y(J,Q[tt]))I=new m(nt[ct],[Y,ct],"Property",null);else if(g(nt[ct]))I=new m(nt[ct],[Y,ct],null,null);else continue;V.push(I)}}else if(g(nt)){if(P(E,nt))continue;V.push(new m(nt,Y,null,null))}}}}},f.prototype.replace=function(X,L){var V,E,I,R,J,W,Y,tt,ct,Q,nt,q,xt;function st(dt){var H,gt,Kt,Ut;if(dt.ref.remove()){for(gt=dt.ref.key,Ut=dt.ref.parent,H=V.length;H--;)if(Kt=V[H],Kt.ref&&Kt.ref.parent===Ut){if(Kt.ref.key<gt)break;--Kt.ref.key}}}for(this.__initialize(X,L),nt={},V=this.__worklist,E=this.__leavelist,q={root:X},W=new m(X,null,null,new d(q,"root")),V.push(W),E.push(W);V.length;){if(W=V.pop(),W===nt){if(W=E.pop(),J=this.__execute(L.leave,W),J!==void 0&&J!==a&&J!==o&&J!==u&&W.ref.replace(J),(this.__state===u||J===u)&&st(W),this.__state===a||J===a)return q.root;continue}if(J=this.__execute(L.enter,W),J!==void 0&&J!==a&&J!==o&&J!==u&&(W.ref.replace(J),W.node=J),(this.__state===u||J===u)&&(st(W),W.node=null),this.__state===a||J===a)return q.root;if(I=W.node,!!I&&(V.push(nt),E.push(W),!(this.__state===o||J===o))){if(R=I.type||W.wrap,ct=this.__keys[R],!ct)if(this.__fallback)ct=this.__fallback(I);else throw new Error("Unknown node type "+R+".");for(Y=ct.length;(Y-=1)>=0;)if(xt=ct[Y],Q=I[xt],!!Q)if(Array.isArray(Q)){for(tt=Q.length;(tt-=1)>=0;)if(Q[tt]){if(y(R,ct[Y]))W=new m(Q[tt],[xt,tt],"Property",new d(Q,tt));else if(g(Q[tt]))W=new m(Q[tt],[xt,tt],null,new d(Q,tt));else continue;V.push(W)}}else g(Q)&&V.push(new m(Q,xt,null,new d(I,xt)))}}return q.root};function Z(X,L){var V=new f;return V.traverse(X,L)}function S(X,L){var V=new f;return V.replace(X,L)}function k(X,L){var V;return V=l(L,function(E){return E.range[0]>X.range[0]}),X.extendedRange=[X.range[0],X.range[1]],V!==L.length&&(X.extendedRange[1]=L[V].range[0]),V-=1,V>=0&&(X.extendedRange[0]=L[V].range[1]),X}function v(X,L,V){var E=[],I,R,J,W;if(!X.range)throw new Error("attachComments needs range information");if(!V.length){if(L.length){for(J=0,R=L.length;J<R;J+=1)I=c(L[J]),I.extendedRange=[0,X.range[0]],E.push(I);X.leadingComments=E}return X}for(J=0,R=L.length;J<R;J+=1)E.push(k(c(L[J]),V));return W=0,Z(X,{enter:function(Y){for(var tt;W<E.length&&(tt=E[W],!(tt.extendedRange[1]>Y.range[0]));)tt.extendedRange[1]===Y.range[0]?(Y.leadingComments||(Y.leadingComments=[]),Y.leadingComments.push(tt),E.splice(W,1)):W+=1;if(W===E.length)return r.Break;if(E[W].extendedRange[0]>Y.range[1])return r.Skip}}),W=0,Z(X,{leave:function(Y){for(var tt;W<E.length&&(tt=E[W],!(Y.range[1]<tt.extendedRange[0]));)Y.range[1]===tt.extendedRange[0]?(Y.trailingComments||(Y.trailingComments=[]),Y.trailingComments.push(tt),E.splice(W,1)):W+=1;if(W===E.length)return r.Break;if(E[W].extendedRange[0]>Y.range[1])return r.Skip}}),X}return n.Syntax=s,n.traverse=Z,n.replace=S,n.attachComments=v,n.VisitorKeys=i,n.VisitorOption=r,n.Controller=f,n.cloneEnvironment=function(){return e({})},n})(t)})(Ay)),Ay}var Ei={},Vy={exports:{}},Ly;function gF(){return Ly||(Ly=1,(function(){function t(a){if(a==null)return!1;switch(a.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1}function e(a){if(a==null)return!1;switch(a.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1}function n(a){if(a==null)return!1;switch(a.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function s(a){return n(a)||a!=null&&a.type==="FunctionDeclaration"}function r(a){switch(a.type){case"IfStatement":return a.alternate!=null?a.alternate:a.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return a.body}return null}function i(a){var o;if(a.type!=="IfStatement"||a.alternate==null)return!1;o=a.consequent;do{if(o.type==="IfStatement"&&o.alternate==null)return!0;o=r(o)}while(o);return!1}Vy.exports={isExpression:t,isStatement:n,isIterationStatement:e,isSourceElement:s,isProblematicIfStatement:i,trailingStatement:r}})()),Vy.exports}var ky={exports:{}},Ey;function VC(){return Ey||(Ey=1,(function(){var t,e,n,s,r,i;e={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},t={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};function a(P){return 48<=P&&P<=57}function o(P){return 48<=P&&P<=57||97<=P&&P<=102||65<=P&&P<=70}function u(P){return P>=48&&P<=55}n=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function c(P){return P===32||P===9||P===11||P===12||P===160||P>=5760&&n.indexOf(P)>=0}function l(P){return P===10||P===13||P===8232||P===8233}function d(P){if(P<=65535)return String.fromCharCode(P);var Z=String.fromCharCode(Math.floor((P-65536)/1024)+55296),S=String.fromCharCode((P-65536)%1024+56320);return Z+S}for(s=new Array(128),i=0;i<128;++i)s[i]=i>=97&&i<=122||i>=65&&i<=90||i===36||i===95;for(r=new Array(128),i=0;i<128;++i)r[i]=i>=97&&i<=122||i>=65&&i<=90||i>=48&&i<=57||i===36||i===95;function m(P){return P<128?s[P]:e.NonAsciiIdentifierStart.test(d(P))}function f(P){return P<128?r[P]:e.NonAsciiIdentifierPart.test(d(P))}function g(P){return P<128?s[P]:t.NonAsciiIdentifierStart.test(d(P))}function y(P){return P<128?r[P]:t.NonAsciiIdentifierPart.test(d(P))}ky.exports={isDecimalDigit:a,isHexDigit:o,isOctalDigit:u,isWhiteSpace:c,isLineTerminator:l,isIdentifierStartES5:m,isIdentifierPartES5:f,isIdentifierStartES6:g,isIdentifierPartES6:y}})()),ky.exports}var Wy={exports:{}},zy;function MF(){return zy||(zy=1,(function(){var t=VC();function e(m){switch(m){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}function n(m,f){return!f&&m==="yield"?!1:s(m,f)}function s(m,f){if(f&&e(m))return!0;switch(m.length){case 2:return m==="if"||m==="in"||m==="do";case 3:return m==="var"||m==="for"||m==="new"||m==="try";case 4:return m==="this"||m==="else"||m==="case"||m==="void"||m==="with"||m==="enum";case 5:return m==="while"||m==="break"||m==="catch"||m==="throw"||m==="const"||m==="yield"||m==="class"||m==="super";case 6:return m==="return"||m==="typeof"||m==="delete"||m==="switch"||m==="export"||m==="import";case 7:return m==="default"||m==="finally"||m==="extends";case 8:return m==="function"||m==="continue"||m==="debugger";case 10:return m==="instanceof";default:return!1}}function r(m,f){return m==="null"||m==="true"||m==="false"||n(m,f)}function i(m,f){return m==="null"||m==="true"||m==="false"||s(m,f)}function a(m){return m==="eval"||m==="arguments"}function o(m){var f,g,y;if(m.length===0||(y=m.charCodeAt(0),!t.isIdentifierStartES5(y)))return!1;for(f=1,g=m.length;f<g;++f)if(y=m.charCodeAt(f),!t.isIdentifierPartES5(y))return!1;return!0}function u(m,f){return(m-55296)*1024+(f-56320)+65536}function c(m){var f,g,y,P,Z;if(m.length===0)return!1;for(Z=t.isIdentifierStartES6,f=0,g=m.length;f<g;++f){if(y=m.charCodeAt(f),55296<=y&&y<=56319){if(++f,f>=g||(P=m.charCodeAt(f),!(56320<=P&&P<=57343)))return!1;y=u(y,P)}if(!Z(y))return!1;Z=t.isIdentifierPartES6}return!0}function l(m,f){return o(m)&&!r(m,f)}function d(m,f){return c(m)&&!i(m,f)}Wy.exports={isKeywordES5:n,isKeywordES6:s,isReservedWordES5:r,isReservedWordES6:i,isRestrictedWord:a,isIdentifierNameES5:o,isIdentifierNameES6:c,isIdentifierES5:l,isIdentifierES6:d}})()),Wy.exports}var Ry;function CF(){return Ry||(Ry=1,(function(){Ei.ast=gF(),Ei.code=VC(),Ei.keyword=MF()})()),Ei}var Wi={},ko={},zi={},Ri={},By;function xF(){if(By)return Ri;By=1;var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return Ri.encode=function(e){if(0<=e&&e<t.length)return t[e];throw new TypeError("Must be between 0 and 63: "+e)},Ri.decode=function(e){var n=65,s=90,r=97,i=122,a=48,o=57,u=43,c=47,l=26,d=52;return n<=e&&e<=s?e-n:r<=e&&e<=i?e-r+l:a<=e&&e<=o?e-a+d:e==u?62:e==c?63:-1},Ri}var Ty;function LC(){if(Ty)return zi;Ty=1;var t=xF(),e=5,n=1<<e,s=n-1,r=n;function i(o){return o<0?(-o<<1)+1:(o<<1)+0}function a(o){var u=(o&1)===1,c=o>>1;return u?-c:c}return zi.encode=function(o){var u="",c,l=i(o);do c=l&s,l>>>=e,l>0&&(c|=r),u+=t.encode(c);while(l>0);return u},zi.decode=function(o,u,c){var l=o.length,d=0,m=0,f,g;do{if(u>=l)throw new Error("Expected more digits in base 64 VLQ value.");if(g=t.decode(o.charCodeAt(u++)),g===-1)throw new Error("Invalid base64 digit: "+o.charAt(u-1));f=!!(g&r),g&=s,d=d+(g<<m),m+=e}while(f);c.value=a(d),c.rest=u},zi}var Ny={},Iy;function Gi(){return Iy||(Iy=1,(function(t){function e(v,X,L){if(X in v)return v[X];if(arguments.length===3)return L;throw new Error('"'+X+'" is a required argument.')}t.getArg=e;var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,s=/^data:.+\,.+$/;function r(v){var X=v.match(n);return X?{scheme:X[1],auth:X[2],host:X[3],port:X[4],path:X[5]}:null}t.urlParse=r;function i(v){var X="";return v.scheme&&(X+=v.scheme+":"),X+="//",v.auth&&(X+=v.auth+"@"),v.host&&(X+=v.host),v.port&&(X+=":"+v.port),v.path&&(X+=v.path),X}t.urlGenerate=i;function a(v){var X=v,L=r(v);if(L){if(!L.path)return v;X=L.path}for(var V=t.isAbsolute(X),E=X.split(/\/+/),I,R=0,J=E.length-1;J>=0;J--)I=E[J],I==="."?E.splice(J,1):I===".."?R++:R>0&&(I===""?(E.splice(J+1,R),R=0):(E.splice(J,2),R--));return X=E.join("/"),X===""&&(X=V?"/":"."),L?(L.path=X,i(L)):X}t.normalize=a;function o(v,X){v===""&&(v="."),X===""&&(X=".");var L=r(X),V=r(v);if(V&&(v=V.path||"/"),L&&!L.scheme)return V&&(L.scheme=V.scheme),i(L);if(L||X.match(s))return X;if(V&&!V.host&&!V.path)return V.host=X,i(V);var E=X.charAt(0)==="/"?X:a(v.replace(/\/+$/,"")+"/"+X);return V?(V.path=E,i(V)):E}t.join=o,t.isAbsolute=function(v){return v.charAt(0)==="/"||n.test(v)};function u(v,X){v===""&&(v="."),v=v.replace(/\/$/,"");for(var L=0;X.indexOf(v+"/")!==0;){var V=v.lastIndexOf("/");if(V<0||(v=v.slice(0,V),v.match(/^([^\/]+:\/)?\/*$/)))return X;++L}return Array(L+1).join("../")+X.substr(v.length+1)}t.relative=u;var c=(function(){var v=Object.create(null);return!("__proto__"in v)})();function l(v){return v}function d(v){return f(v)?"$"+v:v}t.toSetString=c?l:d;function m(v){return f(v)?v.slice(1):v}t.fromSetString=c?l:m;function f(v){if(!v)return!1;var X=v.length;if(X<9||v.charCodeAt(X-1)!==95||v.charCodeAt(X-2)!==95||v.charCodeAt(X-3)!==111||v.charCodeAt(X-4)!==116||v.charCodeAt(X-5)!==111||v.charCodeAt(X-6)!==114||v.charCodeAt(X-7)!==112||v.charCodeAt(X-8)!==95||v.charCodeAt(X-9)!==95)return!1;for(var L=X-10;L>=0;L--)if(v.charCodeAt(L)!==36)return!1;return!0}function g(v,X,L){var V=P(v.source,X.source);return V!==0||(V=v.originalLine-X.originalLine,V!==0)||(V=v.originalColumn-X.originalColumn,V!==0||L)||(V=v.generatedColumn-X.generatedColumn,V!==0)||(V=v.generatedLine-X.generatedLine,V!==0)?V:P(v.name,X.name)}t.compareByOriginalPositions=g;function y(v,X,L){var V=v.generatedLine-X.generatedLine;return V!==0||(V=v.generatedColumn-X.generatedColumn,V!==0||L)||(V=P(v.source,X.source),V!==0)||(V=v.originalLine-X.originalLine,V!==0)||(V=v.originalColumn-X.originalColumn,V!==0)?V:P(v.name,X.name)}t.compareByGeneratedPositionsDeflated=y;function P(v,X){return v===X?0:v===null?1:X===null?-1:v>X?1:-1}function Z(v,X){var L=v.generatedLine-X.generatedLine;return L!==0||(L=v.generatedColumn-X.generatedColumn,L!==0)||(L=P(v.source,X.source),L!==0)||(L=v.originalLine-X.originalLine,L!==0)||(L=v.originalColumn-X.originalColumn,L!==0)?L:P(v.name,X.name)}t.compareByGeneratedPositionsInflated=Z;function S(v){return JSON.parse(v.replace(/^\)]}'[^\n]*\n/,""))}t.parseSourceMapInput=S;function k(v,X,L){if(X=X||"",v&&(v[v.length-1]!=="/"&&X[0]!=="/"&&(v+="/"),X=v+X),L){var V=r(L);if(!V)throw new Error("sourceMapURL could not be parsed");if(V.path){var E=V.path.lastIndexOf("/");E>=0&&(V.path=V.path.substring(0,E+1))}X=o(i(V),X)}return a(X)}t.computeSourceURL=k})(Ny)),Ny}var Eo={},Ky;function kC(){if(Ky)return Eo;Ky=1;var t=Gi(),e=Object.prototype.hasOwnProperty,n=typeof Map<"u";function s(){this._array=[],this._set=n?new Map:Object.create(null)}return s.fromArray=function(r,i){for(var a=new s,o=0,u=r.length;o<u;o++)a.add(r[o],i);return a},s.prototype.size=function(){return n?this._set.size:Object.getOwnPropertyNames(this._set).length},s.prototype.add=function(r,i){var a=n?r:t.toSetString(r),o=n?this.has(r):e.call(this._set,a),u=this._array.length;(!o||i)&&this._array.push(r),o||(n?this._set.set(r,u):this._set[a]=u)},s.prototype.has=function(r){if(n)return this._set.has(r);var i=t.toSetString(r);return e.call(this._set,i)},s.prototype.indexOf=function(r){if(n){var i=this._set.get(r);if(i>=0)return i}else{var a=t.toSetString(r);if(e.call(this._set,a))return this._set[a]}throw new Error('"'+r+'" is not in the set.')},s.prototype.at=function(r){if(r>=0&&r<this._array.length)return this._array[r];throw new Error("No element indexed by "+r)},s.prototype.toArray=function(){return this._array.slice()},Eo.ArraySet=s,Eo}var Wo={},Yy;function PF(){if(Yy)return Wo;Yy=1;var t=Gi();function e(s,r){var i=s.generatedLine,a=r.generatedLine,o=s.generatedColumn,u=r.generatedColumn;return a>i||a==i&&u>=o||t.compareByGeneratedPositionsInflated(s,r)<=0}function n(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return n.prototype.unsortedForEach=function(s,r){this._array.forEach(s,r)},n.prototype.add=function(s){e(this._last,s)?(this._last=s,this._array.push(s)):(this._sorted=!1,this._array.push(s))},n.prototype.toArray=function(){return this._sorted||(this._array.sort(t.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},Wo.MappingList=n,Wo}var Hy;function EC(){if(Hy)return ko;Hy=1;var t=LC(),e=Gi(),n=kC().ArraySet,s=PF().MappingList;function r(i){i||(i={}),this._file=e.getArg(i,"file",null),this._sourceRoot=e.getArg(i,"sourceRoot",null),this._skipValidation=e.getArg(i,"skipValidation",!1),this._sources=new n,this._names=new n,this._mappings=new s,this._sourcesContents=null}return r.prototype._version=3,r.fromSourceMap=function(i){var a=i.sourceRoot,o=new r({file:i.file,sourceRoot:a});return i.eachMapping(function(u){var c={generated:{line:u.generatedLine,column:u.generatedColumn}};u.source!=null&&(c.source=u.source,a!=null&&(c.source=e.relative(a,c.source)),c.original={line:u.originalLine,column:u.originalColumn},u.name!=null&&(c.name=u.name)),o.addMapping(c)}),i.sources.forEach(function(u){var c=u;a!==null&&(c=e.relative(a,u)),o._sources.has(c)||o._sources.add(c);var l=i.sourceContentFor(u);l!=null&&o.setSourceContent(u,l)}),o},r.prototype.addMapping=function(i){var a=e.getArg(i,"generated"),o=e.getArg(i,"original",null),u=e.getArg(i,"source",null),c=e.getArg(i,"name",null);this._skipValidation||this._validateMapping(a,o,u,c),u!=null&&(u=String(u),this._sources.has(u)||this._sources.add(u)),c!=null&&(c=String(c),this._names.has(c)||this._names.add(c)),this._mappings.add({generatedLine:a.line,generatedColumn:a.column,originalLine:o!=null&&o.line,originalColumn:o!=null&&o.column,source:u,name:c})},r.prototype.setSourceContent=function(i,a){var o=i;this._sourceRoot!=null&&(o=e.relative(this._sourceRoot,o)),a!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[e.toSetString(o)]=a):this._sourcesContents&&(delete this._sourcesContents[e.toSetString(o)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},r.prototype.applySourceMap=function(i,a,o){var u=a;if(a==null){if(i.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);u=i.file}var c=this._sourceRoot;c!=null&&(u=e.relative(c,u));var l=new n,d=new n;this._mappings.unsortedForEach(function(m){if(m.source===u&&m.originalLine!=null){var f=i.originalPositionFor({line:m.originalLine,column:m.originalColumn});f.source!=null&&(m.source=f.source,o!=null&&(m.source=e.join(o,m.source)),c!=null&&(m.source=e.relative(c,m.source)),m.originalLine=f.line,m.originalColumn=f.column,f.name!=null&&(m.name=f.name))}var g=m.source;g!=null&&!l.has(g)&&l.add(g);var y=m.name;y!=null&&!d.has(y)&&d.add(y)},this),this._sources=l,this._names=d,i.sources.forEach(function(m){var f=i.sourceContentFor(m);f!=null&&(o!=null&&(m=e.join(o,m)),c!=null&&(m=e.relative(c,m)),this.setSourceContent(m,f))},this)},r.prototype._validateMapping=function(i,a,o,u){if(a&&typeof a.line!="number"&&typeof a.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(i&&"line"in i&&"column"in i&&i.line>0&&i.column>=0&&!a&&!o&&!u)){if(i&&"line"in i&&"column"in i&&a&&"line"in a&&"column"in a&&i.line>0&&i.column>=0&&a.line>0&&a.column>=0&&o)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:i,source:o,original:a,name:u}))}},r.prototype._serializeMappings=function(){for(var i=0,a=1,o=0,u=0,c=0,l=0,d="",m,f,g,y,P=this._mappings.toArray(),Z=0,S=P.length;Z<S;Z++){if(f=P[Z],m="",f.generatedLine!==a)for(i=0;f.generatedLine!==a;)m+=";",a++;else if(Z>0){if(!e.compareByGeneratedPositionsInflated(f,P[Z-1]))continue;m+=","}m+=t.encode(f.generatedColumn-i),i=f.generatedColumn,f.source!=null&&(y=this._sources.indexOf(f.source),m+=t.encode(y-l),l=y,m+=t.encode(f.originalLine-1-u),u=f.originalLine-1,m+=t.encode(f.originalColumn-o),o=f.originalColumn,f.name!=null&&(g=this._names.indexOf(f.name),m+=t.encode(g-c),c=g)),d+=m}return d},r.prototype._generateSourcesContent=function(i,a){return i.map(function(o){if(!this._sourcesContents)return null;a!=null&&(o=e.relative(a,o));var u=e.toSetString(o);return Object.prototype.hasOwnProperty.call(this._sourcesContents,u)?this._sourcesContents[u]:null},this)},r.prototype.toJSON=function(){var i={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(i.file=this._file),this._sourceRoot!=null&&(i.sourceRoot=this._sourceRoot),this._sourcesContents&&(i.sourcesContent=this._generateSourcesContent(i.sources,i.sourceRoot)),i},r.prototype.toString=function(){return JSON.stringify(this.toJSON())},ko.SourceMapGenerator=r,ko}var Yr={},jy={},Jy;function GF(){return Jy||(Jy=1,(function(t){t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2;function e(n,s,r,i,a,o){var u=Math.floor((s-n)/2)+n,c=a(r,i[u],!0);return c===0?u:c>0?s-u>1?e(u,s,r,i,a,o):o==t.LEAST_UPPER_BOUND?s<i.length?s:-1:u:u-n>1?e(n,u,r,i,a,o):o==t.LEAST_UPPER_BOUND?u:n<0?-1:n}t.search=function(n,s,r,i){if(s.length===0)return-1;var a=e(-1,s.length,n,s,r,i||t.GREATEST_LOWER_BOUND);if(a<0)return-1;for(;a-1>=0&&r(s[a],s[a-1],!0)===0;)--a;return a}})(jy)),jy}var zo={},_y;function XF(){if(_y)return zo;_y=1;function t(s,r,i){var a=s[r];s[r]=s[i],s[i]=a}function e(s,r){return Math.round(s+Math.random()*(r-s))}function n(s,r,i,a){if(i<a){var o=e(i,a),u=i-1;t(s,o,a);for(var c=s[a],l=i;l<a;l++)r(s[l],c)<=0&&(u+=1,t(s,u,l));t(s,u+1,l);var d=u+1;n(s,r,i,d-1),n(s,r,d+1,a)}}return zo.quickSort=function(s,r){n(s,r,0,s.length-1)},zo}var Uy;function ZF(){if(Uy)return Yr;Uy=1;var t=Gi(),e=GF(),n=kC().ArraySet,s=LC(),r=XF().quickSort;function i(c,l){var d=c;return typeof c=="string"&&(d=t.parseSourceMapInput(c)),d.sections!=null?new u(d,l):new a(d,l)}i.fromSourceMap=function(c,l){return a.fromSourceMap(c,l)},i.prototype._version=3,i.prototype.__generatedMappings=null,Object.defineProperty(i.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),i.prototype.__originalMappings=null,Object.defineProperty(i.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),i.prototype._charIsMappingSeparator=function(c,l){var d=c.charAt(l);return d===";"||d===","},i.prototype._parseMappings=function(c,l){throw new Error("Subclasses must implement _parseMappings")},i.GENERATED_ORDER=1,i.ORIGINAL_ORDER=2,i.GREATEST_LOWER_BOUND=1,i.LEAST_UPPER_BOUND=2,i.prototype.eachMapping=function(c,l,d){var m=l||null,f=d||i.GENERATED_ORDER,g;switch(f){case i.GENERATED_ORDER:g=this._generatedMappings;break;case i.ORIGINAL_ORDER:g=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var y=this.sourceRoot;g.map(function(P){var Z=P.source===null?null:this._sources.at(P.source);return Z=t.computeSourceURL(y,Z,this._sourceMapURL),{source:Z,generatedLine:P.generatedLine,generatedColumn:P.generatedColumn,originalLine:P.originalLine,originalColumn:P.originalColumn,name:P.name===null?null:this._names.at(P.name)}},this).forEach(c,m)},i.prototype.allGeneratedPositionsFor=function(c){var l=t.getArg(c,"line"),d={source:t.getArg(c,"source"),originalLine:l,originalColumn:t.getArg(c,"column",0)};if(d.source=this._findSourceIndex(d.source),d.source<0)return[];var m=[],f=this._findMapping(d,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,e.LEAST_UPPER_BOUND);if(f>=0){var g=this._originalMappings[f];if(c.column===void 0)for(var y=g.originalLine;g&&g.originalLine===y;)m.push({line:t.getArg(g,"generatedLine",null),column:t.getArg(g,"generatedColumn",null),lastColumn:t.getArg(g,"lastGeneratedColumn",null)}),g=this._originalMappings[++f];else for(var P=g.originalColumn;g&&g.originalLine===l&&g.originalColumn==P;)m.push({line:t.getArg(g,"generatedLine",null),column:t.getArg(g,"generatedColumn",null),lastColumn:t.getArg(g,"lastGeneratedColumn",null)}),g=this._originalMappings[++f]}return m},Yr.SourceMapConsumer=i;function a(c,l){var d=c;typeof c=="string"&&(d=t.parseSourceMapInput(c));var m=t.getArg(d,"version"),f=t.getArg(d,"sources"),g=t.getArg(d,"names",[]),y=t.getArg(d,"sourceRoot",null),P=t.getArg(d,"sourcesContent",null),Z=t.getArg(d,"mappings"),S=t.getArg(d,"file",null);if(m!=this._version)throw new Error("Unsupported version: "+m);y&&(y=t.normalize(y)),f=f.map(String).map(t.normalize).map(function(k){return y&&t.isAbsolute(y)&&t.isAbsolute(k)?t.relative(y,k):k}),this._names=n.fromArray(g.map(String),!0),this._sources=n.fromArray(f,!0),this._absoluteSources=this._sources.toArray().map(function(k){return t.computeSourceURL(y,k,l)}),this.sourceRoot=y,this.sourcesContent=P,this._mappings=Z,this._sourceMapURL=l,this.file=S}a.prototype=Object.create(i.prototype),a.prototype.consumer=i,a.prototype._findSourceIndex=function(c){var l=c;if(this.sourceRoot!=null&&(l=t.relative(this.sourceRoot,l)),this._sources.has(l))return this._sources.indexOf(l);var d;for(d=0;d<this._absoluteSources.length;++d)if(this._absoluteSources[d]==c)return d;return-1},a.fromSourceMap=function(c,l){var d=Object.create(a.prototype),m=d._names=n.fromArray(c._names.toArray(),!0),f=d._sources=n.fromArray(c._sources.toArray(),!0);d.sourceRoot=c._sourceRoot,d.sourcesContent=c._generateSourcesContent(d._sources.toArray(),d.sourceRoot),d.file=c._file,d._sourceMapURL=l,d._absoluteSources=d._sources.toArray().map(function(X){return t.computeSourceURL(d.sourceRoot,X,l)});for(var g=c._mappings.toArray().slice(),y=d.__generatedMappings=[],P=d.__originalMappings=[],Z=0,S=g.length;Z<S;Z++){var k=g[Z],v=new o;v.generatedLine=k.generatedLine,v.generatedColumn=k.generatedColumn,k.source&&(v.source=f.indexOf(k.source),v.originalLine=k.originalLine,v.originalColumn=k.originalColumn,k.name&&(v.name=m.indexOf(k.name)),P.push(v)),y.push(v)}return r(d.__originalMappings,t.compareByOriginalPositions),d},a.prototype._version=3,Object.defineProperty(a.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function o(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}a.prototype._parseMappings=function(c,l){for(var d=1,m=0,f=0,g=0,y=0,P=0,Z=c.length,S=0,k={},v={},X=[],L=[],V,E,I,R,J;S<Z;)if(c.charAt(S)===";")d++,S++,m=0;else if(c.charAt(S)===",")S++;else{for(V=new o,V.generatedLine=d,R=S;R<Z&&!this._charIsMappingSeparator(c,R);R++);if(E=c.slice(S,R),I=k[E],I)S+=E.length;else{for(I=[];S<R;)s.decode(c,S,v),J=v.value,S=v.rest,I.push(J);if(I.length===2)throw new Error("Found a source, but no line and column");if(I.length===3)throw new Error("Found a source and line, but no column");k[E]=I}V.generatedColumn=m+I[0],m=V.generatedColumn,I.length>1&&(V.source=y+I[1],y+=I[1],V.originalLine=f+I[2],f=V.originalLine,V.originalLine+=1,V.originalColumn=g+I[3],g=V.originalColumn,I.length>4&&(V.name=P+I[4],P+=I[4])),L.push(V),typeof V.originalLine=="number"&&X.push(V)}r(L,t.compareByGeneratedPositionsDeflated),this.__generatedMappings=L,r(X,t.compareByOriginalPositions),this.__originalMappings=X},a.prototype._findMapping=function(c,l,d,m,f,g){if(c[d]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+c[d]);if(c[m]<0)throw new TypeError("Column must be greater than or equal to 0, got "+c[m]);return e.search(c,l,f,g)},a.prototype.computeColumnSpans=function(){for(var c=0;c<this._generatedMappings.length;++c){var l=this._generatedMappings[c];if(c+1<this._generatedMappings.length){var d=this._generatedMappings[c+1];if(l.generatedLine===d.generatedLine){l.lastGeneratedColumn=d.generatedColumn-1;continue}}l.lastGeneratedColumn=1/0}},a.prototype.originalPositionFor=function(c){var l={generatedLine:t.getArg(c,"line"),generatedColumn:t.getArg(c,"column")},d=this._findMapping(l,this._generatedMappings,"generatedLine","generatedColumn",t.compareByGeneratedPositionsDeflated,t.getArg(c,"bias",i.GREATEST_LOWER_BOUND));if(d>=0){var m=this._generatedMappings[d];if(m.generatedLine===l.generatedLine){var f=t.getArg(m,"source",null);f!==null&&(f=this._sources.at(f),f=t.computeSourceURL(this.sourceRoot,f,this._sourceMapURL));var g=t.getArg(m,"name",null);return g!==null&&(g=this._names.at(g)),{source:f,line:t.getArg(m,"originalLine",null),column:t.getArg(m,"originalColumn",null),name:g}}}return{source:null,line:null,column:null,name:null}},a.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(c){return c==null}):!1},a.prototype.sourceContentFor=function(c,l){if(!this.sourcesContent)return null;var d=this._findSourceIndex(c);if(d>=0)return this.sourcesContent[d];var m=c;this.sourceRoot!=null&&(m=t.relative(this.sourceRoot,m));var f;if(this.sourceRoot!=null&&(f=t.urlParse(this.sourceRoot))){var g=m.replace(/^file:\/\//,"");if(f.scheme=="file"&&this._sources.has(g))return this.sourcesContent[this._sources.indexOf(g)];if((!f.path||f.path=="/")&&this._sources.has("/"+m))return this.sourcesContent[this._sources.indexOf("/"+m)]}if(l)return null;throw new Error('"'+m+'" is not in the SourceMap.')},a.prototype.generatedPositionFor=function(c){var l=t.getArg(c,"source");if(l=this._findSourceIndex(l),l<0)return{line:null,column:null,lastColumn:null};var d={source:l,originalLine:t.getArg(c,"line"),originalColumn:t.getArg(c,"column")},m=this._findMapping(d,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,t.getArg(c,"bias",i.GREATEST_LOWER_BOUND));if(m>=0){var f=this._originalMappings[m];if(f.source===d.source)return{line:t.getArg(f,"generatedLine",null),column:t.getArg(f,"generatedColumn",null),lastColumn:t.getArg(f,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},Yr.BasicSourceMapConsumer=a;function u(c,l){var d=c;typeof c=="string"&&(d=t.parseSourceMapInput(c));var m=t.getArg(d,"version"),f=t.getArg(d,"sections");if(m!=this._version)throw new Error("Unsupported version: "+m);this._sources=new n,this._names=new n;var g={line:-1,column:0};this._sections=f.map(function(y){if(y.url)throw new Error("Support for url field in sections not implemented.");var P=t.getArg(y,"offset"),Z=t.getArg(P,"line"),S=t.getArg(P,"column");if(Z<g.line||Z===g.line&&S<g.column)throw new Error("Section offsets must be ordered and non-overlapping.");return g=P,{generatedOffset:{generatedLine:Z+1,generatedColumn:S+1},consumer:new i(t.getArg(y,"map"),l)}})}return u.prototype=Object.create(i.prototype),u.prototype.constructor=i,u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){for(var c=[],l=0;l<this._sections.length;l++)for(var d=0;d<this._sections[l].consumer.sources.length;d++)c.push(this._sections[l].consumer.sources[d]);return c}}),u.prototype.originalPositionFor=function(c){var l={generatedLine:t.getArg(c,"line"),generatedColumn:t.getArg(c,"column")},d=e.search(l,this._sections,function(f,g){var y=f.generatedLine-g.generatedOffset.generatedLine;return y||f.generatedColumn-g.generatedOffset.generatedColumn}),m=this._sections[d];return m?m.consumer.originalPositionFor({line:l.generatedLine-(m.generatedOffset.generatedLine-1),column:l.generatedColumn-(m.generatedOffset.generatedLine===l.generatedLine?m.generatedOffset.generatedColumn-1:0),bias:c.bias}):{source:null,line:null,column:null,name:null}},u.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(c){return c.consumer.hasContentsOfAllSources()})},u.prototype.sourceContentFor=function(c,l){for(var d=0;d<this._sections.length;d++){var m=this._sections[d],f=m.consumer.sourceContentFor(c,!0);if(f)return f}if(l)return null;throw new Error('"'+c+'" is not in the SourceMap.')},u.prototype.generatedPositionFor=function(c){for(var l=0;l<this._sections.length;l++){var d=this._sections[l];if(d.consumer._findSourceIndex(t.getArg(c,"source"))!==-1){var m=d.consumer.generatedPositionFor(c);if(m){var f={line:m.line+(d.generatedOffset.generatedLine-1),column:m.column+(d.generatedOffset.generatedLine===m.line?d.generatedOffset.generatedColumn-1:0)};return f}}}return{line:null,column:null}},u.prototype._parseMappings=function(c,l){this.__generatedMappings=[],this.__originalMappings=[];for(var d=0;d<this._sections.length;d++)for(var m=this._sections[d],f=m.consumer._generatedMappings,g=0;g<f.length;g++){var y=f[g],P=m.consumer._sources.at(y.source);P=t.computeSourceURL(m.consumer.sourceRoot,P,this._sourceMapURL),this._sources.add(P),P=this._sources.indexOf(P);var Z=null;y.name&&(Z=m.consumer._names.at(y.name),this._names.add(Z),Z=this._names.indexOf(Z));var S={source:P,generatedLine:y.generatedLine+(m.generatedOffset.generatedLine-1),generatedColumn:y.generatedColumn+(m.generatedOffset.generatedLine===y.generatedLine?m.generatedOffset.generatedColumn-1:0),originalLine:y.originalLine,originalColumn:y.originalColumn,name:Z};this.__generatedMappings.push(S),typeof S.originalLine=="number"&&this.__originalMappings.push(S)}r(this.__generatedMappings,t.compareByGeneratedPositionsDeflated),r(this.__originalMappings,t.compareByOriginalPositions)},Yr.IndexedSourceMapConsumer=u,Yr}var Ro={},Oy;function vF(){if(Oy)return Ro;Oy=1;var t=EC().SourceMapGenerator,e=Gi(),n=/(\r?\n)/,s=10,r="$$$isSourceNode$$$";function i(a,o,u,c,l){this.children=[],this.sourceContents={},this.line=a??null,this.column=o??null,this.source=u??null,this.name=l??null,this[r]=!0,c!=null&&this.add(c)}return i.fromStringWithSourceMap=function(a,o,u){var c=new i,l=a.split(n),d=0,m=function(){var Z=k(),S=k()||"";return Z+S;function k(){return d<l.length?l[d++]:void 0}},f=1,g=0,y=null;return o.eachMapping(function(Z){if(y!==null)if(f<Z.generatedLine)P(y,m()),f++,g=0;else{var S=l[d]||"",k=S.substr(0,Z.generatedColumn-g);l[d]=S.substr(Z.generatedColumn-g),g=Z.generatedColumn,P(y,k),y=Z;return}for(;f<Z.generatedLine;)c.add(m()),f++;if(g<Z.generatedColumn){var S=l[d]||"";c.add(S.substr(0,Z.generatedColumn)),l[d]=S.substr(Z.generatedColumn),g=Z.generatedColumn}y=Z},this),d<l.length&&(y&&P(y,m()),c.add(l.splice(d).join(""))),o.sources.forEach(function(Z){var S=o.sourceContentFor(Z);S!=null&&(u!=null&&(Z=e.join(u,Z)),c.setSourceContent(Z,S))}),c;function P(Z,S){if(Z===null||Z.source===void 0)c.add(S);else{var k=u?e.join(u,Z.source):Z.source;c.add(new i(Z.originalLine,Z.originalColumn,k,S,Z.name))}}},i.prototype.add=function(a){if(Array.isArray(a))a.forEach(function(o){this.add(o)},this);else if(a[r]||typeof a=="string")a&&this.children.push(a);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+a);return this},i.prototype.prepend=function(a){if(Array.isArray(a))for(var o=a.length-1;o>=0;o--)this.prepend(a[o]);else if(a[r]||typeof a=="string")this.children.unshift(a);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+a);return this},i.prototype.walk=function(a){for(var o,u=0,c=this.children.length;u<c;u++)o=this.children[u],o[r]?o.walk(a):o!==""&&a(o,{source:this.source,line:this.line,column:this.column,name:this.name})},i.prototype.join=function(a){var o,u,c=this.children.length;if(c>0){for(o=[],u=0;u<c-1;u++)o.push(this.children[u]),o.push(a);o.push(this.children[u]),this.children=o}return this},i.prototype.replaceRight=function(a,o){var u=this.children[this.children.length-1];return u[r]?u.replaceRight(a,o):typeof u=="string"?this.children[this.children.length-1]=u.replace(a,o):this.children.push("".replace(a,o)),this},i.prototype.setSourceContent=function(a,o){this.sourceContents[e.toSetString(a)]=o},i.prototype.walkSourceContents=function(a){for(var o=0,u=this.children.length;o<u;o++)this.children[o][r]&&this.children[o].walkSourceContents(a);for(var c=Object.keys(this.sourceContents),o=0,u=c.length;o<u;o++)a(e.fromSetString(c[o]),this.sourceContents[c[o]])},i.prototype.toString=function(){var a="";return this.walk(function(o){a+=o}),a},i.prototype.toStringWithSourceMap=function(a){var o={code:"",line:1,column:0},u=new t(a),c=!1,l=null,d=null,m=null,f=null;return this.walk(function(g,y){o.code+=g,y.source!==null&&y.line!==null&&y.column!==null?((l!==y.source||d!==y.line||m!==y.column||f!==y.name)&&u.addMapping({source:y.source,original:{line:y.line,column:y.column},generated:{line:o.line,column:o.column},name:y.name}),l=y.source,d=y.line,m=y.column,f=y.name,c=!0):c&&(u.addMapping({generated:{line:o.line,column:o.column}}),l=null,c=!1);for(var P=0,Z=g.length;P<Z;P++)g.charCodeAt(P)===s?(o.line++,o.column=0,P+1===Z?(l=null,c=!1):c&&u.addMapping({source:y.source,original:{line:y.line,column:y.column},generated:{line:o.line,column:o.column},name:y.name})):o.column++}),this.walkSourceContents(function(g,y){u.setSourceContent(g,y)}),{code:o.code,map:u}},Ro.SourceNode=i,Ro}var Qy;function wF(){return Qy||(Qy=1,Wi.SourceMapGenerator=EC().SourceMapGenerator,Wi.SourceMapConsumer=ZF().SourceMapConsumer,Wi.SourceNode=vF().SourceNode),Wi}const FF="2.1.0",DF={version:FF};var qy;function AF(){return qy||(qy=1,(function(t){(function(){var e,n,s,r,i,a,o,u,c,l,d,m,f,g,y,P,Z,S,k,v,X,L,V,E,I,R;i=bF(),a=CF(),e=i.Syntax;function J(h){return Yt.Expression.hasOwnProperty(h.type)}function W(h){return Yt.Statement.hasOwnProperty(h.type)}n={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,Coalesce:3,LogicalOR:4,LogicalAND:5,BitwiseOR:6,BitwiseXOR:7,BitwiseAND:8,Equality:9,Relational:10,BitwiseSHIFT:11,Additive:12,Multiplicative:13,Exponentiation:14,Await:15,Unary:15,Postfix:16,OptionalChaining:17,Call:18,New:19,TaggedTemplate:20,Member:21,Primary:22},s={"??":n.Coalesce,"||":n.LogicalOR,"&&":n.LogicalAND,"|":n.BitwiseOR,"^":n.BitwiseXOR,"&":n.BitwiseAND,"==":n.Equality,"!=":n.Equality,"===":n.Equality,"!==":n.Equality,is:n.Equality,isnt:n.Equality,"<":n.Relational,">":n.Relational,"<=":n.Relational,">=":n.Relational,in:n.Relational,instanceof:n.Relational,"<<":n.BitwiseSHIFT,">>":n.BitwiseSHIFT,">>>":n.BitwiseSHIFT,"+":n.Additive,"-":n.Additive,"*":n.Multiplicative,"%":n.Multiplicative,"/":n.Multiplicative,"**":n.Exponentiation};var Y=1,tt=2,ct=4,Q=8,nt=16,q=32,xt=64,st=tt|ct,dt=Y|tt,H=Y|tt|ct,gt=Y,Kt=ct,Ut=Y|ct,vt=Y,Bt=Y|q,ot=0,Ft=Y|nt,oe=Y|Q;function ae(){return{indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:`
`,space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null}}function Xt(h,M){var b="";for(M|=0;M>0;M>>>=1,h+=h)M&1&&(b+=h);return b}function ze(h){return/[\r\n]/g.test(h)}function Tt(h){var M=h.length;return M&&a.code.isLineTerminator(h.charCodeAt(M-1))}function Je(h,M){var b;for(b in M)M.hasOwnProperty(b)&&(h[b]=M[b]);return h}function Xe(h,M){var b,C;function w(z){return typeof z=="object"&&z instanceof Object&&!(z instanceof RegExp)}for(b in M)M.hasOwnProperty(b)&&(C=M[b],w(C)?w(h[b])?Xe(h[b],C):h[b]=Xe({},C):h[b]=C);return h}function re(h){var M,b,C,w,z;if(h!==h)throw new Error("Numeric literal whose value is NaN");if(h<0||h===0&&1/h<0)throw new Error("Numeric literal whose value is negative");if(h===1/0)return c?"null":l?"1e400":"1e+400";if(M=""+h,!l||M.length<3)return M;for(b=M.indexOf("."),!c&&M.charCodeAt(0)===48&&b===1&&(b=0,M=M.slice(1)),C=M,M=M.replace("e+","e"),w=0,(z=C.indexOf("e"))>0&&(w=+C.slice(z+1),C=C.slice(0,z)),b>=0&&(w-=C.length-b-1,C=+(C.slice(0,b)+C.slice(b+1))+""),z=0;C.charCodeAt(C.length+z-1)===48;)--z;return z!==0&&(w-=z,C=C.slice(0,z)),w!==0&&(C+="e"+w),(C.length<M.length||d&&h>1e12&&Math.floor(h)===h&&(C="0x"+h.toString(16)).length<M.length)&&+C===h&&(M=C),M}function Ze(h,M){return(h&-2)===8232?(M?"u":"\\u")+(h===8232?"2028":"2029"):h===10||h===13?(M?"":"\\")+(h===10?"n":"r"):String.fromCharCode(h)}function be(h){var M,b,C,w,z,T,K,$;if(b=h.toString(),h.source){if(M=b.match(/\/([^/]*)$/),!M)return b;for(C=M[1],b="",K=!1,$=!1,w=0,z=h.source.length;w<z;++w)T=h.source.charCodeAt(w),$?(b+=Ze(T,$),$=!1):(K?T===93&&(K=!1):T===47?b+="\\":T===91&&(K=!0),b+=Ze(T,$),$=T===92);return"/"+b+"/"+C}return b}function Ae(h,M){var b;return h===8?"\\b":h===12?"\\f":h===9?"\\t":(b=h.toString(16).toUpperCase(),c||h>255?"\\u"+"0000".slice(b.length)+b:h===0&&!a.code.isDecimalDigit(M)?"\\0":h===11?"\\x0B":"\\x"+"00".slice(b.length)+b)}function ge(h){if(h===92)return"\\\\";if(h===10)return"\\n";if(h===13)return"\\r";if(h===8232)return"\\u2028";if(h===8233)return"\\u2029";throw new Error("Incorrectly classified character")}function Se(h){var M,b,C,w;for(w=m==="double"?'"':"'",M=0,b=h.length;M<b;++M)if(C=h.charCodeAt(M),C===39){w='"';break}else if(C===34){w="'";break}else C===92&&++M;return w+h+w}function Ot(h){var M="",b,C,w,z=0,T=0,K,$;for(b=0,C=h.length;b<C;++b){if(w=h.charCodeAt(b),w===39)++z;else if(w===34)++T;else if(w===47&&c)M+="\\";else if(a.code.isLineTerminator(w)||w===92){M+=ge(w);continue}else if(!a.code.isIdentifierPartES5(w)&&(c&&w<32||!c&&!f&&(w<32||w>126))){M+=Ae(w,h.charCodeAt(b+1));continue}M+=String.fromCharCode(w)}if(K=!(m==="double"||m==="auto"&&T<z),$=K?"'":'"',!(K?z:T))return $+M+$;for(h=M,M=$,b=0,C=h.length;b<C;++b)w=h.charCodeAt(b),(w===39&&K||w===34&&!K)&&(M+="\\"),M+=String.fromCharCode(w);return M+$}function Re(h){var M,b,C,w="";for(M=0,b=h.length;M<b;++M)C=h[M],w+=Array.isArray(C)?Re(C):C;return w}function Pt(h,M){if(!L)return Array.isArray(h)?Re(h):h;if(M==null){if(h instanceof r)return h;M={}}return M.loc==null?new r(null,null,L,h,M.name||null):new r(M.loc.start.line,M.loc.start.column,L===!0?M.loc.source||null:L,h,M.name||null)}function Nt(){return y||" "}function it(h,M){var b,C,w,z;return b=Pt(h).toString(),b.length===0?[M]:(C=Pt(M).toString(),C.length===0?[h]:(w=b.charCodeAt(b.length-1),z=C.charCodeAt(0),(w===43||w===45)&&w===z||a.code.isIdentifierPartES5(w)&&a.code.isIdentifierPartES5(z)||w===47&&z===105?[h,Nt(),M]:a.code.isWhiteSpace(w)||a.code.isLineTerminator(w)||a.code.isWhiteSpace(z)||a.code.isLineTerminator(z)?[h,M]:[h,y,M]))}function It(h){return[o,h]}function Wt(h){var M;M=o,o+=u,h(o),o=M}function Be(h){var M;for(M=h.length-1;M>=0&&!a.code.isLineTerminator(h.charCodeAt(M));--M);return h.length-1-M}function _e(h,M){var b,C,w,z,T,K,$,Mt;for(b=h.split(/\r\n|[\r\n]/),K=Number.MAX_VALUE,C=1,w=b.length;C<w;++C){for(z=b[C],T=0;T<z.length&&a.code.isWhiteSpace(z.charCodeAt(T));)++T;K>T&&(K=T)}for(typeof M<"u"?($=o,b[1][K]==="*"&&(M+=" "),o=M):(K&1&&--K,$=o),C=1,w=b.length;C<w;++C)Mt=Pt(It(b[C].slice(K))),b[C]=L?Mt.join(""):Mt;return o=$,b.join(`
`)}function Me(h,M){if(h.type==="Line"){if(Tt(h.value))return"//"+h.value;var b="//"+h.value;return E||(b+=`
`),b}return v.format.indent.adjustMultilineComment&&/[\n\r]/.test(h.value)?_e("/*"+h.value+"*/",M):"/*"+h.value+"*/"}function rs(h,M){var b,C,w,z,T,K,$,Mt,Et,ce,ht,Ne,ve,de;if(h.leadingComments&&h.leadingComments.length>0){if(z=M,E){for(w=h.leadingComments[0],M=[],Mt=w.extendedRange,Et=w.range,ht=V.substring(Mt[0],Et[0]),de=(ht.match(/\n/g)||[]).length,de>0?(M.push(Xt(`
`,de)),M.push(It(Me(w)))):(M.push(ht),M.push(Me(w))),ce=Et,b=1,C=h.leadingComments.length;b<C;b++)w=h.leadingComments[b],Et=w.range,Ne=V.substring(ce[1],Et[0]),de=(Ne.match(/\n/g)||[]).length,M.push(Xt(`
`,de)),M.push(It(Me(w))),ce=Et;ve=V.substring(Et[1],Mt[1]),de=(ve.match(/\n/g)||[]).length,M.push(Xt(`
`,de))}else for(w=h.leadingComments[0],M=[],S&&h.type===e.Program&&h.body.length===0&&M.push(`
`),M.push(Me(w)),Tt(Pt(M).toString())||M.push(`
`),b=1,C=h.leadingComments.length;b<C;++b)w=h.leadingComments[b],$=[Me(w)],Tt(Pt($).toString())||$.push(`
`),M.push(It($));M.push(It(z))}if(h.trailingComments)if(E)w=h.trailingComments[0],Mt=w.extendedRange,Et=w.range,ht=V.substring(Mt[0],Et[0]),de=(ht.match(/\n/g)||[]).length,de>0?(M.push(Xt(`
`,de)),M.push(It(Me(w)))):(M.push(ht),M.push(Me(w)));else for(T=!Tt(Pt(M).toString()),K=Xt(" ",Be(Pt([o,M,u]).toString())),b=0,C=h.trailingComments.length;b<C;++b)w=h.trailingComments[b],T?(b===0?M=[M,u]:M=[M,K],M.push(Me(w,K))):M=[M,It(Me(w))],b!==C-1&&!Tt(Pt(M).toString())&&(M=[M,`
`]);return M}function en(h,M,b){var C,w=0;for(C=h;C<M;C++)V[C]===`
`&&w++;for(C=1;C<w;C++)b.push(g)}function _t(h,M,b){return M<b?["(",h,")"]:h}function is(h){var M,b,C;for(C=h.split(/\r\n|\n/),M=1,b=C.length;M<b;M++)C[M]=g+o+C[M];return C}function yn(h,M){var b,C,w;return b=h[v.verbatim],typeof b=="string"?C=_t(is(b),n.Sequence,M):(C=is(b.content),w=b.precedence!=null?b.precedence:n.Sequence,C=_t(C,w,M)),Pt(C,h)}function Yt(){}Yt.prototype.maybeBlock=function(h,M){var b,C,w=this;return C=!v.comment||!h.leadingComments,h.type===e.BlockStatement&&C?[y,this.generateStatement(h,M)]:h.type===e.EmptyStatement&&C?";":(Wt(function(){b=[g,It(w.generateStatement(h,M))]}),b)},Yt.prototype.maybeBlockSuffix=function(h,M){var b=Tt(Pt(M).toString());return h.type===e.BlockStatement&&(!v.comment||!h.leadingComments)&&!b?[M,y]:b?[M,o]:[M,g,o]};function ue(h){return Pt(h.name,h)}function Ue(h,M){return h.async?"async"+(M?Nt():y):""}function Te(h){var M=h.generator&&!v.moz.starlessGenerator;return M?"*"+y:""}function An(h){var M=h.value,b="";return M.async&&(b+=Ue(M,!h.computed)),M.generator&&(b+=Te(M)?"*":""),b}Yt.prototype.generatePattern=function(h,M,b){return h.type===e.Identifier?ue(h):this.generateExpression(h,M,b)},Yt.prototype.generateFunctionParams=function(h){var M,b,C,w;if(w=!1,h.type===e.ArrowFunctionExpression&&!h.rest&&(!h.defaults||h.defaults.length===0)&&h.params.length===1&&h.params[0].type===e.Identifier)C=[Ue(h,!0),ue(h.params[0])];else{for(C=h.type===e.ArrowFunctionExpression?[Ue(h,!1)]:[],C.push("("),h.defaults&&(w=!0),M=0,b=h.params.length;M<b;++M)w&&h.defaults[M]?C.push(this.generateAssignment(h.params[M],h.defaults[M],"=",n.Assignment,H)):C.push(this.generatePattern(h.params[M],n.Assignment,H)),M+1<b&&C.push(","+y);h.rest&&(h.params.length&&C.push(","+y),C.push("..."),C.push(ue(h.rest))),C.push(")")}return C},Yt.prototype.generateFunctionBody=function(h){var M,b;return M=this.generateFunctionParams(h),h.type===e.ArrowFunctionExpression&&(M.push(y),M.push("=>")),h.expression?(M.push(y),b=this.generateExpression(h.body,n.Assignment,H),b.toString().charAt(0)==="{"&&(b=["(",b,")"]),M.push(b)):M.push(this.maybeBlock(h.body,oe)),M},Yt.prototype.generateIterationForStatement=function(h,M,b){var C=["for"+(M.await?Nt()+"await":"")+y+"("],w=this;return Wt(function(){M.left.type===e.VariableDeclaration?Wt(function(){C.push(M.left.kind+Nt()),C.push(w.generateStatement(M.left.declarations[0],ot))}):C.push(w.generateExpression(M.left,n.Call,H)),C=it(C,h),C=[it(C,w.generateExpression(M.right,n.Assignment,H)),")"]}),C.push(this.maybeBlock(M.body,b)),C},Yt.prototype.generatePropertyKey=function(h,M){var b=[];return M&&b.push("["),b.push(this.generateExpression(h,n.Assignment,H)),M&&b.push("]"),b},Yt.prototype.generateAssignment=function(h,M,b,C,w){return n.Assignment<C&&(w|=Y),_t([this.generateExpression(h,n.Call,w),y+b+y,this.generateExpression(M,n.Assignment,w)],n.Assignment,C)},Yt.prototype.semicolon=function(h){return!Z&&h&q?"":";"},Yt.Statement={BlockStatement:function(h,M){var b,C,w=["{",g],z=this;return Wt(function(){h.body.length===0&&E&&(b=h.range,b[1]-b[0]>2&&(C=V.substring(b[0]+1,b[1]-1),C[0]===`
`&&(w=["{"]),w.push(C)));var T,K,$,Mt;for(Mt=vt,M&Q&&(Mt|=nt),T=0,K=h.body.length;T<K;++T)E&&(T===0&&(h.body[0].leadingComments&&(b=h.body[0].leadingComments[0].extendedRange,C=V.substring(b[0],b[1]),C[0]===`
`&&(w=["{"])),h.body[0].leadingComments||en(h.range[0],h.body[0].range[0],w)),T>0&&!h.body[T-1].trailingComments&&!h.body[T].leadingComments&&en(h.body[T-1].range[1],h.body[T].range[0],w)),T===K-1&&(Mt|=q),h.body[T].leadingComments&&E?$=z.generateStatement(h.body[T],Mt):$=It(z.generateStatement(h.body[T],Mt)),w.push($),Tt(Pt($).toString())||E&&T<K-1&&h.body[T+1].leadingComments||w.push(g),E&&T===K-1&&(h.body[T].trailingComments||en(h.body[T].range[1],h.range[1],w))}),w.push(It("}")),w},BreakStatement:function(h,M){return h.label?"break "+h.label.name+this.semicolon(M):"break"+this.semicolon(M)},ContinueStatement:function(h,M){return h.label?"continue "+h.label.name+this.semicolon(M):"continue"+this.semicolon(M)},ClassBody:function(h,M){var b=["{",g],C=this;return Wt(function(w){var z,T;for(z=0,T=h.body.length;z<T;++z)b.push(w),b.push(C.generateExpression(h.body[z],n.Sequence,H)),z+1<T&&b.push(g)}),Tt(Pt(b).toString())||b.push(g),b.push(o),b.push("}"),b},ClassDeclaration:function(h,M){var b,C;return b=["class"],h.id&&(b=it(b,this.generateExpression(h.id,n.Sequence,H))),h.superClass&&(C=it("extends",this.generateExpression(h.superClass,n.Unary,H)),b=it(b,C)),b.push(y),b.push(this.generateStatement(h.body,Bt)),b},DirectiveStatement:function(h,M){return v.raw&&h.raw?h.raw+this.semicolon(M):Se(h.directive)+this.semicolon(M)},DoWhileStatement:function(h,M){var b=it("do",this.maybeBlock(h.body,vt));return b=this.maybeBlockSuffix(h.body,b),it(b,["while"+y+"(",this.generateExpression(h.test,n.Sequence,H),")"+this.semicolon(M)])},CatchClause:function(h,M){var b,C=this;return Wt(function(){var w;h.param?(b=["catch"+y+"(",C.generateExpression(h.param,n.Sequence,H),")"],h.guard&&(w=C.generateExpression(h.guard,n.Sequence,H),b.splice(2,0," if ",w))):b=["catch"]}),b.push(this.maybeBlock(h.body,vt)),b},DebuggerStatement:function(h,M){return"debugger"+this.semicolon(M)},EmptyStatement:function(h,M){return";"},ExportDefaultDeclaration:function(h,M){var b=["export"],C;return C=M&q?Bt:vt,b=it(b,"default"),W(h.declaration)?b=it(b,this.generateStatement(h.declaration,C)):b=it(b,this.generateExpression(h.declaration,n.Assignment,H)+this.semicolon(M)),b},ExportNamedDeclaration:function(h,M){var b=["export"],C,w=this;return C=M&q?Bt:vt,h.declaration?it(b,this.generateStatement(h.declaration,C)):(h.specifiers&&(h.specifiers.length===0?b=it(b,"{"+y+"}"):h.specifiers[0].type===e.ExportBatchSpecifier?b=it(b,this.generateExpression(h.specifiers[0],n.Sequence,H)):(b=it(b,"{"),Wt(function(z){var T,K;for(b.push(g),T=0,K=h.specifiers.length;T<K;++T)b.push(z),b.push(w.generateExpression(h.specifiers[T],n.Sequence,H)),T+1<K&&b.push(","+g)}),Tt(Pt(b).toString())||b.push(g),b.push(o+"}")),h.source?b=it(b,["from"+y,this.generateExpression(h.source,n.Sequence,H),this.semicolon(M)]):b.push(this.semicolon(M))),b)},ExportAllDeclaration:function(h,M){return["export"+y,"*"+y,"from"+y,this.generateExpression(h.source,n.Sequence,H),this.semicolon(M)]},ExpressionStatement:function(h,M){var b,C;function w(K){var $;return K.slice(0,5)!=="class"?!1:($=K.charCodeAt(5),$===123||a.code.isWhiteSpace($)||a.code.isLineTerminator($))}function z(K){var $;return K.slice(0,8)!=="function"?!1:($=K.charCodeAt(8),$===40||a.code.isWhiteSpace($)||$===42||a.code.isLineTerminator($))}function T(K){var $,Mt,Et;if(K.slice(0,5)!=="async"||!a.code.isWhiteSpace(K.charCodeAt(5)))return!1;for(Mt=6,Et=K.length;Mt<Et&&a.code.isWhiteSpace(K.charCodeAt(Mt));++Mt);return Mt===Et||K.slice(Mt,Mt+8)!=="function"?!1:($=K.charCodeAt(Mt+8),$===40||a.code.isWhiteSpace($)||$===42||a.code.isLineTerminator($))}return b=[this.generateExpression(h.expression,n.Sequence,H)],C=Pt(b).toString(),C.charCodeAt(0)===123||w(C)||z(C)||T(C)||k&&M&nt&&h.expression.type===e.Literal&&typeof h.expression.value=="string"?b=["(",b,")"+this.semicolon(M)]:b.push(this.semicolon(M)),b},ImportDeclaration:function(h,M){var b,C,w=this;return h.specifiers.length===0?["import",y,this.generateExpression(h.source,n.Sequence,H),this.semicolon(M)]:(b=["import"],C=0,h.specifiers[C].type===e.ImportDefaultSpecifier&&(b=it(b,[this.generateExpression(h.specifiers[C],n.Sequence,H)]),++C),h.specifiers[C]&&(C!==0&&b.push(","),h.specifiers[C].type===e.ImportNamespaceSpecifier?b=it(b,[y,this.generateExpression(h.specifiers[C],n.Sequence,H)]):(b.push(y+"{"),h.specifiers.length-C===1?(b.push(y),b.push(this.generateExpression(h.specifiers[C],n.Sequence,H)),b.push(y+"}"+y)):(Wt(function(z){var T,K;for(b.push(g),T=C,K=h.specifiers.length;T<K;++T)b.push(z),b.push(w.generateExpression(h.specifiers[T],n.Sequence,H)),T+1<K&&b.push(","+g)}),Tt(Pt(b).toString())||b.push(g),b.push(o+"}"+y)))),b=it(b,["from"+y,this.generateExpression(h.source,n.Sequence,H),this.semicolon(M)]),b)},VariableDeclarator:function(h,M){var b=M&Y?H:st;return h.init?[this.generateExpression(h.id,n.Assignment,b),y,"=",y,this.generateExpression(h.init,n.Assignment,b)]:this.generatePattern(h.id,n.Assignment,b)},VariableDeclaration:function(h,M){var b,C,w,z,T,K=this;b=[h.kind],T=M&Y?vt:ot;function $(){for(z=h.declarations[0],v.comment&&z.leadingComments?(b.push(`
`),b.push(It(K.generateStatement(z,T)))):(b.push(Nt()),b.push(K.generateStatement(z,T))),C=1,w=h.declarations.length;C<w;++C)z=h.declarations[C],v.comment&&z.leadingComments?(b.push(","+g),b.push(It(K.generateStatement(z,T)))):(b.push(","+y),b.push(K.generateStatement(z,T)))}return h.declarations.length>1?Wt($):$(),b.push(this.semicolon(M)),b},ThrowStatement:function(h,M){return[it("throw",this.generateExpression(h.argument,n.Sequence,H)),this.semicolon(M)]},TryStatement:function(h,M){var b,C,w,z;if(b=["try",this.maybeBlock(h.block,vt)],b=this.maybeBlockSuffix(h.block,b),h.handlers)for(C=0,w=h.handlers.length;C<w;++C)b=it(b,this.generateStatement(h.handlers[C],vt)),(h.finalizer||C+1!==w)&&(b=this.maybeBlockSuffix(h.handlers[C].body,b));else{for(z=h.guardedHandlers||[],C=0,w=z.length;C<w;++C)b=it(b,this.generateStatement(z[C],vt)),(h.finalizer||C+1!==w)&&(b=this.maybeBlockSuffix(z[C].body,b));if(h.handler)if(Array.isArray(h.handler))for(C=0,w=h.handler.length;C<w;++C)b=it(b,this.generateStatement(h.handler[C],vt)),(h.finalizer||C+1!==w)&&(b=this.maybeBlockSuffix(h.handler[C].body,b));else b=it(b,this.generateStatement(h.handler,vt)),h.finalizer&&(b=this.maybeBlockSuffix(h.handler.body,b))}return h.finalizer&&(b=it(b,["finally",this.maybeBlock(h.finalizer,vt)])),b},SwitchStatement:function(h,M){var b,C,w,z,T,K=this;if(Wt(function(){b=["switch"+y+"(",K.generateExpression(h.discriminant,n.Sequence,H),")"+y+"{"+g]}),h.cases)for(T=vt,w=0,z=h.cases.length;w<z;++w)w===z-1&&(T|=q),C=It(this.generateStatement(h.cases[w],T)),b.push(C),Tt(Pt(C).toString())||b.push(g);return b.push(It("}")),b},SwitchCase:function(h,M){var b,C,w,z,T,K=this;return Wt(function(){for(h.test?b=[it("case",K.generateExpression(h.test,n.Sequence,H)),":"]:b=["default:"],w=0,z=h.consequent.length,z&&h.consequent[0].type===e.BlockStatement&&(C=K.maybeBlock(h.consequent[0],vt),b.push(C),w=1),w!==z&&!Tt(Pt(b).toString())&&b.push(g),T=vt;w<z;++w)w===z-1&&M&q&&(T|=q),C=It(K.generateStatement(h.consequent[w],T)),b.push(C),w+1!==z&&!Tt(Pt(C).toString())&&b.push(g)}),b},IfStatement:function(h,M){var b,C,w,z=this;return Wt(function(){b=["if"+y+"(",z.generateExpression(h.test,n.Sequence,H),")"]}),w=M&q,C=vt,w&&(C|=q),h.alternate?(b.push(this.maybeBlock(h.consequent,vt)),b=this.maybeBlockSuffix(h.consequent,b),h.alternate.type===e.IfStatement?b=it(b,["else ",this.generateStatement(h.alternate,C)]):b=it(b,it("else",this.maybeBlock(h.alternate,C)))):b.push(this.maybeBlock(h.consequent,C)),b},ForStatement:function(h,M){var b,C=this;return Wt(function(){b=["for"+y+"("],h.init?h.init.type===e.VariableDeclaration?b.push(C.generateStatement(h.init,ot)):(b.push(C.generateExpression(h.init,n.Sequence,st)),b.push(";")):b.push(";"),h.test&&(b.push(y),b.push(C.generateExpression(h.test,n.Sequence,H))),b.push(";"),h.update&&(b.push(y),b.push(C.generateExpression(h.update,n.Sequence,H))),b.push(")")}),b.push(this.maybeBlock(h.body,M&q?Bt:vt)),b},ForInStatement:function(h,M){return this.generateIterationForStatement("in",h,M&q?Bt:vt)},ForOfStatement:function(h,M){return this.generateIterationForStatement("of",h,M&q?Bt:vt)},LabeledStatement:function(h,M){return[h.label.name+":",this.maybeBlock(h.body,M&q?Bt:vt)]},Program:function(h,M){var b,C,w,z,T;for(z=h.body.length,b=[S&&z>0?`
`:""],T=Ft,w=0;w<z;++w)!S&&w===z-1&&(T|=q),E&&(w===0&&(h.body[0].leadingComments||en(h.range[0],h.body[w].range[0],b)),w>0&&!h.body[w-1].trailingComments&&!h.body[w].leadingComments&&en(h.body[w-1].range[1],h.body[w].range[0],b)),C=It(this.generateStatement(h.body[w],T)),b.push(C),w+1<z&&!Tt(Pt(C).toString())&&(E&&h.body[w+1].leadingComments||b.push(g)),E&&w===z-1&&(h.body[w].trailingComments||en(h.body[w].range[1],h.range[1],b));return b},FunctionDeclaration:function(h,M){return[Ue(h,!0),"function",Te(h)||Nt(),h.id?ue(h.id):"",this.generateFunctionBody(h)]},ReturnStatement:function(h,M){return h.argument?[it("return",this.generateExpression(h.argument,n.Sequence,H)),this.semicolon(M)]:["return"+this.semicolon(M)]},WhileStatement:function(h,M){var b,C=this;return Wt(function(){b=["while"+y+"(",C.generateExpression(h.test,n.Sequence,H),")"]}),b.push(this.maybeBlock(h.body,M&q?Bt:vt)),b},WithStatement:function(h,M){var b,C=this;return Wt(function(){b=["with"+y+"(",C.generateExpression(h.object,n.Sequence,H),")"]}),b.push(this.maybeBlock(h.body,M&q?Bt:vt)),b}},Je(Yt.prototype,Yt.Statement),Yt.Expression={SequenceExpression:function(h,M,b){var C,w,z;for(n.Sequence<M&&(b|=Y),C=[],w=0,z=h.expressions.length;w<z;++w)C.push(this.generateExpression(h.expressions[w],n.Assignment,b)),w+1<z&&C.push(","+y);return _t(C,n.Sequence,M)},AssignmentExpression:function(h,M,b){return this.generateAssignment(h.left,h.right,h.operator,M,b)},ArrowFunctionExpression:function(h,M,b){return _t(this.generateFunctionBody(h),n.ArrowFunction,M)},ConditionalExpression:function(h,M,b){return n.Conditional<M&&(b|=Y),_t([this.generateExpression(h.test,n.Coalesce,b),y+"?"+y,this.generateExpression(h.consequent,n.Assignment,b),y+":"+y,this.generateExpression(h.alternate,n.Assignment,b)],n.Conditional,M)},LogicalExpression:function(h,M,b){return h.operator==="??"&&(b|=xt),this.BinaryExpression(h,M,b)},BinaryExpression:function(h,M,b){var C,w,z,T,K,$;return T=s[h.operator],w=h.operator==="**"?n.Postfix:T,z=h.operator==="**"?T:T+1,T<M&&(b|=Y),K=this.generateExpression(h.left,w,b),$=K.toString(),$.charCodeAt($.length-1)===47&&a.code.isIdentifierPartES5(h.operator.charCodeAt(0))?C=[K,Nt(),h.operator]:C=it(K,h.operator),K=this.generateExpression(h.right,z,b),h.operator==="/"&&K.toString().charAt(0)==="/"||h.operator.slice(-1)==="<"&&K.toString().slice(0,3)==="!--"?(C.push(Nt()),C.push(K)):C=it(C,K),h.operator==="in"&&!(b&Y)?["(",C,")"]:(h.operator==="||"||h.operator==="&&")&&b&xt?["(",C,")"]:_t(C,T,M)},CallExpression:function(h,M,b){var C,w,z;for(C=[this.generateExpression(h.callee,n.Call,dt)],h.optional&&C.push("?."),C.push("("),w=0,z=h.arguments.length;w<z;++w)C.push(this.generateExpression(h.arguments[w],n.Assignment,H)),w+1<z&&C.push(","+y);return C.push(")"),b&tt?_t(C,n.Call,M):["(",C,")"]},ChainExpression:function(h,M,b){n.OptionalChaining<M&&(b|=tt);var C=this.generateExpression(h.expression,n.OptionalChaining,b);return _t(C,n.OptionalChaining,M)},NewExpression:function(h,M,b){var C,w,z,T,K;if(w=h.arguments.length,K=b&ct&&!P&&w===0?Ut:gt,C=it("new",this.generateExpression(h.callee,n.New,K)),!(b&ct)||P||w>0){for(C.push("("),z=0,T=w;z<T;++z)C.push(this.generateExpression(h.arguments[z],n.Assignment,H)),z+1<T&&C.push(","+y);C.push(")")}return _t(C,n.New,M)},MemberExpression:function(h,M,b){var C,w;return C=[this.generateExpression(h.object,n.Call,b&tt?dt:gt)],h.computed?(h.optional&&C.push("?."),C.push("["),C.push(this.generateExpression(h.property,n.Sequence,b&tt?H:Ut)),C.push("]")):(!h.optional&&h.object.type===e.Literal&&typeof h.object.value=="number"&&(w=Pt(C).toString(),w.indexOf(".")<0&&!/[eExX]/.test(w)&&a.code.isDecimalDigit(w.charCodeAt(w.length-1))&&!(w.length>=2&&w.charCodeAt(0)===48)&&C.push(" ")),C.push(h.optional?"?.":"."),C.push(ue(h.property))),_t(C,n.Member,M)},MetaProperty:function(h,M,b){var C;return C=[],C.push(typeof h.meta=="string"?h.meta:ue(h.meta)),C.push("."),C.push(typeof h.property=="string"?h.property:ue(h.property)),_t(C,n.Member,M)},UnaryExpression:function(h,M,b){var C,w,z,T,K;return w=this.generateExpression(h.argument,n.Unary,H),y===""?C=it(h.operator,w):(C=[h.operator],h.operator.length>2?C=it(C,w):(T=Pt(C).toString(),K=T.charCodeAt(T.length-1),z=w.toString().charCodeAt(0),((K===43||K===45)&&K===z||a.code.isIdentifierPartES5(K)&&a.code.isIdentifierPartES5(z))&&C.push(Nt()),C.push(w))),_t(C,n.Unary,M)},YieldExpression:function(h,M,b){var C;return h.delegate?C="yield*":C="yield",h.argument&&(C=it(C,this.generateExpression(h.argument,n.Yield,H))),_t(C,n.Yield,M)},AwaitExpression:function(h,M,b){var C=it(h.all?"await*":"await",this.generateExpression(h.argument,n.Await,H));return _t(C,n.Await,M)},UpdateExpression:function(h,M,b){return h.prefix?_t([h.operator,this.generateExpression(h.argument,n.Unary,H)],n.Unary,M):_t([this.generateExpression(h.argument,n.Postfix,H),h.operator],n.Postfix,M)},FunctionExpression:function(h,M,b){var C=[Ue(h,!0),"function"];return h.id?(C.push(Te(h)||Nt()),C.push(ue(h.id))):C.push(Te(h)||y),C.push(this.generateFunctionBody(h)),C},ArrayPattern:function(h,M,b){return this.ArrayExpression(h,M,b,!0)},ArrayExpression:function(h,M,b,C){var w,z,T=this;return h.elements.length?(z=C?!1:h.elements.length>1,w=["[",z?g:""],Wt(function(K){var $,Mt;for($=0,Mt=h.elements.length;$<Mt;++$)h.elements[$]?(w.push(z?K:""),w.push(T.generateExpression(h.elements[$],n.Assignment,H))):(z&&w.push(K),$+1===Mt&&w.push(",")),$+1<Mt&&w.push(","+(z?g:y))}),z&&!Tt(Pt(w).toString())&&w.push(g),w.push(z?o:""),w.push("]"),w):"[]"},RestElement:function(h,M,b){return"..."+this.generatePattern(h.argument)},ClassExpression:function(h,M,b){var C,w;return C=["class"],h.id&&(C=it(C,this.generateExpression(h.id,n.Sequence,H))),h.superClass&&(w=it("extends",this.generateExpression(h.superClass,n.Unary,H)),C=it(C,w)),C.push(y),C.push(this.generateStatement(h.body,Bt)),C},MethodDefinition:function(h,M,b){var C,w;return h.static?C=["static"+y]:C=[],h.kind==="get"||h.kind==="set"?w=[it(h.kind,this.generatePropertyKey(h.key,h.computed)),this.generateFunctionBody(h.value)]:w=[An(h),this.generatePropertyKey(h.key,h.computed),this.generateFunctionBody(h.value)],it(C,w)},Property:function(h,M,b){return h.kind==="get"||h.kind==="set"?[h.kind,Nt(),this.generatePropertyKey(h.key,h.computed),this.generateFunctionBody(h.value)]:h.shorthand?h.value.type==="AssignmentPattern"?this.AssignmentPattern(h.value,n.Sequence,H):this.generatePropertyKey(h.key,h.computed):h.method?[An(h),this.generatePropertyKey(h.key,h.computed),this.generateFunctionBody(h.value)]:[this.generatePropertyKey(h.key,h.computed),":"+y,this.generateExpression(h.value,n.Assignment,H)]},ObjectExpression:function(h,M,b){var C,w,z,T=this;return h.properties.length?(C=h.properties.length>1,Wt(function(){z=T.generateExpression(h.properties[0],n.Sequence,H)}),!C&&!ze(Pt(z).toString())?["{",y,z,y,"}"]:(Wt(function(K){var $,Mt;if(w=["{",g,K,z],C)for(w.push(","+g),$=1,Mt=h.properties.length;$<Mt;++$)w.push(K),w.push(T.generateExpression(h.properties[$],n.Sequence,H)),$+1<Mt&&w.push(","+g)}),Tt(Pt(w).toString())||w.push(g),w.push(o),w.push("}"),w)):"{}"},AssignmentPattern:function(h,M,b){return this.generateAssignment(h.left,h.right,"=",M,b)},ObjectPattern:function(h,M,b){var C,w,z,T,K,$=this;if(!h.properties.length)return"{}";if(T=!1,h.properties.length===1)K=h.properties[0],K.type===e.Property&&K.value.type!==e.Identifier&&(T=!0);else for(w=0,z=h.properties.length;w<z;++w)if(K=h.properties[w],K.type===e.Property&&!K.shorthand){T=!0;break}return C=["{",T?g:""],Wt(function(Mt){var Et,ce;for(Et=0,ce=h.properties.length;Et<ce;++Et)C.push(T?Mt:""),C.push($.generateExpression(h.properties[Et],n.Sequence,H)),Et+1<ce&&C.push(","+(T?g:y))}),T&&!Tt(Pt(C).toString())&&C.push(g),C.push(T?o:""),C.push("}"),C},ThisExpression:function(h,M,b){return"this"},Super:function(h,M,b){return"super"},Identifier:function(h,M,b){return ue(h)},ImportDefaultSpecifier:function(h,M,b){return ue(h.id||h.local)},ImportNamespaceSpecifier:function(h,M,b){var C=["*"],w=h.id||h.local;return w&&C.push(y+"as"+Nt()+ue(w)),C},ImportSpecifier:function(h,M,b){var C=h.imported,w=[C.name],z=h.local;return z&&z.name!==C.name&&w.push(Nt()+"as"+Nt()+ue(z)),w},ExportSpecifier:function(h,M,b){var C=h.local,w=[C.name],z=h.exported;return z&&z.name!==C.name&&w.push(Nt()+"as"+Nt()+ue(z)),w},Literal:function(h,M,b){var C;if(h.hasOwnProperty("raw")&&X&&v.raw)try{if(C=X(h.raw).body[0].expression,C.type===e.Literal&&C.value===h.value)return h.raw}catch{}return h.regex?"/"+h.regex.pattern+"/"+h.regex.flags:typeof h.value=="bigint"?h.value.toString()+"n":h.bigint?h.bigint+"n":h.value===null?"null":typeof h.value=="string"?Ot(h.value):typeof h.value=="number"?re(h.value):typeof h.value=="boolean"?h.value?"true":"false":be(h.value)},GeneratorExpression:function(h,M,b){return this.ComprehensionExpression(h,M,b)},ComprehensionExpression:function(h,M,b){var C,w,z,T,K=this;return C=h.type===e.GeneratorExpression?["("]:["["],v.moz.comprehensionExpressionStartsWithAssignment&&(T=this.generateExpression(h.body,n.Assignment,H),C.push(T)),h.blocks&&Wt(function(){for(w=0,z=h.blocks.length;w<z;++w)T=K.generateExpression(h.blocks[w],n.Sequence,H),w>0||v.moz.comprehensionExpressionStartsWithAssignment?C=it(C,T):C.push(T)}),h.filter&&(C=it(C,"if"+y),T=this.generateExpression(h.filter,n.Sequence,H),C=it(C,["(",T,")"])),v.moz.comprehensionExpressionStartsWithAssignment||(T=this.generateExpression(h.body,n.Assignment,H),C=it(C,T)),C.push(h.type===e.GeneratorExpression?")":"]"),C},ComprehensionBlock:function(h,M,b){var C;return h.left.type===e.VariableDeclaration?C=[h.left.kind,Nt(),this.generateStatement(h.left.declarations[0],ot)]:C=this.generateExpression(h.left,n.Call,H),C=it(C,h.of?"of":"in"),C=it(C,this.generateExpression(h.right,n.Sequence,H)),["for"+y+"(",C,")"]},SpreadElement:function(h,M,b){return["...",this.generateExpression(h.argument,n.Assignment,H)]},TaggedTemplateExpression:function(h,M,b){var C=dt;b&tt||(C=gt);var w=[this.generateExpression(h.tag,n.Call,C),this.generateExpression(h.quasi,n.Primary,Kt)];return _t(w,n.TaggedTemplate,M)},TemplateElement:function(h,M,b){return h.value.raw},TemplateLiteral:function(h,M,b){var C,w,z;for(C=["`"],w=0,z=h.quasis.length;w<z;++w)C.push(this.generateExpression(h.quasis[w],n.Primary,H)),w+1<z&&(C.push("${"+y),C.push(this.generateExpression(h.expressions[w],n.Sequence,H)),C.push(y+"}"));return C.push("`"),C},ModuleSpecifier:function(h,M,b){return this.Literal(h,M,b)},ImportExpression:function(h,M,b){return _t(["import(",this.generateExpression(h.source,n.Assignment,H),")"],n.Call,M)}},Je(Yt.prototype,Yt.Expression),Yt.prototype.generateExpression=function(h,M,b){var C,w;return w=h.type||e.Property,v.verbatim&&h.hasOwnProperty(v.verbatim)?yn(h,M):(C=this[w](h,M,b),v.comment&&(C=rs(h,C)),Pt(C,h))},Yt.prototype.generateStatement=function(h,M){var b,C;return b=this[h.type](h,M),v.comment&&(b=rs(h,b)),C=Pt(b).toString(),h.type===e.Program&&!S&&g===""&&C.charAt(C.length-1)===`
`&&(b=L?Pt(b).replaceRight(/\s+$/,""):C.replace(/\s+$/,"")),Pt(b,h)};function Ps(h){var M;if(M=new Yt,W(h))return M.generateStatement(h,vt);if(J(h))return M.generateExpression(h,n.Sequence,H);throw new Error("Unknown node type: "+h.type)}function In(h,M){var b=ae(),C,w;return M!=null?(typeof M.indent=="string"&&(b.format.indent.style=M.indent),typeof M.base=="number"&&(b.format.indent.base=M.base),M=Xe(b,M),u=M.format.indent.style,typeof M.base=="string"?o=M.base:o=Xt(u,M.format.indent.base)):(M=b,u=M.format.indent.style,o=Xt(u,M.format.indent.base)),c=M.format.json,l=M.format.renumber,d=c?!1:M.format.hexadecimal,m=c?"double":M.format.quotes,f=M.format.escapeless,g=M.format.newline,y=M.format.space,M.format.compact&&(g=y=u=o=""),P=M.format.parentheses,Z=M.format.semicolons,S=M.format.safeConcatenation,k=M.directive,X=c?null:M.parse,L=M.sourceMap,V=M.sourceCode,E=M.format.preserveBlankLines&&V!==null,v=M,L&&(t.browser?r=fF.sourceMap.SourceNode:r=wF().SourceNode),C=Ps(h),L?(w=C.toStringWithSourceMap({file:M.file,sourceRoot:M.sourceMapRoot}),M.sourceContent&&w.map.setSourceContent(M.sourceMap,M.sourceContent),M.sourceMapWithCode?w:w.map.toString()):(w={code:C.toString(),map:null},M.sourceMapWithCode?w:w.code)}I={indent:{style:"",base:0},renumber:!0,hexadecimal:!0,quotes:"auto",escapeless:!0,compact:!0,parentheses:!1,semicolons:!1},R=ae().format,t.version=DF.version,t.generate=In,t.attachComments=i.attachComments,t.Precedence=Xe({},n),t.browser=!1,t.FORMAT_MINIFY=I,t.FORMAT_DEFAULTS=R})()})(Dy)),Dy}var SF=AF();const VF=SC(SF);class LF{constructor(){this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:e=>this.replacement=e}}replace(e,n,s,r){e&&n&&(s!=null?e[n][s]=r:e[n]=r)}remove(e,n,s){e&&n&&(s!=null?e[n].splice(s,1):delete e[n])}}class kF extends LF{constructor(e,n){super(),this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:s=>this.replacement=s},this.enter=e,this.leave=n}visit(e,n,s,r){if(e){if(this.enter){const a=this.should_skip,o=this.should_remove,u=this.replacement;this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.enter.call(this.context,e,n,s,r),this.replacement&&(e=this.replacement,this.replace(n,s,r,e)),this.should_remove&&this.remove(n,s,r);const c=this.should_skip,l=this.should_remove;if(this.should_skip=a,this.should_remove=o,this.replacement=u,c)return e;if(l)return null}let i;for(i in e){const a=e[i];if(a&&typeof a=="object")if(Array.isArray(a)){const o=a;for(let u=0;u<o.length;u+=1){const c=o[u];$y(c)&&(this.visit(c,e,i,u)||u--)}}else $y(a)&&this.visit(a,e,i,null)}if(this.leave){const a=this.replacement,o=this.should_remove;this.replacement=null,this.should_remove=!1,this.leave.call(this.context,e,n,s,r),this.replacement&&(e=this.replacement,this.replace(n,s,r,e)),this.should_remove&&this.remove(n,s,r);const u=this.should_remove;if(this.replacement=a,this.should_remove=o,u)return null}}return e}}function $y(t){return t!==null&&typeof t=="object"&&"type"in t&&typeof t.type=="string"}function EF(t,{enter:e,leave:n}){return new kF(e,n).visit(t,null)}let WC=[];function WF(t){WC.push(t)}let ci=new Map;function zF(t,e){ci.set(t,e)}function zC(t,e={}){var m;const{wrapAsync:n=!1,addReturn:s=!0,emitMiniLocations:r=!0,emitWidgets:i=!0}=e;let a=mF(t,{ecmaVersion:2022,allowAwaitOutsideFunction:!0,locations:!0}),o=[];const u=(f,g)=>{const y=ci.get("minilang");if(y){const P=`[${f}]`,Z=y.getLocations(P,g.start);o=o.concat(Z)}else{const P=Ia(`"${f}"`,g.start,t);o=o.concat(P)}};let c=[];EF(a,{enter(f,g){var y,P,Z;if(_F(f)){const{name:S}=f.tag,k=ci.get(S),v=f.quasi.quasis[0].value.raw,X=f.quasi.start+1;if(r){const L=k.getLocations(v,X);o=o.concat(L)}return this.skip(),this.replace(qF(S,v,X))}if(UF(f,"tidal")){const S=f.quasi.quasis[0].value.raw,k=f.quasi.start+1;if(r){const v=OF(S,k);o=o.concat(v)}return this.skip(),this.replace(QF(S,k))}if(BF(f,g)){const{quasis:S}=f,{raw:k}=S[0].value;return this.skip(),r&&u(k,f),this.replace(tb(k,f))}if(RF(f)){const{value:S}=f;return this.skip(),r&&u(S,f),this.replace(tb(S,f))}if(TF(f))return i&&c.push({from:f.arguments[0].start,to:f.arguments[0].end,value:f.arguments[0].raw,min:((y=f.arguments[1])==null?void 0:y.value)??0,max:((P=f.arguments[2])==null?void 0:P.value)??1,step:(Z=f.arguments[3])==null?void 0:Z.value,type:"slider"}),this.replace(IF(f));if(NF(f)){const S=f.callee.property.name,k=c.filter(X=>X.type===S).length,v={to:f.end,index:k,type:S,id:e.id};return i&&c.push(v),this.replace(KF(f,v))}if(YF(f,g))return this.replace(HF(f));if(jF(f))return this.replace(JF(f))},leave(f,g,y,P){}});let{body:l}=a;if(!l.length)console.warn("empty body -> fallback to silence"),l.push({type:"ExpressionStatement",expression:{type:"Identifier",name:"silence"}});else if(!((m=l==null?void 0:l[l.length-1])!=null&&m.expression))throw new Error("unexpected ast format without body expression");if(s){const{expression:f}=l[l.length-1];l[l.length-1]={type:"ReturnStatement",argument:f}}let d=VF.generate(a);return n&&(d=`(async ()=>{${d}})()`),r?{output:d,miniLocations:o,widgets:c}:{output:d}}function RF(t,e,n){return t.type!=="Literal"?!1:t.raw[0]==='"'}function BF(t,e){return t.type==="TemplateLiteral"&&e.type!=="TaggedTemplateExpression"}function tb(t,e){const{start:n}=e,s=ci.get("minilang");let r="m";return s&&s.name&&(r=s.name),{type:"CallExpression",callee:{type:"Identifier",name:r},arguments:[{type:"Literal",value:t},{type:"Literal",value:n}],optional:!1}}function TF(t){return t.type==="CallExpression"&&t.callee.name==="slider"}function NF(t){var e;return t.type==="CallExpression"&&WC.includes((e=t.callee.property)==null?void 0:e.name)}function IF(t){const e="slider_"+t.arguments[0].start;return t.arguments.unshift({type:"Literal",value:e,raw:e}),t.callee.name="sliderWithID",t}function RC(t){return`${t.id||""}_widget_${t.type}_${t.index}`}function KF(t,e){const n=RC(e);return t.arguments.unshift({type:"Literal",value:n,raw:n}),t}function YF(t,e){return t.type==="CallExpression"&&t.callee.name==="samples"&&e.type!=="AwaitExpression"}function HF(t){return{type:"AwaitExpression",argument:t}}function jF(t){return t.type==="LabeledStatement"}function JF(t){return{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"MemberExpression",object:t.body.expression,property:{type:"Identifier",name:"p"}},arguments:[{type:"Literal",value:t.label.name,raw:`'${t.label.name}'`}]}}}function _F(t){return t.type==="TaggedTemplateExpression"&&ci.has(t.tag.name)}function UF(t,e){return t.type==="TaggedTemplateExpression"&&t.tag.name===e}function OF(t,e){return t.split("").reduce((n,s,r)=>(s!=='"'||(!n.length||n[n.length-1].length>1?n.push([r+1]):n[n.length-1].push(r)),n),[]).map(([n,s])=>{const r=t.slice(n,s);return Ia(`"${r}"`,e+n-1)}).flat()}function QF(t,e){return{type:"CallExpression",callee:{type:"Identifier",name:"tidal"},arguments:[{type:"Literal",value:t},{type:"Literal",value:e}],optional:!1}}function qF(t,e,n){return{type:"CallExpression",callee:{type:"Identifier",name:t},arguments:[{type:"Literal",value:e},{type:"Literal",value:n}],optional:!1}}function ef(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}function nf(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"&&!isNaN(t.step)&&!isNaN(t.alt)}var BC=[0,2,4,-1,1,3,5],TC=BC.map(t=>Math.floor(t*7/12));function NC(t){const{step:e,alt:n,oct:s,dir:r=1}=t,i=BC[e]+7*n;if(s===void 0)return[r*i];const a=s-TC[e]-4*n;return[r*i,r*a]}var $F=[3,0,4,1,5,2,6];function IC(t){const[e,n,s]=t,r=$F[tD(e)],i=Math.floor((e+1)/7);if(n===void 0)return{step:r,alt:i,dir:s};const a=n+4*i+TC[r];return{step:r,alt:i,oct:a,dir:s}}function tD(t){const e=(t+1)%7;return e<0?7+e:e}var eb=(t,e)=>Array(Math.abs(e)+1).join(t),pu=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),eD="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",nD="(AA|A|P|M|m|d|dd)([-+]?\\d+)",sD=new RegExp("^"+eD+"|"+nD+"$");function rD(t){const e=sD.exec(`${t}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var nb={};function Wn(t){return typeof t=="string"?nb[t]||(nb[t]=iD(t)):nf(t)?Wn(oD(t)):ef(t)?Wn(t.name):pu}var sb=[0,2,4,5,7,9,11],KC="PMMPPMM";function iD(t){const e=rD(t);if(e[0]==="")return pu;const n=+e[0],s=e[1],r=(Math.abs(n)-1)%7,i=KC[r];if(i==="M"&&s==="P")return pu;const a=i==="M"?"majorable":"perfectable",o=""+n+s,u=n<0?-1:1,c=n===8||n===-8?n:u*(r+1),l=aD(a,s),d=Math.floor((Math.abs(n)-1)/7),m=u*(sb[r]+l+12*d),f=(u*(sb[r]+l)%12+12)%12,g=NC({step:r,alt:l,oct:d,dir:u});return{empty:!1,name:o,num:n,q:s,step:r,alt:l,dir:u,type:a,simple:c,semitones:m,chroma:f,coord:g,oct:d}}function YC(t,e){const[n,s=0]=t,r=n*7+s*12<0,i=e||r?[-n,-s,-1]:[n,s,1];return Wn(IC(i))}function aD(t,e){return e==="M"&&t==="majorable"||e==="P"&&t==="perfectable"?0:e==="m"&&t==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(t==="perfectable"?e.length:e.length+1):0}function oD(t){const{step:e,alt:n,oct:s=0,dir:r}=t;if(!r)return"";const i=e+1+7*s,a=i===0?e+1:i,o=r<0?"-":"",u=KC[e]==="M"?"majorable":"perfectable";return o+a+uD(u,n)}function uD(t,e){return e===0?t==="majorable"?"M":"P":e===-1&&t==="majorable"?"m":e>0?eb("A",e):eb("d",t==="perfectable"?e:e+1)}var rb=(t,e)=>Array(Math.abs(e)+1).join(t),HC=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),ib=new Map,cD=t=>"CDEFGAB".charAt(t),_a=t=>t<0?rb("b",-t):rb("#",t),sf=t=>t[0]==="b"?-t.length:t.length;function Rt(t){const e=JSON.stringify(t),n=ib.get(e);if(n)return n;const s=typeof t=="string"?dD(t):nf(t)?Rt(mD(t)):ef(t)?Rt(t.name):HC;return ib.set(e,s),s}var lD=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function rf(t){const e=lD.exec(t);return e?[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]:["","","",""]}function hD(t){return Rt(IC(t))}var pD=(t,e)=>(t%e+e)%e,Bo=[0,2,4,5,7,9,11];function dD(t){const e=rf(t);if(e[0]===""||e[3]!=="")return HC;const n=e[0],s=e[1],r=e[2],i=(n.charCodeAt(0)+3)%7,a=sf(s),o=r.length?+r:void 0,u=NC({step:i,alt:a,oct:o}),c=n+s+r,l=n+s,d=(Bo[i]+a+120)%12,m=o===void 0?pD(Bo[i]+a,12)-1188:Bo[i]+a+12*(o+1),f=m>=0&&m<=127?m:null,g=o===void 0?null:Math.pow(2,(m-69)/12)*440;return{empty:!1,acc:s,alt:a,chroma:d,coord:u,freq:g,height:m,letter:n,midi:f,name:c,oct:o,pc:l,step:i}}function mD(t){const{step:e,alt:n,oct:s}=t,r=cD(e);if(!r)return"";const i=r+_a(n);return s||s===0?i+s:i}function Fn(t,e){const n=Rt(t),s=Array.isArray(e)?e:Wn(e).coord;if(n.empty||!s||s.length<2)return"";const r=n.coord,i=r.length===1?[r[0]+s[0]]:[r[0]+s[0],r[1]+s[1]];return hD(i).name}function jC(t,e){const n=t.length;return s=>{if(!e)return"";const r=s<0?(n- -s%n)%n:s%n,i=Math.floor(s/n),a=Fn(e,[0,i]);return Fn(a,t[r])}}function Ua(t,e){const n=Rt(t),s=Rt(e);if(n.empty||s.empty)return"";const r=n.coord,i=s.coord,a=i[0]-r[0],o=r.length===2&&i.length===2?i[1]-r[1]:-Math.floor(a*7/12),u=s.height===n.height&&s.midi!==null&&n.oct===s.oct&&n.step>s.step;return YC([a,o],u).name}var ab=(t,e)=>Array(e+1).join(t),fD=/^(_{1,}|=|\^{1,}|)([abcdefgABCDEFG])([,']*)$/;function JC(t){const e=fD.exec(t);return e?[e[1],e[2],e[3]]:["","",""]}function ra(t){const[e,n,s]=JC(t);if(n==="")return"";let r=4;for(let a=0;a<s.length;a++)r+=s.charAt(a)===","?-1:1;const i=e[0]==="_"?e.replace(/_/g,"b"):e[0]==="^"?e.replace(/\^/g,"#"):"";return n.charCodeAt(0)>96?n.toUpperCase()+i+(r+1):n+i+r}function _C(t){const e=Rt(t);if(e.empty||!e.oct&&e.oct!==0)return"";const{letter:n,acc:s,oct:r}=e,i=s[0]==="b"?s.replace(/b/g,"_"):s.replace(/#/g,"^"),a=r>4?n.toLowerCase():n,o=r===5?"":r>4?ab("'",r-5):ab(",",4-r);return i+a+o}function yD(t,e){return _C(Fn(ra(t),e))}function bD(t,e){return Ua(ra(t),ra(e))}var gD={abcToScientificNotation:ra,scientificToAbcNotation:_C,tokenize:JC,transpose:yD,distance:bD};function MD(t,e){const n=[];for(;e--;n[e]=e+t);return n}function CD(t,e){const n=[];for(;e--;n[e]=t-e);return n}function xD(t,e){return t<e?MD(t,e-t+1):CD(t,t-e+1)}function PD(t,e){const n=e.length,s=(t%n+n)%n;return e.slice(s,n).concat(e.slice(0,s))}function GD(t){return t.filter(e=>e===0||e)}function UC(t){return t.map(e=>Rt(e)).filter(e=>!e.empty).sort((e,n)=>e.height-n.height).map(e=>e.name)}function XD(t){return UC(t).filter((e,n,s)=>n===0||e!==s[n-1])}function ZD(t,e=Math.random){let n,s,r=t.length;for(;r;)n=Math.floor(e()*r--),s=t[r],t[r]=t[n],t[n]=s;return t}function OC(t){return t.length===0?[[]]:OC(t.slice(1)).reduce((e,n)=>e.concat(t.map((s,r)=>{const i=n.slice();return i.splice(r,0,t[0]),i})),[])}const vD=Object.freeze(Object.defineProperty({__proto__:null,compact:GD,permutations:OC,range:xD,rotate:PD,shuffle:ZD,sortedNoteNames:UC,sortedUniqNoteNames:XD},Symbol.toStringTag,{value:"Module"}));function wD(t,e){const n=[];for(;e--;n[e]=e+t);return n}function FD(t,e){const n=[];for(;e--;n[e]=t-e);return n}function Oa(t,e){return t<e?wD(t,e-t+1):FD(t,t-e+1)}function Ar(t,e){const n=e.length,s=(t%n+n)%n;return e.slice(s,n).concat(e.slice(0,s))}function af(t){return t.filter(e=>e===0||e)}function DD(t,e=Math.random){let n,s,r=t.length;for(;r;)n=Math.floor(e()*r--),s=t[r],t[r]=t[n],t[n]=s;return t}function QC(t){return t.length===0?[[]]:QC(t.slice(1)).reduce((e,n)=>e.concat(t.map((s,r)=>{const i=n.slice();return i.splice(r,0,t[0]),i})),[])}var AD={compact:af,permutations:QC,range:Oa,rotate:Ar,shuffle:DD},bs={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},of=t=>Number(t).toString(2).padStart(12,"0"),ob=t=>parseInt(t,2),SD=/^[01]{12}$/;function uf(t){return SD.test(t)}var VD=t=>typeof t=="number"&&t>=0&&t<=4095,LD=t=>t&&uf(t.chroma),ub={[bs.chroma]:bs};function Pe(t){const e=uf(t)?t:VD(t)?of(t):Array.isArray(t)?HD(t):LD(t)?t.chroma:bs.chroma;return ub[e]=ub[e]||YD(e)}var kD=Pe,qC=t=>Pe(t).chroma,ED=t=>Pe(t).intervals,WD=t=>Pe(t).setNum,zD=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function RD(t){const e=[];for(let n=0;n<12;n++)t.charAt(n)==="1"&&e.push(zD[n]);return e}function BD(t){return Pe(t).intervals.map(e=>Fn("C",e))}function TD(){return Oa(2048,4095).map(of)}function cf(t,e=!0){const n=Pe(t).chroma.split("");return af(n.map((s,r)=>{const i=Ar(r,n);return e&&i[0]==="0"?null:i.join("")}))}function ND(t,e){return Pe(t).setNum===Pe(e).setNum}function Qa(t){const e=Pe(t).setNum;return n=>{const s=Pe(n).setNum;return e&&e!==s&&(s&e)===s}}function qa(t){const e=Pe(t).setNum;return n=>{const s=Pe(n).setNum;return e&&e!==s&&(s|e)===s}}function $C(t){const e=Pe(t);return n=>{const s=Rt(n);return e&&!s.empty&&e.chroma.charAt(s.chroma)==="1"}}function ID(t){const e=$C(t);return n=>n.filter(e)}var tx={get:Pe,chroma:qC,num:WD,intervals:ED,chromas:TD,isSupersetOf:qa,isSubsetOf:Qa,isNoteIncludedIn:$C,isEqual:ND,filter:ID,modes:cf,notes:BD,pcset:kD};function KD(t){const e=t.split("");return e.map((n,s)=>Ar(s,e).join(""))}function YD(t){const e=ob(t),n=KD(t).map(ob).filter(i=>i>=2048).sort()[0],s=of(n),r=RD(t);return{empty:!1,name:"",setNum:e,chroma:t,normalized:s,intervals:r}}function HD(t){if(t.length===0)return bs.chroma;let e;const n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let s=0;s<t.length;s++)e=Rt(t[s]),e.empty&&(e=Wn(t[s])),e.empty||(n[e.chroma]=1);return n.join("")}var jD=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],JD=jD;({...bs});var lf=[],Ii={};function ex(){return lf.slice()}function _D(t,e,n){const s=OD(t),r={...Pe(t),name:n||"",quality:s,intervals:t,aliases:e};lf.push(r),r.name&&(Ii[r.name]=r),Ii[r.setNum]=r,Ii[r.chroma]=r,r.aliases.forEach(i=>UD(r,i))}function UD(t,e){Ii[e]=t}function OD(t){const e=n=>t.indexOf(n)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}JD.forEach(([t,e,n])=>_D(t.split(" "),n.split(" "),e));lf.sort((t,e)=>t.setNum-e.setNum);var QD=t=>{const e=t.reduce((n,s)=>{const r=Rt(s).chroma;return r!==void 0&&(n[r]=n[r]||Rt(s).name),n},{});return n=>e[n]};function qD(t,e={}){const n=t.map(s=>Rt(s).pc).filter(s=>s);return Rt.length===0?[]:iA(n,1,e).filter(s=>s.weight).sort((s,r)=>r.weight-s.weight).map(s=>s.name)}var $a={anyThirds:384,perfectFifth:16,nonPerfectFifths:40,anySeventh:3},to=t=>e=>!!(e&t),$D=to($a.anyThirds),tA=to($a.perfectFifth),eA=to($a.anySeventh),nA=to($a.nonPerfectFifths);function sA(t){const e=parseInt(t.chroma,2);return $D(e)&&tA(e)&&eA(e)}function rA(t){const e=parseInt(t,2);return nA(e)?t:(e|16).toString(2)}function iA(t,e,n){const s=t[0],r=Rt(s).chroma,i=QD(t),a=cf(t,!1),o=[];return a.forEach((u,c)=>{const l=n.assumePerfectFifth&&rA(u);ex().filter(d=>n.assumePerfectFifth&&sA(d)?d.chroma===l:d.chroma===u).forEach(d=>{const m=d.aliases[0],f=i(c);c!==r?o.push({weight:.5*e,name:`${f}${m}/${s}`}):o.push({weight:1*e,name:`${f}${m}`})})}),o}function Xi(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}var nx=[0,2,4,5,7,9,11],sx=({step:t,alt:e})=>(nx[t]+e+120)%12,hf=({step:t,alt:e,oct:n,dir:s=1})=>s*(nx[t]+e+12*(n===void 0?-100:n)),rx=t=>{const e=hf(t);return t.oct!==void 0&&e>=-12&&e<=115?e+12:null};function eo(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"}var ix=[0,2,4,-1,1,3,5],ax=ix.map(t=>Math.floor(t*7/12));function no(t){const{step:e,alt:n,oct:s,dir:r=1}=t,i=ix[e]+7*n;if(s===void 0)return[r*i];const a=s-ax[e]-4*n;return[r*i,r*a]}var aA=[3,0,4,1,5,2,6];function so(t){const[e,n,s]=t,r=aA[oA(e)],i=Math.floor((e+1)/7);if(n===void 0)return{step:r,alt:i,dir:s};const a=n+4*i+ax[r];return{step:r,alt:i,oct:a,dir:s}}function oA(t){const e=(t+1)%7;return e<0?7+e:e}var cb=(t,e)=>Array(Math.abs(e)+1).join(t),du={empty:!0,name:"",acc:""},uA="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",cA="(AA|A|P|M|m|d|dd)([-+]?\\d+)",lA=new RegExp("^"+uA+"|"+cA+"$");function pf(t){const e=lA.exec(`${t}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var lb={};function De(t){return typeof t=="string"?lb[t]||(lb[t]=hA(t)):eo(t)?De(dA(t)):Xi(t)?De(t.name):du}var hb=[0,2,4,5,7,9,11],ox="PMMPPMM";function hA(t){const e=pf(t);if(e[0]==="")return du;const n=+e[0],s=e[1],r=(Math.abs(n)-1)%7,i=ox[r];if(i==="M"&&s==="P")return du;const a=i==="M"?"majorable":"perfectable",o=""+n+s,u=n<0?-1:1,c=n===8||n===-8?n:u*(r+1),l=pA(a,s),d=Math.floor((Math.abs(n)-1)/7),m=u*(hb[r]+l+12*d),f=(u*(hb[r]+l)%12+12)%12,g=no({step:r,alt:l,oct:d,dir:u});return{empty:!1,name:o,num:n,q:s,step:r,alt:l,dir:u,type:a,simple:c,semitones:m,chroma:f,coord:g,oct:d}}function Zi(t,e){const[n,s=0]=t,r=n*7+s*12<0,i=e||r?[-n,-s,-1]:[n,s,1];return De(so(i))}function pA(t,e){return e==="M"&&t==="majorable"||e==="P"&&t==="perfectable"?0:e==="m"&&t==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(t==="perfectable"?e.length:e.length+1):0}function dA(t){const{step:e,alt:n,oct:s=0,dir:r}=t;if(!r)return"";const i=e+1+7*s,a=i===0?e+1:i,o=r<0?"-":"",u=ox[e]==="M"?"majorable":"perfectable";return o+a+mA(u,n)}function mA(t,e){return e===0?t==="majorable"?"M":"P":e===-1&&t==="majorable"?"m":e>0?cb("A",e):cb("d",t==="perfectable"?e:e+1)}var pb=(t,e)=>Array(Math.abs(e)+1).join(t),ux={empty:!0,name:"",pc:"",acc:""},db=new Map,df=t=>"CDEFGAB".charAt(t),mf=t=>t<0?pb("b",-t):pb("#",t),ff=t=>t[0]==="b"?-t.length:t.length;function zn(t){const e=JSON.stringify(t),n=db.get(e);if(n)return n;const s=typeof t=="string"?bA(t):eo(t)?zn(gA(t)):Xi(t)?zn(t.name):ux;return db.set(e,s),s}var fA=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function ro(t){const e=fA.exec(t);return e?[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]:["","","",""]}function yf(t){return zn(so(t))}var yA=(t,e)=>(t%e+e)%e,To=[0,2,4,5,7,9,11];function bA(t){const e=ro(t);if(e[0]===""||e[3]!=="")return ux;const n=e[0],s=e[1],r=e[2],i=(n.charCodeAt(0)+3)%7,a=ff(s),o=r.length?+r:void 0,u=no({step:i,alt:a,oct:o}),c=n+s+r,l=n+s,d=(To[i]+a+120)%12,m=o===void 0?yA(To[i]+a,12)-1188:To[i]+a+12*(o+1),f=m>=0&&m<=127?m:null,g=o===void 0?null:Math.pow(2,(m-69)/12)*440;return{empty:!1,acc:s,alt:a,chroma:d,coord:u,freq:g,height:m,letter:n,midi:f,name:c,oct:o,pc:l,step:i}}function gA(t){const{step:e,alt:n,oct:s}=t,r=df(e);if(!r)return"";const i=r+mf(n);return s||s===0?i+s:i}function Cr(t,e){const n=zn(t),s=Array.isArray(e)?e:De(e).coord;if(n.empty||!s||s.length<2)return"";const r=n.coord,i=r.length===1?[r[0]+s[0]]:[r[0]+s[0],r[1]+s[1]];return yf(i).name}function io(t,e){const n=t.length;return s=>{if(!e)return"";const r=s<0?(n- -s%n)%n:s%n,i=Math.floor(s/n),a=Cr(e,[0,i]);return Cr(a,t[r])}}function bf(t,e){const n=zn(t),s=zn(e);if(n.empty||s.empty)return"";const r=n.coord,i=s.coord,a=i[0]-r[0],o=r.length===2&&i.length===2?i[1]-r[1]:-Math.floor(a*7/12),u=s.height===n.height&&s.midi!==null&&n.midi!==null&&n.step>s.step;return Zi([a,o],u).name}var cx=(t,e)=>Array(Math.abs(e)+1).join(t);function Sr(t,e,n){return function(...s){return console.warn(`${t} is deprecated. Use ${e}.`),n.apply(this,s)}}var lx=Sr("isNamed","isNamedPitch",Xi);const hx=Object.freeze(Object.defineProperty({__proto__:null,accToAlt:ff,altToAcc:mf,chroma:sx,coordToInterval:Zi,coordToNote:yf,coordinates:no,deprecate:Sr,distance:bf,fillStr:cx,height:hf,interval:De,isNamed:lx,isNamedPitch:Xi,isPitch:eo,midi:rx,note:zn,pitch:so,stepToLetter:df,tokenizeInterval:pf,tokenizeNote:ro,tonicIntervalsTransposer:io,transpose:Cr},Symbol.toStringTag,{value:"Module"}));var MA=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],CA=MA,xA={...bs,name:"",quality:"Unknown",intervals:[],aliases:[]},Vr=[],Ls={};function gf(t){return Ls[t]||xA}var PA=Sr("ChordType.chordType","ChordType.get",gf);function GA(){return Vr.map(t=>t.name).filter(t=>t)}function XA(){return Vr.map(t=>t.aliases[0]).filter(t=>t)}function ZA(){return Object.keys(Ls)}function ao(){return Vr.slice()}var vA=Sr("ChordType.entries","ChordType.all",ao);function wA(){Vr=[],Ls={}}function px(t,e,n){const s=DA(t),r={...Pe(t),name:n||"",quality:s,intervals:t,aliases:e};Vr.push(r),r.name&&(Ls[r.name]=r),Ls[r.setNum]=r,Ls[r.chroma]=r,r.aliases.forEach(i=>FA(r,i))}function FA(t,e){Ls[e]=t}function DA(t){const e=n=>t.indexOf(n)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}CA.forEach(([t,e,n])=>px(t.split(" "),n.split(" "),e));Vr.sort((t,e)=>t.setNum-e.setNum);var dx={names:GA,symbols:XA,get:gf,all:ao,add:px,removeAll:wA,keys:ZA,entries:vA,chordType:PA},AA=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],SA=AA,VA={...bs,intervals:[],aliases:[]},oo=[],ks={};function mx(){return oo.map(t=>t.name)}function uo(t){return ks[t]||VA}var LA=uo;function Lr(){return oo.slice()}var kA=Lr;function EA(){return Object.keys(ks)}function WA(){oo=[],ks={}}function fx(t,e,n=[]){const s={...Pe(t),name:e,intervals:t,aliases:n};return oo.push(s),ks[s.name]=s,ks[s.setNum]=s,ks[s.chroma]=s,s.aliases.forEach(r=>zA(s,r)),s}function zA(t,e){ks[e]=t}SA.forEach(([t,e,...n])=>fx(t.split(" "),e,n));var yx={names:mx,get:uo,all:Lr,add:fx,removeAll:WA,keys:EA,entries:kA,scaleType:LA},mu={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function Mf(t){const[e,n,s,r]=ro(t);return e===""?["",t]:e==="A"&&r==="ug"?["","aug"]:[e+n,s+r]}function Js(t){if(t==="")return mu;if(Array.isArray(t)&&t.length===2)return Ki(t[1],t[0]);{const[e,n]=Mf(t),s=Ki(n,e);return s.empty?Ki(t):s}}function Ki(t,e,n){const s=gf(t),r=zn(e||""),i=zn(n||"");if(s.empty||e&&r.empty||n&&i.empty)return mu;const a=bf(r.pc,i.pc),o=s.intervals.indexOf(a)+1;if(!i.empty&&!o)return mu;const u=Array.from(s.intervals);for(let m=1;m<o;m++){const f=u[0][0],g=u[0][1],y=parseInt(f,10)+7;u.push(`${y}${g}`),u.shift()}const c=r.empty?[]:u.map(m=>Cr(r,m));t=s.aliases.indexOf(t)!==-1?t:s.aliases[0];const l=`${r.empty?"":r.pc}${t}${i.empty||o<=1?"":"/"+i.pc}`,d=`${e?r.pc+" ":""}${s.name}${o>1&&n?" over "+i.pc:""}`;return{...s,name:d,symbol:l,type:s.name,root:i.name,intervals:u,rootDegree:o,tonic:r.name,notes:c}}var RA=Sr("Chord.chord","Chord.get",Js);function BA(t,e){const[n,s]=Mf(t);return n?Cr(n,e)+s:t}function TA(t){const e=Js(t),n=qa(e.chroma);return Lr().filter(s=>n(s.chroma)).map(s=>s.name)}function NA(t){const e=Js(t),n=qa(e.chroma);return ao().filter(s=>n(s.chroma)).map(s=>e.tonic+s.aliases[0])}function IA(t){const e=Js(t),n=Qa(e.chroma);return ao().filter(s=>n(s.chroma)).map(s=>e.tonic+s.aliases[0])}function KA(t){const{intervals:e,tonic:n}=Js(t),s=io(e,n);return r=>r?s(r>0?r-1:r):""}function YA(t){const{intervals:e,tonic:n}=Js(t);return io(e,n)}var HA={getChord:Ki,get:Js,detect:qD,chordScales:TA,extended:NA,reduced:IA,tokenize:Mf,transpose:BA,degrees:KA,steps:YA,chord:RA},jA=[[.125,"dl",["large","duplex longa","maxima","octuple","octuple whole"]],[.25,"l",["long","longa"]],[.5,"d",["double whole","double","breve"]],[1,"w",["whole","semibreve"]],[2,"h",["half","minim"]],[4,"q",["quarter","crotchet"]],[8,"e",["eighth","quaver"]],[16,"s",["sixteenth","semiquaver"]],[32,"t",["thirty-second","demisemiquaver"]],[64,"sf",["sixty-fourth","hemidemisemiquaver"]],[128,"h",["hundred twenty-eighth"]],[256,"th",["two hundred fifty-sixth"]]],JA=jA,co=[];JA.forEach(([t,e,n])=>eS(t,e,n));var _A={empty:!0,name:"",value:0,fraction:[0,0],shorthand:"",dots:"",names:[]};function UA(){return co.reduce((t,e)=>(e.names.forEach(n=>t.push(n)),t),[])}function OA(){return co.map(t=>t.shorthand)}var QA=/^([^.]+)(\.*)$/;function Cf(t){const[e,n,s]=QA.exec(t)||[],r=co.find(o=>o.shorthand===n||o.names.includes(n));if(!r)return _A;const i=nS(r.fraction,s.length),a=i[0]/i[1];return{...r,name:t,dots:s,value:a,fraction:i}}var qA=t=>Cf(t).value,$A=t=>Cf(t).fraction,tS={names:UA,shorthands:OA,get:Cf,value:qA,fraction:$A};function eS(t,e,n){co.push({empty:!1,dots:"",name:"",value:1/t,fraction:t<1?[1/t,1]:[1,t],shorthand:e,names:n})}function nS(t,e){const n=Math.pow(2,e);let s=t[0]*n,r=t[1]*n;const i=s;for(let a=0;a<e;a++)s+=i/Math.pow(2,a+1);for(;s%2===0&&r%2===0;)s/=2,r/=2;return[s,r]}function sS(){return"1P 2M 3M 4P 5P 6m 7m".split(" ")}var bx=De,rS=t=>De(t).name,iS=t=>De(t).semitones,aS=t=>De(t).q,oS=t=>De(t).num;function uS(t){const e=De(t);return e.empty?"":e.simple+e.q}function cS(t){const e=De(t);if(e.empty)return"";const n=(7-e.step)%7,s=e.type==="perfectable"?-e.alt:-(e.alt+1);return De({step:n,alt:s,oct:e.oct,dir:e.dir}).name}var lS=[1,2,2,3,3,4,5,5,6,6,7,7],hS="P m M m M P d P m M m M".split(" ");function pS(t){const e=t<0?-1:1,n=Math.abs(t),s=n%12,r=Math.floor(n/12);return e*(lS[s]+7*r)+hS[s]}var dS=Ua,gx=Mx((t,e)=>[t[0]+e[0],t[1]+e[1]]),mS=t=>e=>gx(t,e),fS=Mx((t,e)=>[t[0]-e[0],t[1]-e[1]]);function yS(t,e){const n=bx(t);if(n.empty)return"";const[s,r,i]=n.coord;return Zi([s+e,r,i]).name}var Ns={names:sS,get:bx,name:rS,num:oS,semitones:iS,quality:aS,fromSemitones:pS,distance:dS,invert:cS,simplify:uS,add:gx,addTo:mS,substract:fS,transposeFifths:yS};function Mx(t){return(e,n)=>{const s=De(e).coord,r=De(n).coord;if(s&&r){const i=t(s,r);return Zi(i).name}}}function Cx(t){return+t>=0&&+t<=127}function xx(t){if(Cx(t))return+t;const e=Rt(t);return e.empty?null:e.midi}function bS(t,e=440){return Math.pow(2,(t-69)/12)*e}var gS=Math.log(2),MS=Math.log(440);function xf(t){const e=12*(Math.log(t)-MS)/gS+69;return Math.round(e*100)/100}var CS="C C# D D# E F F# G G# A A# B".split(" "),xS="C Db D Eb E F Gb G Ab A Bb B".split(" ");function xs(t,e={}){if(isNaN(t)||t===-1/0||t===1/0)return"";t=Math.round(t);const n=(e.sharps===!0?CS:xS)[t%12];if(e.pitchClass)return n;const s=Math.floor(t/12)-1;return n+s}function Pf(t){return t%12}function PS(t){return t.split("").reduce((e,n,s)=>(s<12&&n==="1"&&e.push(s),e),[])}function GS(t){return t.map(Pf).sort((e,n)=>e-n).filter((e,n,s)=>n===0||e!==s[n-1])}function Gf(t){return Array.isArray(t)?GS(t):PS(t)}function XS(t){const e=Gf(t);return n=>{const s=Pf(n);for(let r=0;r<12;r++){if(e.includes(s+r))return n+r;if(e.includes(s-r))return n-r}}}function Px(t,e){const n=Gf(t),s=n.length;return r=>{const i=r<0?(s- -r%s)%s:r%s,a=Math.floor(r/s);return n[i]+a*12+e}}function ZS(t,e){const n=Px(t,e);return s=>{if(s!==0)return n(s>0?s-1:s)}}var vS={chroma:Pf,freqToMidi:xf,isMidi:Cx,midiToFreq:bS,midiToNoteName:xs,pcsetNearest:XS,pcset:Gf,pcsetDegrees:ZS,pcsetSteps:Px,toMidi:xx},wS=["C","D","E","F","G","A","B"],Gx=t=>t.name,Xx=t=>t.map(Rt).filter(e=>!e.empty);function FS(t){return t===void 0?wS.slice():Array.isArray(t)?Xx(t).map(Gx):[]}var Dn=Rt,DS=t=>Dn(t).name,AS=t=>Dn(t).pc,SS=t=>Dn(t).acc,VS=t=>Dn(t).oct,LS=t=>Dn(t).midi,kS=t=>Dn(t).freq,ES=t=>Dn(t).chroma;function Zx(t){return xs(t)}function WS(t){return xs(xf(t))}function zS(t){return xs(xf(t),{sharps:!0})}function RS(t){return xs(t,{sharps:!0})}var BS=Ua,vn=Fn,TS=Fn,vx=t=>e=>vn(e,t),NS=vx,wx=t=>e=>vn(t,e),IS=wx;function ia(t,e){return vn(t,[e,0])}var KS=ia;function YS(t,e){return vn(t,[0,e])}var Xf=(t,e)=>t.height-e.height,HS=(t,e)=>e.height-t.height;function Fx(t,e){return e=e||Xf,Xx(t).sort(e).map(Gx)}function Dx(t){return Fx(t,Xf).filter((e,n,s)=>n===0||e!==s[n-1])}var jS=t=>{const e=Dn(t);return e.empty?"":xs(e.midi||e.chroma,{sharps:e.alt>0,pitchClass:e.midi===null})};function Ax(t,e){const n=Dn(t);if(n.empty)return"";const s=Dn(e||xs(n.midi||n.chroma,{sharps:n.alt<0,pitchClass:!0}));if(s.empty||s.chroma!==n.chroma)return"";if(n.oct===void 0)return s.pc;const r=n.chroma-n.alt,i=s.chroma-s.alt,a=r>11||i<0?-1:r<0||i>11?1:0,o=n.oct+a;return s.pc+o}var En={names:FS,get:Dn,name:DS,pitchClass:AS,accidentals:SS,octave:VS,midi:LS,ascending:Xf,descending:HS,distance:BS,sortedNames:Fx,sortedUniqNames:Dx,fromMidi:Zx,fromMidiSharps:RS,freq:kS,fromFreq:WS,fromFreqSharps:zS,chroma:ES,transpose:vn,tr:TS,transposeBy:vx,trBy:NS,transposeFrom:wx,trFrom:IS,transposeFifths:ia,transposeOctaves:YS,trFifths:KS,simplify:jS,enharmonic:Ax},Sx={empty:!0,name:"",chordType:""},mb={};function gs(t){return typeof t=="string"?mb[t]||(mb[t]=$S(t)):typeof t=="number"?gs(lo[t]||""):nf(t)?US(t):ef(t)?gs(t.name):Sx}var JS=gs;function _S(t=!0){return(t?lo:qS).slice()}function US(t){return gs(_a(t.alt)+lo[t.step])}var OS=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;function QS(t){return OS.exec(t)||["","","",""]}var Vx="I II III IV V VI VII",lo=Vx.split(" "),qS=Vx.toLowerCase().split(" ");function $S(t){const[e,n,s,r]=QS(t);if(!s)return Sx;const i=s.toUpperCase(),a=lo.indexOf(i),o=sf(n),u=1;return{empty:!1,name:e,roman:s,interval:Wn({step:a,alt:o,dir:u}).name,acc:n,chordType:r,alt:o,step:a,major:s===i,oct:0,dir:u}}var tV={names:_S,get:gs,romanNumeral:JS},Ce=Object.freeze([]),Lx={type:"major",tonic:"",alteration:0,keySignature:""},Yi={tonic:"",grades:Ce,intervals:Ce,scale:Ce,triads:Ce,chords:Ce,chordsHarmonicFunction:Ce,chordScales:Ce,secondaryDominants:Ce,secondaryDominantSupertonics:Ce,substituteDominantsMinorRelative:Ce,substituteDominants:Ce,substituteDominantSupertonics:Ce,secondaryDominantsMinorRelative:Ce},eV={...Lx,...Yi,type:"major",minorRelative:"",scale:Ce,substituteDominants:Ce,secondaryDominantSupertonics:Ce,substituteDominantsMinorRelative:Ce},nV={...Lx,type:"minor",relativeMajor:"",natural:Yi,harmonic:Yi,melodic:Yi},No=(t,e,n="")=>e.map((s,r)=>`${t[r]}${n}${s}`);function ho(t,e,n,s,r){return i=>{const a=t.map(f=>gs(f).interval||""),o=a.map(f=>vn(i,f)),u=No(o,n),c=o.map(f=>vn(f,"5P")).map(f=>o.includes(f)&&!u.includes(f+"7")?f+"7":""),l=fb(c,e),d=c.map(f=>{if(!f)return"";const g=f.slice(0,-1);return vn(g,"5d")+"7"}),m=fb(d,e);return{tonic:i,grades:t,intervals:a,scale:o,triads:No(o,e),chords:u,chordsHarmonicFunction:s.slice(),chordScales:No(o,r," "),secondaryDominants:c,secondaryDominantSupertonics:l,substituteDominants:d,substituteDominantSupertonics:m,secondaryDominantsMinorRelative:l,substituteDominantsMinorRelative:m}}}var fb=(t,e)=>t.map((n,s)=>{if(!n)return"";const r=n.slice(0,-1),i=vn(r,"5P");return e[s].endsWith("m")?i+"m7":i+"m7b5"}),kx=(t,e)=>{const n=Rt(t),s=Rt(e);return n.empty||s.empty?0:s.coord[0]-n.coord[0]},sV=ho("I II III IV V VI VII".split(" ")," m m   m dim".split(" "),"maj7 m7 m7 maj7 7 m7 m7b5".split(" "),"T SD T SD D T D".split(" "),"major,dorian,phrygian,lydian,mixolydian,minor,locrian".split(",")),rV=ho("I II bIII IV V bVI bVII".split(" "),"m dim  m m  ".split(" "),"m7 m7b5 maj7 m7 m7 maj7 7".split(" "),"T SD T SD D SD SD".split(" "),"minor,locrian,major,dorian,phrygian,lydian,mixolydian".split(",")),iV=ho("I II bIII IV V bVI VII".split(" "),"m dim aug m   dim".split(" "),"mMaj7 m7b5 +maj7 m7 7 maj7 o7".split(" "),"T SD T SD D SD D".split(" "),"harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian".split(",")),aV=ho("I II bIII IV V VI VII".split(" "),"m m aug   dim dim".split(" "),"m6 m7 +maj7 7 7 m7b5 m7b5".split(" "),"T SD T SD D  ".split(" "),"melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered".split(","));function oV(t){const e=Rt(t).pc;if(!e)return eV;const n=sV(e),s=kx("C",e);return{...n,type:"major",minorRelative:vn(e,"-3m"),alteration:s,keySignature:_a(s)}}function uV(t){const e=Rt(t).pc;if(!e)return nV;const n=kx("C",e)-3;return{type:"minor",tonic:e,relativeMajor:vn(e,"3m"),alteration:n,keySignature:_a(n),natural:rV(e),harmonic:iV(e),melodic:aV(e)}}function cV(t){return typeof t=="number"?ia("C",t):typeof t=="string"&&/^b+|#+$/.test(t)?ia("C",sf(t)):null}var lV={majorKey:oV,majorTonicFromKeySignature:cV,minorKey:uV},hV=Wn;function pV(t){const e=Wn(t);return e.empty?"":e.simple+e.q}function dV(t,e){const n=hV(t);if(n.empty)return"";const[s,r,i]=n.coord;return YC([s+e,r,i]).name}var Zf=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],yb={...bs,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},vf=Zf.map(bV),fu={};vf.forEach(t=>{fu[t.name]=t,t.aliases.forEach(e=>{fu[e]=t})});function Is(t){return typeof t=="string"?fu[t.toLowerCase()]||yb:t&&t.name?Is(t.name):yb}var mV=Is;function Ex(){return vf.slice()}var fV=Ex;function yV(){return vf.map(t=>t.name)}function bV(t){const[e,n,s,r,i,a,o]=t,u=o?[o]:[],c=Number(n).toString(2);return{empty:!1,intervals:uo(r).intervals,modeNum:e,chroma:c,normalized:c,name:r,setNum:n,alt:s,triad:i,seventh:a,aliases:u}}function gV(t,e){return Is(t).intervals.map(n=>Fn(e,n))}function Wx(t){return(e,n)=>{const s=Is(e);if(s.empty)return[];const r=Ar(s.modeNum,t),i=s.intervals.map(a=>Fn(n,a));return r.map((a,o)=>i[o]+a)}}var MV=Wx(Zf.map(t=>t[4])),CV=Wx(Zf.map(t=>t[5]));function zx(t,e){const n=Is(e),s=Is(t);return n.empty||s.empty?"":pV(dV("1P",s.alt-n.alt))}function xV(t,e,n){return Fn(n,zx(t,e))}var PV={get:Is,names:yV,all:Ex,distance:zx,relativeTonic:xV,notes:gV,triads:MV,seventhChords:CV,entries:fV,mode:mV};function GV(t){const[e,n,s,r]=rf(t);return e===""?Io("",t):e==="A"&&r==="ug"?Io("","aug"):Io(e+n,s+r)}function Io(t,e){const n=e.split("/");if(n.length===1)return[t,n[0],""];const[s,r,i,a]=rf(n[1]);return s!==""&&i===""&&a===""?[t,n[0],s+r]:[t,e,""]}function XV(t,e){return e.map(gs).map(n=>Fn(t,Wn(n))+n.chordType)}function ZV(t,e){return e.map(n=>{const[s,r]=GV(n),i=Ua(t,s);return gs(Wn(i)).name+r})}var vV={fromRomanNumerals:XV,toRomanNumerals:ZV};function Rx(t){const e=af(t.map(n=>typeof n=="number"?n:xx(n)));return!t.length||e.length!==t.length?[]:e.reduce((n,s)=>{const r=n[n.length-1];return n.concat(Oa(r,s).slice(1))},[e[0]])}function wV(t,e){return Rx(t).map(n=>xs(n,e))}var FV={numeric:Rx,chromatic:wV},DV={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function Bx(t){if(typeof t!="string")return["",""];const e=t.indexOf(" "),n=Rt(t.substring(0,e));if(n.empty){const r=Rt(t);return r.empty?["",t]:[r.name,""]}const s=t.substring(n.name.length+1).toLowerCase();return[n.name,s.length?s:""]}var AV=mx;function Rn(t){const e=Array.isArray(t)?t:Bx(t),n=Rt(e[0]).name,s=uo(e[1]);if(s.empty)return DV;const r=s.name,i=n?s.intervals.map(o=>Fn(n,o)):[],a=n?n+" "+r:r;return{...s,name:a,type:r,tonic:n,notes:i}}var SV=Rn;function VV(t,e={}){const n=qC(t),s=Rt(e.tonic??t[0]??""),r=s.chroma;if(r===void 0)return[];const i=n.split("");i[r]="1";const a=Ar(r,i).join(""),o=Lr().find(c=>c.chroma===a),u=[];return o&&u.push(s.name+" "+o.name),e.match==="exact"||Tx(a).forEach(c=>{u.push(s.name+" "+c)}),u}function LV(t){const e=Rn(t),n=Qa(e.chroma);return ex().filter(s=>n(s.chroma)).map(s=>s.aliases[0])}function Tx(t){const e=uf(t)?t:Rn(t).chroma,n=qa(e);return Lr().filter(s=>n(s.chroma)).map(s=>s.name)}function kV(t){const e=Qa(Rn(t).chroma);return Lr().filter(n=>e(n.chroma)).map(n=>n.name)}function Nx(t){const e=t.map(r=>Rt(r).pc).filter(r=>r),n=e[0],s=Dx(e);return Ar(s.indexOf(n),s)}function EV(t){const e=Rn(t);if(e.empty)return[];const n=e.tonic?e.notes:e.intervals;return cf(e.chroma).map((s,r)=>{const i=Rn(s).name;return i?[n[r],i]:["",""]}).filter(s=>s[0])}function WV(t){const e=Array.isArray(t)?Nx(t):Rn(t).notes,n=e.map(s=>Rt(s).chroma);return s=>{const r=Rt(typeof s=="number"?Zx(s):s),i=r.height;if(i===void 0)return;const a=i%12,o=n.indexOf(a);if(o!==-1)return Ax(r.name,e[o])}}function zV(t){const e=WV(t);return(n,s)=>{const r=Rt(n).height,i=Rt(s).height;return r===void 0||i===void 0?[]:Oa(r,i).map(e).filter(a=>a)}}function RV(t){const{intervals:e,tonic:n}=Rn(t),s=jC(e,n);return r=>r?s(r>0?r-1:r):""}function BV(t){const{intervals:e,tonic:n}=Rn(t);return jC(e,n)}var aa={degrees:RV,detect:VV,extended:Tx,get:Rn,modeNames:EV,names:AV,rangeOf:zV,reduced:kV,scaleChords:LV,scaleNotes:Nx,steps:BV,tokenize:Bx,scale:SV},TV={empty:!0,name:"",upper:void 0,lower:void 0,type:void 0,additive:[]},NV=["4/4","3/4","2/4","2/2","12/8","9/8","6/8","3/8"];function IV(){return NV.slice()}var KV=/^(\d*\d(?:\+\d)*)\/(\d+)$/,bb=new Map;function YV(t){const e=JSON.stringify(t),n=bb.get(e);if(n)return n;const s=JV(wf(t));return bb.set(e,s),s}function wf(t){if(typeof t=="string"){const[i,a,o]=KV.exec(t)||[];return wf([a,o])}const[e,n]=t,s=+n;if(typeof e=="number")return[e,s];const r=e.split("+").map(i=>+i);return r.length===1?[r[0],s]:[r,s]}var HV={names:IV,parse:wf,get:YV},jV=t=>Math.log(t)/Math.log(2)%1===0;function JV([t,e]){const n=Array.isArray(t)?t.reduce((o,u)=>o+u,0):t,s=e;if(n===0||s===0)return TV;const r=Array.isArray(t)?`${t.join("+")}/${e}`:`${t}/${e}`,i=Array.isArray(t)?t:[],a=s===4||s===2?"simple":s===8&&n%3===0?"compound":jV(s)?"irregular":"irrational";return{empty:!1,name:r,type:a,upper:n,lower:s,additive:i}}var _V=hx,UV=tx,OV=dx,QV=yx;const qV=Object.freeze(Object.defineProperty({__proto__:null,AbcNotation:gD,Array:vD,Chord:HA,ChordDictionary:OV,ChordType:dx,Collection:AD,Core:hx,DurationValue:tS,Interval:Ns,Key:lV,Midi:vS,Mode:PV,Note:En,PcSet:UV,Pcset:tx,Progression:vV,Range:FV,RomanNumeral:tV,Scale:aa,ScaleDictionary:QV,ScaleType:yx,TimeSignature:HV,Tonal:_V,accToAlt:ff,altToAcc:mf,chroma:sx,coordToInterval:Zi,coordToNote:yf,coordinates:no,deprecate:Sr,distance:bf,fillStr:cx,height:hf,interval:De,isNamed:lx,isNamedPitch:Xi,isPitch:eo,midi:rx,note:zn,pitch:so,stepToLetter:df,tokenizeInterval:pf,tokenizeNote:ro,tonicIntervalsTransposer:io,transpose:Cr},Symbol.toStringTag,{value:"Module"})),$V=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],tL=["c","db","d","eb","e","f","gb","g","ab","a","bb","b"],eL=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],nL={b:-1,"#":1},sL=t=>{const[e,...n]=t.split("");return tL.indexOf(e.toLowerCase())+n.reduce((s,r)=>s+nL[r],0)};function rL(t){const e=(t||"").match(/^([A-G][b#]*)([^/]*)[/]?([A-G][b#]*)?$/);return e?e.slice(1):[]}const yu=t=>t%12,Ix=t=>{let e=Number(t);return isNaN(e)?Ns.semitones(t):e},bu=(t,e)=>{if(typeof t=="number")return t;if(typeof t=="string")return wn(t,e)},iL=(t,e=!1)=>{const n=Math.floor(t/12)-1;return(e?eL:$V)[t%12]+n};function aL(t,e,n=1){t=t.map(r=>typeof r=="string"?wn(r):r);const s=Math.floor(e/t.length)*n*12;return e=qe(e,t.length),t[e]+s}function Kx(t,e,n){let s=0,r=1/0;return e.forEach((i,a)=>{const o=Math.abs(i-t);(!n&&o<r||n&&o<=r)&&(s=a,r=o)}),s}let Ko={};function oL(t,e,n,s){const[r,i]=aa.tokenize(e),a=bu(r),o=yu(a);if(!Ko[i]){const{intervals:d}=aa.get(`C ${i}`);Ko[i]=d.map(Ix)}const u=Ko[i];if(!u)return null;let c=a;if(n){n=bu(n,3);const d=yu(n),m=qe(d-o,12),f=Kx(m,u,s);t=t+f,c=n-m}const l=Math.floor(t/u.length)*12;return t=qe(t,u.length),u[t]+c+l}let gb={below:t=>t.slice(-1)[0],duck:t=>t.slice(-1)[0],above:t=>t[0],root:t=>t[0]};function uL({chord:t,dictionary:e,offset:n=0,n:s,mode:r="below",anchor:i="c5",octaves:a=1}){const[o,u]=rL(t),c=sL(o);i=bu((i==null?void 0:i.note)||i,4);const l=yu(i),d=e[u].map(L=>(typeof L=="string"?L.split(" "):L).map(Ix));let m,f,g=d.map((L,V)=>{const E=gb[r](L),I=qe(l-E-c,12);return(m===void 0||I<m)&&(m=I,f=V),I});r==="root"&&(f=0);const y=Math.ceil(n/d.length)*12,P=qe(f+n,d.length),Z=d[P],S=gb[r](Z),k=i-g[P]+y,v=Z.map(L=>k-S+L);let X=v.map(L=>iL(L));return r==="duck"&&(X=X.filter((L,V)=>v[V]!==i)),s!==void 0?[aL(X,s,a)]:X}const cL=t=>(t<=0?-1:1)+t*7+"P";function Ff(t){t=t.replaceAll(":"," ");const e=aa.get(t),{tonic:n,empty:s}=e;if(s&&Ms(t)||s&&!n)throw new Error(`Scale name ${t} is incomplete. Make sure to use ":" instead of spaces, example: .scale("C:major")`);if(s)throw new Error(`Invalid scale name "${t}"`);return e}function lL(t,e){t=Math.ceil(t);let{intervals:n,tonic:s}=Ff(e);s=s||"C";const{pc:r,oct:i=3}=En.get(s),a=Math.floor(t/n.length),o=qe(t,n.length),u=Ns.add(n[o],cL(a));return En.transpose(r+i,u)}function Mb(t,e,n){let{notes:s}=Ff(t);if(s=s.map(d=>En.get(d).pc),e=Number(e),isNaN(e))throw new Error(`scale offset "${e}" not a number`);const{pc:r,oct:i=3}=En.get(n),a=s.indexOf(r);if(a===-1)throw new Error(`note "${n}" is not in scale "${t}"`);let o=a,u=i,c=r;const l=Math.sign(e);for(;Math.abs(o-a)<Math.abs(e);){o+=l;const d=qe(o,s.length);l<0&&c[0]==="C"&&(u+=l),c=s[d],l>0&&c[0]==="C"&&(u+=l)}return c+u}const{transpose:Yx,trans:Hx}=B(["transpose","trans"],function(t,e){return e.withHap(n=>{const s=n.value.note??n.value;if(typeof s=="number"){let a;typeof t=="number"?a=t:typeof t=="string"&&(a=Ns.semitones(t)||0);const o=s+a;return typeof n.value=="object"?n.withValue(()=>({...n.value,note:o})):n.withValue(()=>o)}if(typeof s!="string"||!Ms(s))return ye(`[tonal] transpose: not a note "${s}"`,"warning"),n;const r=isNaN(Number(t))?String(t):Ns.fromSemitones(t),i=En.transpose(s,r);return typeof n.value=="object"?n.withValue(()=>({...n.value,note:i})):n.withValue(()=>i)})}),{scaleTranspose:jx,scaleTrans:Jx,strans:_x}=B(["scaleTranspose","scaleTrans","strans"],function(t,e){return e.withHap(n=>{if(!n.context.scale)throw new Error("can only use scaleTranspose after .scale");if(typeof n.value=="object")return n.withValue(()=>({...n.value,note:Mb(n.context.scale,Number(t),n.value.note)}));if(typeof n.value!="string")throw new Error("can only use scaleTranspose with notes");return n.withValue(()=>Mb(n.context.scale,Number(t),n.value))})});function hL(t){let e=Number(t),n=0;if(isNaN(e)){t=String(t);const s=/^(-?\d+)(#+|b+)?$/.exec(t);if(!s)throw new Error(`invalid scale step "${t}", expected number or integer with optional # b suffixes`);e=Number(s[1]);const r=s[2]||"";n=r[0]==="#"?r.length:-r.length}return[e,n]}let Yo={};function pL(t,e,n=!0){let s=typeof e=="string"?wn(e):e;if(Yo[t]===void 0){const{intervals:d,tonic:m}=Ff(t),{pc:f}=En.get(m),g=d.concat("8P").map(P=>En.transpose(f+"0",P)),y=g.map(wn);Yo[t]=[y,g]}const[r,i]=Yo[t],a=r[0],o=Math.floor((s-a)/12),u=r.map(d=>d+12*o),c=Kx(s,u,n),l=i[c];return En.transpose(l,Ns.fromSemitones(12*o))}const Ux=B("scale",function(t,e){return Array.isArray(t)&&(t=t.flat().join(" ")),e.fmap(n=>{const s=typeof n=="object";if(!s||s&&("n"in n||"value"in n)){const r=s?n.n??n.value:n;if(delete n.n,Ms(r))return te(r);try{const[i,a]=hL(r);let o;s&&n.anchor?o=oL(i,t,n.anchor):o=lL(i,t),a!=0&&(o=En.transpose(o,Ns.fromSemitones(a))),n=te(s?{...n,note:o}:o)}catch(i){return ye(`[tonal] ${i.message}`,"error"),zt}return n}else{const r=pL(t,n.note);return te(s?{...n,note:r}:r)}}).outerJoin().withHap(n=>n.setContext({...n.context,scale:t}))},!0,!0);var Cb={},Bi={},Hr={},xb;function Ox(){if(xb)return Hr;xb=1,Hr.__esModule=!0,Hr.getBestVoicing=void 0;function t(e){var n=e.chord,s=e.range,r=e.finder,i=e.picker,a=e.lastVoicing,o=r(n,s);return o.length?i(o,a):[]}return Hr.getBestVoicing=t,Hr}var jr={};const Qx=yF(qV);var Jr={},Pb;function qx(){if(Pb)return Jr;Pb=1,Jr.__esModule=!0,Jr.tokenizeChord=void 0;function t(e){var n=(e||"").match(/^([A-G][b#]*)([^\/]*)[\/]?([A-G][b#]*)?$/);return n?n.slice(1):[]}return Jr.tokenizeChord=t,Jr}var Gb;function dL(){if(Gb)return jr;Gb=1,jr.__esModule=!0,jr.voicingsInRange=void 0;var t=Qx,e=$x(),n=qx();function s(r,i,a){i===void 0&&(i=e.lefthand),a===void 0&&(a=["D3","A4"]);var o=(0,n.tokenizeChord)(r),u=o[0],c=o[1];if(!i[c])return[];var l=i[c].map(function(m){return m.split(" ")}),d=t.Range.chromatic(a);return l.reduce(function(m,f){var g=f.map(function(S){return t.Interval.substract(S,f[0])}),y=t.Note.transpose(u,f[0]),P=d.filter(function(S){return t.Note.chroma(S)===t.Note.chroma(y)}).filter(function(S){return t.Note.midi(t.Note.transpose(S,g[g.length-1]))<=t.Note.midi(a[1])}).map(function(S){return t.Note.enharmonic(S,y)}),Z=P.map(function(S){return g.map(function(k){return t.Note.transpose(S,k)})});return m.concat(Z)},[])}return jr.voicingsInRange=s,jr}var Xb;function $x(){return Xb||(Xb=1,(function(t){var e=Bi.__assign||function(){return e=Object.assign||function(o){for(var u,c=1,l=arguments.length;c<l;c++){u=arguments[c];for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(o[d]=u[d])}return o},e.apply(this,arguments)},n=Bi.__rest||function(o,u){var c={};for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&u.indexOf(l)<0&&(c[l]=o[l]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,l=Object.getOwnPropertySymbols(o);d<l.length;d++)u.indexOf(l[d])<0&&Object.prototype.propertyIsEnumerable.call(o,l[d])&&(c[l[d]]=o[l[d]]);return c};t.__esModule=!0,t.dictionaryVoicing=t.dictionaryVoicingFinder=t.triads=t.guidetones=t.lefthand=void 0;var s=Ox(),r=dL();t.lefthand={m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},t.guidetones={m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},t.triads={M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]};var i=function(o){return function(u,c){return(0,r.voicingsInRange)(u,o,c)}};t.dictionaryVoicingFinder=i;var a=function(o){var u=o.dictionary,c=o.range,l=n(o,["dictionary","range"]);return(0,s.getBestVoicing)(e(e({},l),{range:c,finder:(0,t.dictionaryVoicingFinder)(u)}))};t.dictionaryVoicing=a})(Bi)),Bi}var _r={},Zb;function mL(){if(Zb)return _r;Zb=1,_r.__esModule=!0,_r.minTopNoteDiff=void 0;var t=Qx;function e(n,s){if(!s)return n[0];var r=function(i){return Math.abs(t.Note.midi(s[s.length-1])-t.Note.midi(i[i.length-1]))};return n.reduce(function(i,a){return r(a)<r(i)?a:i},n[0])}return _r.minTopNoteDiff=e,_r}var vb;function fL(){return vb||(vb=1,(function(t){t.__esModule=!0;var e=$x(),n=mL(),s=Ox(),r=qx();t.default={tokenizeChord:r.tokenizeChord,getBestVoicing:s.getBestVoicing,dictionaryVoicing:e.dictionaryVoicing,dictionaryVoicingFinder:e.dictionaryVoicingFinder,lefthand:e.lefthand,guidetones:e.guidetones,triads:e.triads,minTopNoteDiff:n.minTopNoteDiff}})(Cb)),Cb}var yL=fL();const wb=SC(yL),ps={2:["1P 5P 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P"],5:["1P 5P 8P 12P","5P 8P 12P 15P"],6:["1P 5P 6M 8P 10M","1P 5P 8P 10M 13M","3M 5P 8P 10M 13M","5P 8P 10M 12P 13M"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M"],9:["1P 5P 7m 9M 10M","1P 7m 9M 10M 12P","3M 7m 8P 9M 12P","7m 9M 10M 14m 15P","3M 7m 8P 12P 16M","7m 10M 12P 15P 16M"],11:["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],13:["1P 6M 7m 9M 10M","1P 7m 9M 10M 13M","3M 7m 8P 9M 13M","7m 8P 9M 10M 13M","7m 9M 10M 13M 15P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 8P 9M 13M","5P 8P 9M 10M 13M"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 12P 17M"],"+":["1P 3M 6m 8P 10M","1P 6m 8P 10M 13m","3M 6m 8P 10M 13m","3M 8P 10M 13m 15P","6m 8P 10M 13m 15P","6m 10M 13m 15P 17M"],o:["1P 5d 8P 10m 12d","3m 8P 10m 12d 15P","5d 8P 10m 12d 15P"],h:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P","1P 4P 5P 8P 11P","5P 8P 11P 12P","5P 8P 11P 12P 15P"],"^":["1P 5P 8P 10M","1P 5P 8P 10M 12P","3M 5P 8P 10M 12P","3M 8P 10M 12P 15P","5P 8P 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 5P 8P 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 5P 7M 10M 12P","1P 10M 12P 14M","3M 8P 10M 12P 14M","5P 8P 10M 12P 14M","5P 8P 10M 14M 17M"],"-7":["1P 3m 5P 7m 10m","1P 5P 7m 10m 12P","3m 7m 8P 10m 12P","3m 7m 8P 10m 14m","5P 7m 8P 10m 14m","7m 10m 12P 14m 15P","5P 8P 10m 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 5P 7m 8P 11P","5P 8P 11P 12P 14m","7m 8P 11P 12P 14m","7m 11P 12P 14m 18P"],h7:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 5P 7M 9M 10M","1P 7M 9M 10M 12P","3M 7M 8P 9M 12P","3M 7M 8P 12P 16M","5P 8P 10M 14M 16M","7M 8P 10M 12P 16M"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 8P 13M 16M","7M 8P 10M 13M 16M"],"^7#11":["1P 5P 7M 10M 12d","3M 7M 8P 10M 12d","1P 7M 10M 12d 14M","3M 7M 8P 12d 14M","5P 8P 10M 12d 14M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 8P 9M 12d","3M 8P 9M 12d 14M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 8P 10M 13m","6m 7M 8P 10M 13m"],"-6":["1P 3m 5P 6M 8P","1P 5P 6M 8P 10m","3m 5P 6M 8P 10m","1P 5P 8P 10m 13M","3m 5P 8P 10m 13M","5P 8P 10m 12P 13M","5P 8P 10m 13M 15P"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 10m","1P 5P 7M 10m 12P","3m 7M 8P 10m 12P","5P 7M 8P 10m 14M","5P 8P 10m 14M 17m"],"-^9":["1P 3m 5P 7M 9M","1P 7M 9M 10m 12P","3m 7M 8P 9M 12P","5P 8P 9M 10m 14M"],"-9":["1P 3m 5P 7m 9M","3m 5P 7m 8P 9M","3m 7m 8P 9M 12P","5P 8P 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 12P 15P 16M"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["1P 3m 7m 9M 11P","3m 7m 8P 9M 11P","1P 4P 7m 10m 12P","5P 8P 11P 14m","3m 7m 9M 11P 15P","5P 8P 11P 14m 16M","7m 10m 12P 15P 18P"],"-7b5":["3m 5d 7m 8P 10m","1P 7m 10m 12d","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["1P 7m 9M 10m 12d","3m 7m 8P 9M 12d","5d 8P 9M 10m 14m","7m 10m 12d 15P 16M"],"-b6":["1P 5P 6m 8P 10m","1P 5P 8P 10m 13m","3m 5P 8P 10m 13m","5P 8P 10m 13m","5P 8P 10m 13m 15P"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 10m 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 8P 10m 14m","7m 10m 10M 14m 15P"],"7#11":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7b5":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"7#9#5":["1P 3M 7m 10m 13m","3M 7m 10m 13m 15P","7m 10M 13m 15P 17m"],"7#9b5":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7#9#11":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7b9#11":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9b5":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 8P 9m 10m","7m 8P 10M 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7alt":["3M 7m 8P 9m 12d","1P 7m 10m 10M 13m","3M 7m 8P 10m 13m","3M 7m 9m 12d 15P","3M 7m 10m 13m 15P","7m 10M 12d 15P 17m","7m 10M 13m 15P 17m"],"13#11":["1P 6M 7m 10M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["1P 3M 6M 7m 9m","1P 6M 7m 9m 10M","3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["1P 3M 6M 7m 10m","3M 7m 8P 10m 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","5P 7m 9M 11P 13M","7m 9M 11P 13M 15P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},Es={2:["1P 5P 6M 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P 13M","5P 8P 9M 12P 15P"],5:["1P 5P 8P 12P","1P 5P 8P 9M 12P","5P 8P 12P 15P","5P 8P 12P 15P 16M"],6:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M","7m 10M 14m 17M 19P"],9:["1P 6M 7m 9M 10M","3M 7m 9M 10M 12P","1P 7m 9M 10M 13M","3M 7m 9M 10M 13M","3M 7m 9M 12P 15P","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],11:["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],13:["3M 7m 9M 10M 13M","3M 7m 9M 13M 15P","3M 7m 10M 13M 16M","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 10M 15P","5P 8P 9M 12P 17M"],"+":["1P 6m 8P 9M 10M","1P 6m 8P 10M 13m","3M 8P 9M 10M 13m","3M 8P 10M 13m 15P","6m 10M 13m 15P 16M","6m 10M 13m 15P 17M"],o:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],h:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P 9M","1P 4P 5P 8P 11P","1P 5P 8P 9M 11P","5P 8P 9M 11P 12P","5P 8P 11P 12P 13M","5P 8P 11P 13M 15P"],"^":["1P 3M 5P 6M 9M","1P 5P 8P 10M 12P","3M 5P 9M 10M 12P","1P 5P 8P 10M 13M","3M 8P 10M 13M 15P","5P 9M 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 3m 5P 9M 11P","3m 5P 8P 9M 11P","5P 8P 9M 10m 11P","1P 5P 9M 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 6M 7M 9M 10M","3M 7M 9M 10M 12P","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"-7":["1P 3m 5P 7m 9M","1P 3m 5P 7m 10m","1P 5P 7m 10m 11P","3m 7m 8P 10m 11P","1P 5P 7m 10m 12P","3m 7m 9M 10m 12P","3m 7m 8P 10m 14m","5P 7m 9M 10m 14m","7m 10m 11P 14m 15P","7m 10m 12P 15P 16M","5P 8P 11P 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],h7:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^7#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 10M 12d 14M","7M 10M 12d 13M 14M","7M 10M 12d 13M 16M","7M 10M 12d 14M 17M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 9M 12d 14M","7M 10M 12d 14M 16M","7M 10M 12d 13M 16M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 9M 10M 13m","3M 7M 10M 13m 14M","7M 10M 13m 14M 16M","7M 10M 13m 14M 17M"],"-6":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","1P 5P 6M 10m 11P","3m 5P 6M 8P 11P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 10m 11P 13M","5P 8P 10m 13M 16M"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-^9":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-9":["1P 3m 5P 7m 9M","1P 3m 7m 9M 11P","3m 7m 9M 10m 11P","3m 7m 9M 10m 12P","3m 7m 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 11P 14m 16M","7m 10m 12P 16M 18P"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["3m 5P 7m 9M 11P","7m 9M 10m 11P","1P 4P 7m 10m 12P","3m 7m 9M 11P 12P","7m 9M 10m 11P 12P","3m 7m 9M 11P 14m","4P 10m 12P 14m","5P 8P 11P 14m","5P 8P 11P 14m 16M","7m 10m 12P 16M 18P","7m 10m 11P 16M 21m"],"-7b5":["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["3m 5d 7m 9M 11P","1P 7m 9M 10m 12d","3m 7m 9M 12d 14m","5d 8P 9M 10m 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 16M"],"-b6":["1P 3m 5P 6m 8P","3m 5P 8P 11P 13m","5P 8P 10m 11P 13m"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 11P 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 10m 10M 12P","3M 7m 10m 12P 14m","7m 10M 12P 14m 17m"],"7#11":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7b5":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"7#9#5":["3M 7m 10m 10M 13m","3M 7m 10m 13m 14m","7m 10M 13m 14m 17m"],"7#9b5":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7#9#11":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7b9#11":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9b5":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 10m 13m 16m","7m 10M 13m 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7alt":["3M 7m 8P 10m 13m","3M 7m 9m 12d 13m","3M 7m 9m 10m 13m","3M 7m 10m 13m 14m","3M 7m 9m 12d 14m","3M 7m 10m 13m 15P","3M 7m 10m 13m 16m","7m 10M 12d 14m 16m","7m 10M 12d 13m 16m","7m 10M 13m 15P 17m","7m 10M 13m 16m 17m","7m 10M 13m 16m 19d"],"13#11":["3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["3M 7m 10m 10M 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","4P 7m 9M 11P 13M","7m 9M 11P 13M 15P","7m 11P 13M 14m 16M","7m 11P 13M 16M 18P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},{dictionaryVoicing:bL,minTopNoteDiff:gL}=wb.default||wb,ML={m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},CL={m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},xL={"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]},PL={"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"],m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},_s={lefthand:{dictionary:ML,range:["F3","A4"],mode:"below",anchor:"a4"},triads:{dictionary:xL,mode:"below",anchor:"a4"},guidetones:{dictionary:CL,mode:"above",anchor:"a4"},legacy:{dictionary:PL,mode:"below",anchor:"a4"}};let tP="ireal";const Df=t=>tP=t,eP=(t,e)=>Af(t,_s[t].dictionary,e),Af=(t,e,n=["F3","A4"])=>{Object.assign(_s,{[t]:{dictionary:e,range:n}})},po=(t,e,n={})=>{Object.assign(_s,{[t]:{dictionary:e,...n}})},GL=(t,e,n)=>{const{dictionary:s,range:r}=_s[e];return bL({chord:t,dictionary:s,range:r,picker:gL,lastVoicing:n})};let Hi;const nP=B("voicings",function(t,e){return e.fmap(n=>(Hi=GL(n,t,Hi),jt(...Hi))).outerJoin()}),sP=B("rootNotes",function(t,e){return e.fmap(n=>{const s=(n.chord||n).match(/^([a-gA-G][b#]?).*$/)[1]+t;return n.chord?{note:s}:s})}),rP=B("voicing",function(t){return t.fmap(e=>{e=typeof e=="string"?{chord:e}:e;let{dictionary:n=tP,chord:s,anchor:r,offset:i,mode:a,n:o,octaves:u,...c}=e;n=typeof n=="string"?_s[n]:{dictionary:n,mode:"below",anchor:"c5"};try{let l=uL({...n,chord:s,anchor:r,offset:i,mode:a,n:o,octaves:u});return jt(...l).note().set(c)}catch{return ye(`[voicing]: unknown chord "${s}"`),zt}}).outerJoin()});function mr(t,e,n){n=Array.isArray(n)?n:[n],n.forEach(s=>{s[e]=s[t]})}mr("^","",[ps,Es]);Object.keys(ps).forEach(t=>{if(t.includes("-")){let e=t.replace("-","m");mr(t,e,[Es,ps])}if(t.includes("^")){let e=t.replace("^","M");mr(t,e,[Es,ps])}if(t.includes("+")){let e=t.replace("+","aug");mr(t,e,[Es,ps])}});po("ireal",ps);po("ireal-ext",Es);function iP(){Hi=void 0,Df("ireal")}const aP="@strudel/tonal",XL=Object.freeze(Object.defineProperty({__proto__:null,addVoicings:Af,complex:Es,packageName:aP,registerVoicings:po,resetVoicings:iP,rootNotes:sP,scale:Ux,scaleTrans:Jx,scaleTranspose:jx,setDefaultVoicings:Df,setVoicingRange:eP,simple:ps,strans:_x,trans:Hx,transpose:Yx,voicing:rP,voicingAlias:mr,voicingRegistry:_s,voicings:nP},Symbol.toStringTag,{value:"Module"}));async function oP(){const t=ri(ri,Promise.resolve().then(()=>s5),Promise.resolve().then(()=>Fw),Promise.resolve().then(()=>XL),Promise.resolve().then(()=>Zw),{hush:cP,evaluate:lP});await Promise.all([t,V1()])}let gu,Ws;function uP(t={}){D1(),t.miniAllStrings!==!1&&j1();const{prebake:e,...n}=t;return Ws=N1({...n,transpiler:zC}),gu=(async()=>(await oP(),await(e==null?void 0:e()),Ws))(),ii(()=>Ws.scheduler.now()),gu}window.initStrudel=uP;_.prototype.play=function(){if(!Ws)throw new Error(".play: no repl found. Have you called initStrudel?");return gu.then(()=>{Ws.setPattern(this,!0)}),this};function cP(){Ws.stop()}async function lP(t,e=!0){return Ws.evaluate(t,e)}const QL=Object.freeze(Object.defineProperty({__proto__:null,ClockCollator:Ju,Cyclist:i1,DEFAULT_MAX_POLYPHONY:za,Fraction:j,Hap:ee,Pattern:_,StartRules:Y5,State:Rs,SyntaxError:ys,TimeSpan:se,Warpmode:$i,__chooseWith:Sa,_brandBy:Da,_fitslice:cc,_irand:Aa,_keyDown:Va,_match:lc,_mod:qe,_morph:Ma,_polymeterListSteps:pc,_retime:Ui,_slices:Oi,accelerate:yl,activeLabel:dd,ad:Mm,add:h2,addVoicings:Af,adsr:gm,aliasBank:Z5,almostAlways:k9,almostNever:L9,always:W9,amp:Cl,get analysers(){return we},get analysersData(){return ds},analyze:El,anchor:Rd,and:A2,apply:aM,applyFM:gr,applyGainCurve:Sn,applyN:ac,applyParameterModulators:qi,ar:xm,arp:Hg,arpWith:Yg,arrange:Og,as:Nm,att:Pl,attack:xl,averageArray:Wu,backgroundImage:e5,band:b2,bandf:Yl,bandq:Jl,bank:Ll,base64ToUnicode:Hu,bbexpr:yh,bbst:gh,beat:V3,begin:Ul,berlin:x9,berlinWith:e1,binary:a9,binaryN:Um,bind:n2,binshift:I0,bite:pM,bjork:Ga,blshift:C2,bor:g2,bp:jl,bpa:Qh,bpattack:Oh,bpd:sp,bpdecay:np,bpe:Hh,bpenv:Yh,bpf:Hl,bpq:_l,bpr:fp,bprelease:mp,bps:cp,bpsustain:up,brak:PM,brand:p9,brandBy:h9,brshift:x2,bxor:M2,bypass:qM,byteBeatExpression:fh,byteBeatStartTime:bh,calculateSteps:Kg,cat:br,ccn:wm,ccv:Fm,ceil:E2,ch:Ch,channel:kh,channels:Mh,choose:Qm,chooseCycles:qm,chooseIn:m9,chooseInWith:gi,chooseOut:f9,chooseWith:bi,chop:P3,chord:Ed,chorus:kl,chunk:NM,chunkBack:YM,chunkBackInto:QM,chunkInto:UM,chunkback:HM,chunkbackinto:OM,chunkinto:_M,clamp:di,cleanupUi:n5,clip:tm,coarse:sh,code2hash:Tg,color:ym,colour:bm,comb:B0,complex:Es,compose:kg,compress:I2,compressSpan:K2,compressor:u0,compressorAttack:h0,compressorKnee:c0,compressorRatio:l0,compressorRelease:p0,compressspan:Y2,connectToDestination:A1,constant:Eg,contract:gc,control:vm,controls:k3,cosine:j3,cosine2:J3,cpm:oM,cps:$0,createClock:Km,createFilter:Ur,createParam:fi,createParams:xa,crush:nh,ctf:zh,ctlNum:Dm,ctranspose:bd,curry:Zt,curve:im,cut:Eh,cutoff:Wh,cycleToSeconds:_i,dec:Rl,decay:zl,defaultPrebake:oP,degrade:X9,degradeBy:G9,degradeByWith:P9,degree:fd,delay:Vp,delayfb:kp,delayfeedback:Lp,delayspeed:Wp,delaysync:Tp,delayt:Rp,delaytime:zp,deltaSlide:am,destroyAudioWorkletNode:Ds,det:Kp,detune:Ip,dfb:Ep,dict:zd,dictionary:Wd,dist:i0,distort:r0,distortionAlgorithms:Ea,distorttype:o0,distortvol:a0,div:m2,djf:Sp,dough:R5,doughTrigger:z1,doughsamples:B1,drawFrequencyScope:K1,drawLine:Ou,drawTimeScope:I1,drive:lh,drop:fc,dry:jp,drywet:h1,ds:Cm,dspWorklet:W1,dt:Bp,duck:hh,duckattack:mh,duckdepth:ph,duckonset:dh,dur:sm,duration:nm,e:z3,early:uM,echo:LM,echoWith:DM,echowith:AM,effectSend:ai,eish:Y3,end:Ol,enhance:z0,eq:v2,eqt:w2,euclid:W3,euclidLegato:N3,euclidLegatoRot:I3,euclidRot:B3,euclidish:K3,euclidrot:R3,evalScope:ri,evaluate:lP,every:iM,expand:bc,expression:g0,extend:yc,fadeInTime:Up,fadeOutTime:_p,fadeTime:Jp,fanchor:bp,fast:Q2,fastChunk:JM,fastGap:H2,fastcat:Ge,fastchunk:jM,fastgap:j2,fft:Wl,filter:s3,filterWhen:r3,firstOf:rM,fit:F3,flatten:Ln,floor:k2,fm:Zl,fmattack:wl,fmdecay:Dl,fmenv:vl,fmh:Gl,fmi:Xl,fmrelease:Sl,fmsustain:Al,fmvelocity:Vl,fmwave:Fl,focus:J2,focusSpan:_2,focusspan:U2,fractionalArgs:Wg,frameRate:H0,frames:j0,freeze:V0,freq:Op,freqToMidi:ha,fromBipolar:z2,fshift:C0,fshiftnote:x0,fshiftphase:P0,ftype:yp,func:V2,gain:gl,gainNode:Ve,gap:Ys,gat:cd,gate:ud,getADSRValues:Qe,getAnalyserById:S1,getAnalyzerData:Ci,getAudioContext:Dt,getAudioContextCurrentTime:c5,getAudioDevices:X1,getCachedBuffer:f5,getCompressor:l1,getControlName:Pa,getCurrentKeyboardState:Uu,getDefaultValue:ne,getDistortion:p1,getDistortionAlgorithm:m5,getEventOffsetMs:Ag,getFreq:Eu,getFrequency:Ru,getFrequencyFromValue:ls,getLeafLocation:Na,getLeafLocations:Ia,getLeaves:H1,getLfo:Xr,getLoadedBuffer:y5,getOscillator:k1,getParamADSR:Oe,getPerformanceTimeSeconds:Ig,getPitchEnvelope:Bs,getPlayableNoteValue:Lg,getSampleBuffer:f1,getSampleBufferSource:y1,getSampleInfo:m1,getSound:Vs,getSoundIndex:Vg,getTime:Qi,getTrigger:a1,getVibratoOscillator:Ts,getWidgetID:RC,getWorklet:ke,getZZFX:E1,grow:o3,gt:G2,gte:Z2,h:J5,harmonic:gd,hash2code:Ng,hbrick:K0,hcutoff:Xp,hold:Kl,hours:J0,hp:vp,hpa:Uh,hpattack:_h,hpd:ep,hpdecay:tp,hpe:Kh,hpenv:Ih,hpf:Zp,hpq:Fp,hpr:dp,hprelease:pp,hps:op,hpsustain:ap,hresonance:wp,hsl:n3,hsla:e3,hurry:q2,hush:cP,id:Fs,imag:W0,inhabit:J9,inhabitmod:U9,initAudio:F1,initAudioOnFirstClick:D1,initStrudel:uP,innerBind:s2,inside:eM,inv:MM,invert:gM,ir:Ud,irand:d9,irbegin:qd,iresponse:Od,irspeed:Qd,isControlName:Zc,isNote:Ms,isNoteWithOctave:Fg,isPattern:ya,isaw:yi,isaw2:va,iter:zM,iterBack:RM,iterback:BM,itri:Q3,itri2:q3,jux:FM,juxBy:vM,juxby:wM,kcutoff:Z0,keep:c2,keepif:l2,keyAlias:_u,keyDown:R9,krush:X0,label:md,lastOf:sM,late:rc,lbrick:Y0,legato:em,leslie:ld,lfo:cm,linger:dM,listRange:xr,loadBuffer:Wa,lock:Np,logKey:la,loop:Ql,loopAt:v3,loopAtCps:D3,loopBegin:ql,loopEnd:th,loopat:w3,loopatcps:A3,loopb:$l,loope:eh,lp:Bh,lpa:Jh,lpattack:jh,lpd:$h,lpdecay:qh,lpe:Nh,lpenv:Th,lpf:Rh,lpq:Ap,lpr:hp,lprelease:lp,lps:ip,lpsustain:rp,lrate:hd,lsize:pd,lt:P2,lte:X2,m:j5,mapArgs:da,mask:qg,midi2note:Sg,midiToFreq:zs,midibend:Wm,midichan:Pm,midicmd:Zm,midimap:Gm,midiport:Xm,miditouch:zm,mini:Ka,mini2ast:Zr,miniAllStrings:j1,minify:_5,minutes:_0,mod:f2,mode:Nd,morph:L3,mouseX:n9,mouseY:t9,mousex:e9,mousey:$3,mtranspose:yd,mul:d2,n:ml,nanFallback:zu,ne:F2,net:D2,never:E9,noise:xp,noises:ka,note:fl,noteToMidi:wn,nothing:pn,nrpnn:Am,nrpv:Sm,nudge:xd,numeralArgs:Ke,objectMap:ju,octave:Pd,octaveR:Cd,octaves:Td,octer:v0,octersub:w0,octersubsub:F0,off:xM,offset:Bd,often:S9,onTriggerSample:C1,onTriggerSynth:R1,or:S2,orbit:Gd,oschost:Bm,oscport:Tm,outerBind:r2,outside:nM,overgain:Xd,overshape:Zd,pace:hc,packageName:aP,pairs:Iu,palindrome:ZM,pan:vd,panchor:od,panorient:Ad,panspan:wd,pansplay:Fd,panwidth:Dd,parse:Y1,parseFractional:Nu,parseNumeral:pa,partials:R0,patt:qp,pattack:Qp,patternifyAST:js,pcurve:ad,pdec:td,pdecay:$p,penv:id,perlin:C9,perlinWith:t1,ph:Zh,phasdp:Lh,phaser:vh,phasercenter:Dh,phaserdepth:Sh,phaserrate:Xh,phasersweep:wh,phc:Ah,phd:Vh,phs:Fh,pick:n1,pickF:B9,pickOut:N9,pickReset:H9,pickRestart:K9,pickSqueeze:_9,pickmod:s1,pickmodF:T9,pickmodOut:I9,pickmodReset:j9,pickmodRestart:Y9,pickmodSqueeze:O9,pipe:Tu,pitchJump:om,pitchJumpTime:um,ply:O2,plyForEach:WM,plyWith:EM,pm:_g,polyBind:o2,polyTouch:Rm,polymeter:mi,polyrhythm:jg,postgain:Ml,pow:y2,pr:Jg,prel:rd,prelease:sd,press:XM,pressBy:GM,processSampleMap:g1,progNum:Vm,psus:nd,psustain:ed,pure:te,pw:xh,pwrate:Ph,pwsweep:Gh,rand:Fe,rand2:l9,randcat:y9,randrun:Om,range:R2,range2:T2,rangex:B2,rarely:V9,rate:Sd,ratio:N2,rdim:jd,real:E0,ref:S3,register:B,registerControl:D,registerLanguage:zF,registerSampleSource:x1,registerSamplesPrefix:C5,registerSound:Gn,registerSynthSounds:V1,registerVoicings:po,registerWaveTable:Ta,registerWidgetType:WF,registerWorklet:w1,registerZZFXSounds:W5,reify:U,rel:Il,release:Nl,removeUndefineds:Ks,repeatCycles:TM,repeatTime:lm,repl:t5,replicate:a3,resetDefaultValues:v1,resetDefaults:F5,resetGlobalEffects:k5,resetLoadedSounds:S5,resetVoicings:iP,resonance:Dp,rev:ic,reverseBuffer:b1,rfade:_d,rib:t3,ribbon:$M,ring:D0,ringdf:S0,ringf:A0,rlp:Yd,room:Id,roomdim:Hd,roomfade:Jd,roomlp:Kd,roomsize:$d,rootNotes:sP,rotate:Bu,round:L2,rsize:n0,run:_m,s:vc,s_add:m3,s_alt:l3,s_cat:c3,s_contract:g3,s_expand:y3,s_extend:b3,s_polymeter:h3,s_sub:f3,s_taper:p3,s_taperlist:d3,s_tour:M3,s_zip:C3,samples:M1,saw:Gr,saw2:Za,scale:Ux,scaleTrans:Jx,scaleTranspose:jx,scram:N0,scramble:c9,scrub:Im,seconds:U0,seg:fM,segment:mM,semitone:Ld,seq:sc,seqPLoop:Qg,sequence:dn,sequenceP:qu,set:u2,setDefault:w5,setDefaultAudioContext:c1,setDefaultValue:Ra,setDefaultValues:D5,setDefaultVoicings:Df,setGainCurve:X5,setLogger:u1,setMaxPolyphony:P1,setMultiChannelOrbits:G1,setStringParser:Qu,setTime:ii,setVersionDefaults:A5,setVoicingRange:eP,shape:s0,shrink:Cc,shrinklist:Mc,shuffle:u9,signal:tn,silence:zt,simple:ps,sine:Ym,sine2:wa,size:t0,slice:Gc,slide:Vd,slow:$2,slowChunk:KM,slowcat:ns,slowcatPrime:ba,slowchunk:IM,smear:T0,sol2note:zg,someCycles:A9,someCyclesBy:D9,sometimes:F9,sometimesBy:w9,songPtr:O0,sound:wc,soundAlias:v5,soundMap:hn,source:pl,sparsity:tM,speak:q9,speed:Ca,splice:Z3,splitAt:ma,spread:Hp,square:Hm,square2:_3,squeeze:Q9,squeezeBind:i2,squiz:f0,src:dl,stack:jt,stackBy:Ug,stackCentre:nc,stackLeft:tc,stackRight:ec,steady:H3,stepBind:a2,stepalt:dc,stepcat:Ee,steps:x3,stepsPerOctave:Md,strans:_x,stretch:d0,striate:G3,stringifyValues:fa,struct:$g,strudelScope:r1,stut:kM,stutWith:SM,stutwith:VM,sub:p2,superdough:Ba,superdoughTrigger:E5,superimpose:t2,sus:Tl,sustain:Bl,sustainpedal:M0,swing:bM,swingBy:yM,sysex:Lm,sysexdata:Em,sysexid:km,sz:e0,tables:T5,take:mc,time:Fa,timeCat:ga,timecat:u3,toBipolar:W2,tokenizeNote:ku,tour:xc,trans:Hx,transpiler:zC,transpose:Yx,tremolo:rh,tremolodepth:ah,tremolophase:uh,tremoloshape:ch,tremoloskew:oh,tremolosync:ih,tri:U3,tri2:O3,triode:G0,tsdelay:k0,uid:Q0,undegrade:v9,undegradeBy:Z9,unicodeToBase64:Yu,uniq:Rg,uniqsort:Bg,uniqsortr:Ku,unison:Yp,unit:m0,v:Cp,val:q0,valueToMidi:Dg,velocity:bl,vib:gp,vibmod:Pp,vibrato:Mp,vmod:Gp,voice:kd,voicing:rP,voicingAlias:mr,voicingRegistry:_s,voicings:nP,vowel:y0,warp:Hc,warpatt:_c,warpattack:Jc,warpdc:rl,warpdec:Oc,warpdecay:Uc,warpdepth:nl,warpenv:ll,warpmode:al,warprate:el,warprel:tl,warprelease:$c,warpshape:sl,warpskew:il,warpsus:qc,warpsustain:Qc,warpsync:hl,waveformN:L1,waveloss:b0,wavetablePhaseRand:cl,wavetablePosition:Dc,wavetableWarp:jc,wavetableWarpMode:ol,wchoose:g9,wchooseCycles:$m,webAudioTimeout:Ss,webaudioOutput:T1,webaudioRepl:N1,when:CM,whenKey:z9,withValue:e2,within:i3,wrandcat:M9,wt:Fc,wtatt:Vc,wtattack:Sc,wtdc:Kc,wtdec:kc,wtdecay:Lc,wtdepth:Nc,wtenv:Ac,wtphaserand:ul,wtrate:Bc,wtrel:Rc,wtrelease:zc,wtshape:Ic,wtskew:Yc,wtsus:Wc,wtsustain:Ec,wtsync:Tc,xfade:Xc,xsdelay:L0,zcrush:dm,zdelay:mm,zip:Pc,zipWith:pi,zmod:pm,znoise:hm,zoom:cM,zoomArc:lM,zoomarc:hM,zrand:rm,zzfx:fm},Symbol.toStringTag,{value:"Module"})),ZL="data:text/javascript;base64,dmFyIGF0PU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgaHQ9KHUsbSxmKT0+bSBpbiB1P2F0KHUsbSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6Zn0pOnVbbV09Zjt2YXIgZT0odSxtLGYpPT5odCh1LHR5cGVvZiBtIT0ic3ltYm9sIj9tKyIiOm0sZik7KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NvbnN0IHU9dHlwZW9mIHNhbXBsZVJhdGU8InUiP3NhbXBsZVJhdGU6NDhlMyxtPU1hdGguUEkvdSxmPTEvdTtsZXQgVj1oPT5NYXRoLnBvdyhoLDIpO2Z1bmN0aW9uIF8oaCl7cmV0dXJuIFYoaCl9ZnVuY3Rpb24gTyhoLHMsdCl7Y29uc3QgaT1NYXRoLnNpbigoMS10KSouNSpNYXRoLlBJKSxuPU1hdGguc2luKHQqLjUqTWF0aC5QSSk7cmV0dXJuIGgqaStzKm59Y2xhc3MgZ3tjb25zdHJ1Y3Rvcigpe2UodGhpcywicGhhc2UiLDApfXVwZGF0ZShzKXtjb25zdCB0PU1hdGguc2luKHRoaXMucGhhc2UqMipNYXRoLlBJKTtyZXR1cm4gdGhpcy5waGFzZT0odGhpcy5waGFzZStzL3UpJTEsdH19Y2xhc3MgSXtjb25zdHJ1Y3Rvcigpe2UodGhpcywicGhhc2UiLDApfXVwZGF0ZShzKXtyZXR1cm4gdGhpcy5waGFzZSs9ZipzLHRoaXMucGhhc2UlMSoyLTF9fWZ1bmN0aW9uIE0oaCxzKXtyZXR1cm4gaDxzPyhoLz1zLGgraC1oKmgtMSk6aD4xLXM/KGg9KGgtMSkvcyxoKmgraCtoKzEpOjB9Y2xhc3MgU3tjb25zdHJ1Y3RvcihzPXt9KXt0aGlzLnBoYXNlPXMucGhhc2U/PzB9dXBkYXRlKHMpe2NvbnN0IHQ9cy91O2xldCBpPU0odGhpcy5waGFzZSx0KSxuPTIqdGhpcy5waGFzZS0xLWk7cmV0dXJuIHRoaXMucGhhc2UrPXQsdGhpcy5waGFzZT4xJiYodGhpcy5waGFzZS09MSksbn19ZnVuY3Rpb24gVChoLHMsdCl7cmV0dXJuIGg8Mj8wOigobixsLHIpPT5yKihsLW4pK24pKC1zKi41LHMqLjUsdC8oaC0xKSl9ZnVuY3Rpb24geihoLHMpe3JldHVybiBoKk1hdGgucG93KDIscy8xMil9Y2xhc3MgRntjb25zdHJ1Y3RvcihzPXt9KXt0aGlzLnZvaWNlcz1zLnZvaWNlcz8/NSx0aGlzLmZyZXFzcHJlYWQ9cy5mcmVxc3ByZWFkPz8uMix0aGlzLnBhbnNwcmVhZD1zLnBhbnNwcmVhZD8/LjQsdGhpcy5waGFzZT1uZXcgRmxvYXQzMkFycmF5KHRoaXMudm9pY2VzKS5tYXAoKCk9Pk1hdGgucmFuZG9tKCkpfXVwZGF0ZShzKXtjb25zdCB0PU1hdGguc3FydCgxLXRoaXMucGFuc3ByZWFkKSxpPU1hdGguc3FydCh0aGlzLnBhbnNwcmVhZCk7bGV0IG49MCxsPTA7Zm9yKGxldCByPTA7cjx0aGlzLnZvaWNlcztyKyspe2NvbnN0IGE9eihzLFQodGhpcy52b2ljZXMsdGhpcy5mcmVxc3ByZWFkLHIpKS91LGM9KHImMSk9PTE7bGV0IGQ9dDtjJiYoZD1pKTtsZXQgYj1NKHRoaXMucGhhc2Vbcl0sYSksRT0yKnRoaXMucGhhc2Vbcl0tMS1iO249bitFKmQsbD1sK0UqZCx0aGlzLnBoYXNlW3JdKz1hLHRoaXMucGhhc2Vbcl0+MSYmKHRoaXMucGhhc2Vbcl0tPTEpfXJldHVybiBuK2x9fWNsYXNzIGt7Y29uc3RydWN0b3IoKXtlKHRoaXMsInBoYXNlIiwwKX11cGRhdGUocyl7dGhpcy5waGFzZSs9ZipzO2xldCB0PXRoaXMucGhhc2UlMTtyZXR1cm4odDwuNT8yKnQ6MS0yKih0LS41KSkqMi0xfX1jbGFzcyBxe2NvbnN0cnVjdG9yKCl7ZSh0aGlzLCJzMCIsMCk7ZSh0aGlzLCJzMSIsMCl9dXBkYXRlKHMsdCxpPTApe2k9TWF0aC5tYXgoaSwwKSx0PU1hdGgubWluKHQsMmU0KTtjb25zdCBuPTIqTWF0aC5zaW4odCptKSxyPTEtTWF0aC5wb3coLjUsKGkrLjEyNSkvLjEyNSkqbjtyZXR1cm4gdGhpcy5zMD1yKnRoaXMuczAtbip0aGlzLnMxK24qcyx0aGlzLnMxPXIqdGhpcy5zMStuKnRoaXMuczAsdGhpcy5zMX19Y2xhc3MgQ3tjb25zdHJ1Y3RvcihzPTApe3RoaXMucGhhc2U9c31zYXcocyx0KXtsZXQgaT0odGhpcy5waGFzZStzKSUxLG49TShpLHQpO3JldHVybiAyKmktMS1ufXVwZGF0ZShzLHQ9LjUpe2NvbnN0IGk9cy91O2xldCBuPXRoaXMuc2F3KDAsaSktdGhpcy5zYXcodCxpKTtyZXR1cm4gdGhpcy5waGFzZT0odGhpcy5waGFzZStpKSUxLG4rdCoyLTF9fWNsYXNzIEx7Y29uc3RydWN0b3IoKXtlKHRoaXMsInBoYXNlIiwwKX11cGRhdGUocyx0PS41KXtyZXR1cm4gdGhpcy5waGFzZSs9ZipzLHRoaXMucGhhc2UlMTx0PzE6LTF9fWNsYXNzIFB7Y29uc3RydWN0b3IoKXtlKHRoaXMsInVwZGF0ZSIscz0+TWF0aC5yYW5kb20oKTxzKmY/TWF0aC5yYW5kb20oKTowKX19Y2xhc3MgTnt1cGRhdGUoKXtyZXR1cm4gTWF0aC5yYW5kb20oKSoyLTF9fWNsYXNzIEd7Y29uc3RydWN0b3IoKXt0aGlzLm91dD0wfXVwZGF0ZSgpe2xldCBzPU1hdGgucmFuZG9tKCkqMi0xO3JldHVybiB0aGlzLm91dD0odGhpcy5vdXQrLjAyKnMpLzEuMDIsdGhpcy5vdXR9fWNsYXNzIGp7Y29uc3RydWN0b3IoKXt0aGlzLmIwPTAsdGhpcy5iMT0wLHRoaXMuYjI9MCx0aGlzLmIzPTAsdGhpcy5iND0wLHRoaXMuYjU9MCx0aGlzLmI2PTB9dXBkYXRlKCl7Y29uc3Qgcz1NYXRoLnJhbmRvbSgpKjItMTt0aGlzLmIwPS45OTg4Nip0aGlzLmIwK3MqLjA1NTUxNzksdGhpcy5iMT0uOTkzMzIqdGhpcy5iMStzKi4wNzUwNzU5LHRoaXMuYjI9Ljk2OSp0aGlzLmIyK3MqLjE1Mzg1Mix0aGlzLmIzPS44NjY1KnRoaXMuYjMrcyouMzEwNDg1Nix0aGlzLmI0PS41NSp0aGlzLmI0K3MqLjUzMjk1MjIsdGhpcy5iNT0tLjc2MTYqdGhpcy5iNS1zKi4wMTY4OTg7Y29uc3QgdD10aGlzLmIwK3RoaXMuYjErdGhpcy5iMit0aGlzLmIzK3RoaXMuYjQrdGhpcy5iNSt0aGlzLmI2K3MqLjUzNjI7cmV0dXJuIHRoaXMuYjY9cyouMTE1OTI2LHQqLjExfX1jbGFzcyBCe2NvbnN0cnVjdG9yKCl7ZSh0aGlzLCJwaGFzZSIsMSl9dXBkYXRlKHMpe3RoaXMucGhhc2UrPWYqcztsZXQgdD10aGlzLnBoYXNlPj0xPzE6MDtyZXR1cm4gdGhpcy5waGFzZT10aGlzLnBoYXNlJTEsdH19ZnVuY3Rpb24gUihoLHMsdCxpPTEpe2lmKGg8PTApcmV0dXJuIHM7aWYoaD49MSlyZXR1cm4gdDtsZXQgbjtyZXR1cm4gaT09PTA/bj1oOmk+MD9uPU1hdGgucG93KGgsaSk6bj0xLU1hdGgucG93KDEtaCwtaSkscysodC1zKSpufWNsYXNzIHZ7Y29uc3RydWN0b3Iocz17fSl7dGhpcy5zdGF0ZT0ib2ZmIix0aGlzLnN0YXJ0VGltZT0wLHRoaXMuc3RhcnRWYWw9MCx0aGlzLmRlY2F5Q3VydmU9cy5kZWNheUN1cnZlPz8xfXVwZGF0ZShzLHQsaSxuLGwscil7c3dpdGNoKHRoaXMuc3RhdGUpe2Nhc2Uib2ZmIjpyZXR1cm4gdD4wJiYodGhpcy5zdGF0ZT0iYXR0YWNrIix0aGlzLnN0YXJ0VGltZT1zLHRoaXMuc3RhcnRWYWw9MCksMDtjYXNlImF0dGFjayI6e2xldCBwPXMtdGhpcy5zdGFydFRpbWU7cmV0dXJuIHA+aT8odGhpcy5zdGF0ZT0iZGVjYXkiLHRoaXMuc3RhcnRUaW1lPXMsMSk6UihwL2ksdGhpcy5zdGFydFZhbCwxLDEpfWNhc2UiZGVjYXkiOntsZXQgcD1zLXRoaXMuc3RhcnRUaW1lLGE9UihwL24sMSxsLC10aGlzLmRlY2F5Q3VydmUpO3JldHVybiB0PD0wPyh0aGlzLnN0YXRlPSJyZWxlYXNlIix0aGlzLnN0YXJ0VGltZT1zLHRoaXMuc3RhcnRWYWw9YSxhKTpwPm4/KHRoaXMuc3RhdGU9InN1c3RhaW4iLHRoaXMuc3RhcnRUaW1lPXMsbCk6YX1jYXNlInN1c3RhaW4iOnJldHVybiB0PD0wJiYodGhpcy5zdGF0ZT0icmVsZWFzZSIsdGhpcy5zdGFydFRpbWU9cyx0aGlzLnN0YXJ0VmFsPWwpLGw7Y2FzZSJyZWxlYXNlIjp7bGV0IHA9cy10aGlzLnN0YXJ0VGltZTtpZihwPnIpcmV0dXJuIHRoaXMuc3RhdGU9Im9mZiIsMDtsZXQgYT1SKHAvcix0aGlzLnN0YXJ0VmFsLDAsLXRoaXMuZGVjYXlDdXJ2ZSk7cmV0dXJuIHQ+MCYmKHRoaXMuc3RhdGU9ImF0dGFjayIsdGhpcy5zdGFydFRpbWU9cyx0aGlzLnN0YXJ0VmFsPWEpLGF9fXRocm93ImludmFsaWQgZW52ZWxvcGUgc3RhdGUifX1jb25zdCBXPTEwO2NsYXNzIHh7Y29uc3RydWN0b3IoKXtlKHRoaXMsIndyaXRlSWR4IiwwKTtlKHRoaXMsInJlYWRJZHgiLDApO2UodGhpcywiYnVmZmVyIixuZXcgRmxvYXQzMkFycmF5KFcqdSkpfXdyaXRlKHMsdCl7dGhpcy53cml0ZUlkeD0odGhpcy53cml0ZUlkeCsxKSV0aGlzLmJ1ZmZlci5sZW5ndGgsdGhpcy5idWZmZXJbdGhpcy53cml0ZUlkeF09cztsZXQgaT1NYXRoLm1pbihNYXRoLmZsb29yKHUqdCksdGhpcy5idWZmZXIubGVuZ3RoLTEpO3RoaXMucmVhZElkeD10aGlzLndyaXRlSWR4LWksdGhpcy5yZWFkSWR4PDAmJih0aGlzLnJlYWRJZHgrPXRoaXMuYnVmZmVyLmxlbmd0aCl9dXBkYXRlKHMsdCl7cmV0dXJuIHRoaXMud3JpdGUocyx0KSx0aGlzLmJ1ZmZlclt0aGlzLnJlYWRJZHhdfX1jbGFzcyBYe2NvbnN0cnVjdG9yKCl7ZSh0aGlzLCJkZWxheSIsbmV3IHgpO2UodGhpcywibW9kdWxhdG9yIixuZXcgayl9dXBkYXRlKHMsdCxpLG4sbCl7Y29uc3Qgcj10aGlzLm1vZHVsYXRvci51cGRhdGUobikqbCxwPXRoaXMuZGVsYXkudXBkYXRlKHMsaSooMStyKSk7cmV0dXJuIE8ocyxwLHQpfX1jbGFzcyAke2NvbnN0cnVjdG9yKCl7ZSh0aGlzLCJob2xkIiwwKTtlKHRoaXMsInQiLDApfXVwZGF0ZShzLHQpe3JldHVybiB0aGlzLnQrKyV0PT09MCYmKHRoaXMudD0wLHRoaXMuaG9sZD1zKSx0aGlzLmhvbGR9fWNsYXNzIFV7dXBkYXRlKHMsdCl7dD1NYXRoLm1heCgxLHQpO2NvbnN0IGk9TWF0aC5wb3coMix0LTEpO3JldHVybiBNYXRoLnJvdW5kKHMqaSkvaX19Y2xhc3MgWXt1cGRhdGUocyx0PTAsaT0xKXtpPU1hdGgubWF4KC4wMDEsTWF0aC5taW4oMSxpKSk7Y29uc3Qgbj1NYXRoLmV4cG0xKHQpO3JldHVybigxK24pKnMvKDErbipNYXRoLmFicyhzKSkqaX19Y2xhc3Mgd3tjb25zdHJ1Y3RvcihzLHQsaSl7ZSh0aGlzLCJidWZmZXIiKTtlKHRoaXMsInNhbXBsZVJhdGUiKTtlKHRoaXMsInBvcyIsMCk7ZSh0aGlzLCJzYW1wbGVGcmVxIixBKCkpO3RoaXMuYnVmZmVyPXMsdGhpcy5zYW1wbGVSYXRlPXQsdGhpcy5kdXJhdGlvbj10aGlzLmJ1ZmZlci5sZW5ndGgvdGhpcy5zYW1wbGVSYXRlLHRoaXMuc3BlZWQ9dS90aGlzLnNhbXBsZVJhdGUsaSYmKHRoaXMuc3BlZWQqPXRoaXMuZHVyYXRpb24pfXVwZGF0ZShzKXtpZih0aGlzLnBvcz49dGhpcy5idWZmZXIubGVuZ3RoKXJldHVybiAwO2NvbnN0IHQ9cy90aGlzLnNhbXBsZUZyZXEqdGhpcy5zcGVlZDtsZXQgaT10aGlzLmJ1ZmZlcltNYXRoLmZsb29yKHRoaXMucG9zKV07cmV0dXJuIHRoaXMucG9zPXRoaXMucG9zK3QsaX19ZSh3LCJzYW1wbGVzIixuZXcgTWFwKTtjb25zdCB5PShoLHM9ImxpbmVhciIsdCk9Pntjb25zdFtyLHAsYSxjXT1oO2lmKHI9PW51bGwmJnA9PW51bGwmJmE9PW51bGwmJmM9PW51bGwpcmV0dXJuIHQ/P1suMDAxLC4wMDEsMSwuMDFdO2NvbnN0IGQ9YT8/KHIhPW51bGwmJnA9PW51bGx8fHI9PW51bGwmJnA9PW51bGw/MTouMDAxKTtyZXR1cm5bTWF0aC5tYXgocj8/MCwuMDAxKSxNYXRoLm1heChwPz8wLC4wMDEpLE1hdGgubWluKGQsMSksTWF0aC5tYXgoYz8/MCwuMDEpXX07bGV0IEQ9e3NpbmU6ZyxzYXc6Uyx6YXc6SSxzYXd0b290aDpTLHphd3Rvb3RoOkksc3VwZXJzYXc6Rix0cmk6ayx0cmlhbmdsZTprLHB1bHNlOkMsc3F1YXJlOkMscHVsemU6TCxkdXN0OlAsY3JhY2tsZTpQLGltcHVsc2U6Qix3aGl0ZTpOLGJyb3duOkcscGluazpqfTtjb25zdCBaPXtjaG9ydXM6MCxub3RlOjQ4LHM6InRyaWFuZ2xlIixiYW5rOiIiLGdhaW46MSxwb3N0Z2FpbjoxLHZlbG9jaXR5OjEsZGVuc2l0eToiLjAzIixmdHlwZToiMTJkYiIsZmFuY2hvcjowLHJlc29uYW5jZTowLGhyZXNvbmFuY2U6MCxiYW5kcTowLGNoYW5uZWxzOlsxLDJdLHBoYXNlcmRlcHRoOi43NSxzaGFwZXZvbDoxLGRpc3RvcnR2b2w6MSxkZWxheTowLGJ5dGVCZWF0RXhwcmVzc2lvbjoiMCIsZGVsYXlmZWVkYmFjazouNSxkZWxheXNwZWVkOjEsZGVsYXl0aW1lOi4yNSxvcmJpdDoxLGk6MSxmZnQ6OCx6OiJ0cmlhbmdsZSIscGFuOi41LGZtaDoxLGZtZW52OjAsc3BlZWQ6MSxwdzouNX07bGV0IG89aD0+WltoXTtjb25zdCBIPXtjOjAsZDoyLGU6NCxmOjUsZzo3LGE6OSxiOjExfSxKPXsiIyI6MSxiOi0xLHM6MSxmOi0xfSxLPShoLHM9Myk9Pnt2YXIgYTtsZXRbdCxpPSIiLG49IiJdPSgoYT1TdHJpbmcoaCkubWF0Y2goL14oW2EtZ0EtR10pKFsjYnNmXSopKFswLTldKikkLykpPT1udWxsP3ZvaWQgMDphLnNsaWNlKDEpKXx8W107aWYoIXQpdGhyb3cgbmV3IEVycm9yKCdub3QgYSBub3RlOiAiJytoKyciJyk7Y29uc3QgbD1IW3QudG9Mb3dlckNhc2UoKV0scj0oaT09bnVsbD92b2lkIDA6aS5zcGxpdCgiIikucmVkdWNlKChjLGQpPT5jK0pbZF0sMCkpfHwwO3JldHVybihOdW1iZXIobnx8cykrMSkqMTIrbCtyfSxRPWg9Pk1hdGgucG93KDIsKGgtNjkpLzEyKSo0NDAsQT1oPT4oaD1ofHxvKCJub3RlIiksdHlwZW9mIGg9PSJzdHJpbmciJiYoaD1LKGgsMykpLFEoaCkpO2NsYXNzIHR0e2NvbnN0cnVjdG9yKHMpe2UodGhpcywiaWQiLDApO2UodGhpcywib3V0IixbMCwwXSk7ZSh0aGlzLCJhdHRhY2siKTtlKHRoaXMsImRlY2F5Iik7ZSh0aGlzLCJzdXN0YWluIik7ZSh0aGlzLCJyZWxlYXNlIik7ZSh0aGlzLCJfYmVnaW4iKTtlKHRoaXMsIl9kdXJhdGlvbiIpO2UodGhpcywiX3NvdW5kIik7ZSh0aGlzLCJfY2hhbm5lbHMiLDEpO2UodGhpcywiX2J1ZmZlcnMiKTtlKHRoaXMsInVuaXQiKTtlKHRoaXMsIl9wZW52Iik7ZSh0aGlzLCJwZW52Iik7ZSh0aGlzLCJwYXR0YWNrIik7ZSh0aGlzLCJwZGVjYXkiKTtlKHRoaXMsInBzdXN0YWluIik7ZSh0aGlzLCJwcmVsZWFzZSIpO2UodGhpcywidmliIik7ZSh0aGlzLCJfdmliIik7ZSh0aGlzLCJ2aWJtb2QiKTtlKHRoaXMsIl9mbSIpO2UodGhpcywiZm1oIik7ZSh0aGlzLCJmbWkiKTtlKHRoaXMsIl9mbWVudiIpO2UodGhpcywiZm1hdHRhY2siKTtlKHRoaXMsImZtZGVjYXkiKTtlKHRoaXMsImZtc3VzdGFpbiIpO2UodGhpcywiZm1yZWxlYXNlIik7ZSh0aGlzLCJfbHBlbnYiKTtlKHRoaXMsImxwZW52Iik7ZSh0aGlzLCJscGF0dGFjayIpO2UodGhpcywibHBkZWNheSIpO2UodGhpcywibHBzdXN0YWluIik7ZSh0aGlzLCJscHJlbGVhc2UiKTtlKHRoaXMsIl9ocGVudiIpO2UodGhpcywiaHBlbnYiKTtlKHRoaXMsImhwYXR0YWNrIik7ZSh0aGlzLCJocGRlY2F5Iik7ZSh0aGlzLCJocHN1c3RhaW4iKTtlKHRoaXMsImhwcmVsZWFzZSIpO2UodGhpcywiX2JwZW52Iik7ZSh0aGlzLCJicGVudiIpO2UodGhpcywiYnBhdHRhY2siKTtlKHRoaXMsImJwZGVjYXkiKTtlKHRoaXMsImJwc3VzdGFpbiIpO2UodGhpcywiYnByZWxlYXNlIik7ZSh0aGlzLCJjdXRvZmYiKTtlKHRoaXMsImhjdXRvZmYiKTtlKHRoaXMsImJhbmRmIik7ZSh0aGlzLCJjb2Fyc2UiKTtlKHRoaXMsImNydXNoIik7ZSh0aGlzLCJkaXN0b3J0Iik7ZSh0aGlzLCJmcmVxIik7ZSh0aGlzLCJub3RlIik7ZSh0aGlzLCJfbHBmIik7ZSh0aGlzLCJfaHBmIik7ZSh0aGlzLCJfYnBmIik7ZSh0aGlzLCJfY2hvcnVzIik7ZSh0aGlzLCJfY29hcnNlIik7ZSh0aGlzLCJfY3J1c2giKTtlKHRoaXMsIl9kaXN0b3J0Iik7dmFyIGksbixsLHIscCxhLGM7dGhpcy5mcmVxPz8odGhpcy5mcmVxPUEocy5ub3RlKSksdGhpcy5fYmVnaW49cy5fYmVnaW4sdGhpcy5fZHVyYXRpb249cy5fZHVyYXRpb24sdGhpcy5yZWxlYXNlPXMucmVsZWFzZT8/MDtsZXQgdD10aGlzO2lmKE9iamVjdC5hc3NpZ24odCxzKSx0LnM9dC5zPz9vKCJzIiksdC5nYWluPV8odC5nYWluPz9vKCJnYWluIikpLHQudmVsb2NpdHk9Xyh0LnZlbG9jaXR5Pz9vKCJ2ZWxvY2l0eSIpKSx0LnBvc3RnYWluPV8odC5wb3N0Z2Fpbj8/bygicG9zdGdhaW4iKSksdC5kZW5zaXR5PXQuZGVuc2l0eT8/bygiZGVuc2l0eSIpLHQuZmFuY2hvcj10LmZhbmNob3I/P28oImZhbmNob3IiKSx0LmRyaXZlPXQuZHJpdmU/Py42OSx0LnBoYXNlcmRlcHRoPXQucGhhc2VyZGVwdGg/P28oInBoYXNlcmRlcHRoIiksdC5zaGFwZXZvbD1fKHQuc2hhcGV2b2w/P28oInNoYXBldm9sIikpLHQuZGlzdG9ydHZvbD1fKHQuZGlzdG9ydHZvbD8/bygiZGlzdG9ydHZvbCIpKSx0Lmk9dC5pPz9vKCJpIiksdC5jaG9ydXM9dC5jaG9ydXM/P28oImNob3J1cyIpLHQuZmZ0PXQuZmZ0Pz9vKCJmZnQiKSx0LnBhbj10LnBhbj8/bygicGFuIiksdC5vcmJpdD10Lm9yYml0Pz9vKCJvcmJpdCIpLHQuZm1lbnY9dC5mbWVudj8/bygiZm1lbnYiKSx0LnJlc29uYW5jZT10LnJlc29uYW5jZT8/bygicmVzb25hbmNlIiksdC5ocmVzb25hbmNlPXQuaHJlc29uYW5jZT8/bygiaHJlc29uYW5jZSIpLHQuYmFuZHE9dC5iYW5kcT8/bygiYmFuZHEiKSx0LnNwZWVkPXQuc3BlZWQ/P28oInNwZWVkIiksdC5wdz10LnB3Pz9vKCJwdyIpLFt0LmF0dGFjayx0LmRlY2F5LHQuc3VzdGFpbix0LnJlbGVhc2VdPXkoW3QuYXR0YWNrLHQuZGVjYXksdC5zdXN0YWluLHQucmVsZWFzZV0pLHQuX2hvbGRFbmQ9dC5fYmVnaW4rdC5fZHVyYXRpb24sdC5fZW5kPXQuX2hvbGRFbmQrdC5yZWxlYXNlKy4wMSx0LmZtaSYmKHQucz09PSJzYXcifHx0LnM9PT0ic2F3dG9vdGgiKSYmKHQucz0iemF3IiksRFt0LnNdKXtjb25zdCBkPURbdC5zXTt0Ll9zb3VuZD1uZXcgZCx0Ll9jaGFubmVscz0xfWVsc2UgaWYody5zYW1wbGVzLmhhcyh0LnMpKXtjb25zdCBkPXcuc2FtcGxlcy5nZXQodC5zKTt0Ll9idWZmZXJzPVtdLHQuX2NoYW5uZWxzPWQuY2hhbm5lbHMubGVuZ3RoO2ZvcihsZXQgYj0wO2I8dC5fY2hhbm5lbHM7YisrKXQuX2J1ZmZlcnMucHVzaChuZXcgdyhkLmNoYW5uZWxzW2JdLGQuc2FtcGxlUmF0ZSx0LnVuaXQ9PT0iYyIpKX1lbHNlIGNvbnNvbGUud2Fybigic291bmQgbm90IGxvYWRlZCIsdC5zKTt0LnBlbnYmJih0Ll9wZW52PW5ldyB2KHtkZWNheUN1cnZlOjR9KSxbdC5wYXR0YWNrLHQucGRlY2F5LHQucHN1c3RhaW4sdC5wcmVsZWFzZV09eShbdC5wYXR0YWNrLHQucGRlY2F5LHQucHN1c3RhaW4sdC5wcmVsZWFzZV0pKSx0LnZpYiYmKHQuX3ZpYj1uZXcgZyx0LnZpYm1vZD10LnZpYm1vZD8/bygidmlibW9kIikpLHQuZm1pJiYodC5fZm09bmV3IGcsdC5mbWg9dC5mbWg/P28oImZtaCIpLHQuZm1lbnYmJih0Ll9mbWVudj1uZXcgdih7ZGVjYXlDdXJ2ZToyfSksW3QuZm1hdHRhY2ssdC5mbWRlY2F5LHQuZm1zdXN0YWluLHQuZm1yZWxlYXNlXT15KFt0LmZtYXR0YWNrLHQuZm1kZWNheSx0LmZtc3VzdGFpbix0LmZtcmVsZWFzZV0pKSksdC5fYWRzcj1uZXcgdih7ZGVjYXlDdXJ2ZToyfSksdC5kZWxheT1fKHQuZGVsYXk/P28oImRlbGF5IikpLHQuZGVsYXlmZWVkYmFjaz10LmRlbGF5ZmVlZGJhY2s/P28oImRlbGF5ZmVlZGJhY2siKSx0LmRlbGF5c3BlZWQ9dC5kZWxheXNwZWVkPz9vKCJkZWxheXNwZWVkIiksdC5kZWxheXRpbWU9dC5kZWxheXRpbWU/P28oImRlbGF5dGltZSIpLHQubHBlbnYmJih0Ll9scGVudj1uZXcgdih7ZGVjYXlDdXJ2ZTo0fSksW3QubHBhdHRhY2ssdC5scGRlY2F5LHQubHBzdXN0YWluLHQubHByZWxlYXNlXT15KFt0LmxwYXR0YWNrLHQubHBkZWNheSx0Lmxwc3VzdGFpbix0LmxwcmVsZWFzZV0pKSx0LmhwZW52JiYodC5faHBlbnY9bmV3IHYoe2RlY2F5Q3VydmU6NH0pLFt0LmhwYXR0YWNrLHQuaHBkZWNheSx0Lmhwc3VzdGFpbix0LmhwcmVsZWFzZV09eShbdC5ocGF0dGFjayx0LmhwZGVjYXksdC5ocHN1c3RhaW4sdC5ocHJlbGVhc2VdKSksdC5icGVudiYmKHQuX2JwZW52PW5ldyB2KHtkZWNheUN1cnZlOjR9KSxbdC5icGF0dGFjayx0LmJwZGVjYXksdC5icHN1c3RhaW4sdC5icHJlbGVhc2VdPXkoW3QuYnBhdHRhY2ssdC5icGRlY2F5LHQuYnBzdXN0YWluLHQuYnByZWxlYXNlXSkpLHQuX2Nob3J1cz10LmNob3J1cz9bXTpudWxsLHQuX2xwZj10LmN1dG9mZj9bXTpudWxsLHQuX2hwZj10LmhjdXRvZmY/W106bnVsbCx0Ll9icGY9dC5iYW5kZj9bXTpudWxsLHQuX2NvYXJzZT10LmNvYXJzZT9bXTpudWxsLHQuX2NydXNoPXQuY3J1c2g/W106bnVsbCx0Ll9kaXN0b3J0PXQuZGlzdG9ydD9bXTpudWxsO2ZvcihsZXQgZD0wO2Q8dGhpcy5fY2hhbm5lbHM7ZCsrKShpPXQuX2xwZik9PW51bGx8fGkucHVzaChuZXcgcSksKG49dC5faHBmKT09bnVsbHx8bi5wdXNoKG5ldyBxKSwobD10Ll9icGYpPT1udWxsfHxsLnB1c2gobmV3IHEpLChyPXQuX2Nob3J1cyk9PW51bGx8fHIucHVzaChuZXcgWCksKHA9dC5fY29hcnNlKT09bnVsbHx8cC5wdXNoKG5ldyAkKSwoYT10Ll9jcnVzaCk9PW51bGx8fGEucHVzaChuZXcgVSksKGM9dC5fZGlzdG9ydCk9PW51bGx8fGMucHVzaChuZXcgWSl9dXBkYXRlKHMpe2lmKCF0aGlzLl9zb3VuZCYmIXRoaXMuX2J1ZmZlcnMpcmV0dXJuIDA7bGV0IHQ9KyhzPj10aGlzLl9iZWdpbiYmczw9dGhpcy5faG9sZEVuZCksaT10aGlzLmZyZXEqdGhpcy5zcGVlZDtpZih0aGlzLl9mbSYmdGhpcy5mbWghPT12b2lkIDAmJnRoaXMuZm1pIT09dm9pZCAwKXtsZXQgYT10aGlzLmZtaTtpZih0aGlzLl9mbWVudil7Y29uc3QgYj10aGlzLl9mbWVudi51cGRhdGUocyx0LHRoaXMuZm1hdHRhY2ssdGhpcy5mbWRlY2F5LHRoaXMuZm1zdXN0YWluLHRoaXMuZm1yZWxlYXNlKTthPXRoaXMuZm1lbnYqYiphfWNvbnN0IGM9aSp0aGlzLmZtaCxkPWMqYTtpPWkrdGhpcy5fZm0udXBkYXRlKGMpKmR9aWYodGhpcy5fdmliJiZ0aGlzLnZpYm1vZCE9PXZvaWQgMCYmKGk9aSoyKioodGhpcy5fdmliLnVwZGF0ZSh0aGlzLnZpYikqdGhpcy52aWJtb2QvMTIpKSx0aGlzLl9wZW52JiZ0aGlzLnBlbnYhPT12b2lkIDApe2NvbnN0IGE9dGhpcy5fcGVudi51cGRhdGUocyx0LHRoaXMucGF0dGFjayx0aGlzLnBkZWNheSx0aGlzLnBzdXN0YWluLHRoaXMucHJlbGVhc2UpO2k9aSthKnRoaXMucGVudn1sZXQgbj10aGlzLmN1dG9mZjtpZihuIT09dm9pZCAwJiZ0aGlzLl9scGVudil7Y29uc3QgYT10aGlzLl9scGVudi51cGRhdGUocyx0LHRoaXMubHBhdHRhY2ssdGhpcy5scGRlY2F5LHRoaXMubHBzdXN0YWluLHRoaXMubHByZWxlYXNlKTtuPXRoaXMubHBlbnYqYSpuK259bGV0IGw9dGhpcy5oY3V0b2ZmO2lmKGwhPT12b2lkIDAmJnRoaXMuX2hwZW52JiZ0aGlzLmhwZW52IT09dm9pZCAwKXtjb25zdCBhPXRoaXMuX2hwZW52LnVwZGF0ZShzLHQsdGhpcy5ocGF0dGFjayx0aGlzLmhwZGVjYXksdGhpcy5ocHN1c3RhaW4sdGhpcy5ocHJlbGVhc2UpO2w9MioqdGhpcy5ocGVudiphKmwrbH1sZXQgcj10aGlzLmJhbmRmO2lmKHIhPT12b2lkIDAmJnRoaXMuX2JwZW52JiZ0aGlzLmJwZW52IT09dm9pZCAwKXtjb25zdCBhPXRoaXMuX2JwZW52LnVwZGF0ZShzLHQsdGhpcy5icGF0dGFjayx0aGlzLmJwZGVjYXksdGhpcy5icHN1c3RhaW4sdGhpcy5icHJlbGVhc2UpO3I9MioqdGhpcy5icGVudiphKnIrcn1jb25zdCBwPXRoaXMuX2Fkc3IudXBkYXRlKHMsdCx0aGlzLmF0dGFjayx0aGlzLmRlY2F5LHRoaXMuc3VzdGFpbix0aGlzLnJlbGVhc2UpO2ZvcihsZXQgYT0wO2E8dGhpcy5fY2hhbm5lbHM7YSsrKXtpZih0aGlzLl9zb3VuZCYmdGhpcy5zPT09InB1bHNlIj90aGlzLm91dFthXT10aGlzLl9zb3VuZC51cGRhdGUoaSx0aGlzLnB3KTp0aGlzLl9zb3VuZD90aGlzLm91dFthXT10aGlzLl9zb3VuZC51cGRhdGUoaSk6dGhpcy5fYnVmZmVycyYmKHRoaXMub3V0W2FdPXRoaXMuX2J1ZmZlcnNbYV0udXBkYXRlKGkpKSx0aGlzLm91dFthXT10aGlzLm91dFthXSp0aGlzLmdhaW4qdGhpcy52ZWxvY2l0eSx0aGlzLl9jaG9ydXMpe2NvbnN0IGM9dGhpcy5fY2hvcnVzW2FdLnVwZGF0ZSh0aGlzLm91dFthXSx0aGlzLmNob3J1cywuMDMrLjA1KmEsMSwuMTEpO3RoaXMub3V0W2FdPWMrdGhpcy5vdXRbYV19dGhpcy5fbHBmJiYodGhpcy5fbHBmW2FdLnVwZGF0ZSh0aGlzLm91dFthXSxuLHRoaXMucmVzb25hbmNlKSx0aGlzLm91dFthXT10aGlzLl9scGZbYV0uczEpLHRoaXMuX2hwZiYmKHRoaXMuX2hwZlthXS51cGRhdGUodGhpcy5vdXRbYV0sbCx0aGlzLmhyZXNvbmFuY2UpLHRoaXMub3V0W2FdPXRoaXMub3V0W2FdLXRoaXMuX2hwZlthXS5zMSksdGhpcy5fYnBmJiYodGhpcy5fYnBmW2FdLnVwZGF0ZSh0aGlzLm91dFthXSxyLHRoaXMuYmFuZHEpLHRoaXMub3V0W2FdPXRoaXMuX2JwZlthXS5zMCksdGhpcy5fY29hcnNlJiYodGhpcy5vdXRbYV09dGhpcy5fY29hcnNlW2FdLnVwZGF0ZSh0aGlzLm91dFthXSx0aGlzLmNvYXJzZSkpLHRoaXMuX2NydXNoJiYodGhpcy5vdXRbYV09dGhpcy5fY3J1c2hbYV0udXBkYXRlKHRoaXMub3V0W2FdLHRoaXMuY3J1c2gpKSx0aGlzLl9kaXN0b3J0JiYodGhpcy5vdXRbYV09dGhpcy5fZGlzdG9ydFthXS51cGRhdGUodGhpcy5vdXRbYV0sdGhpcy5kaXN0b3J0LHRoaXMuZGlzdG9ydHZvbCkpLHRoaXMub3V0W2FdPXRoaXMub3V0W2FdKnAsdGhpcy5vdXRbYV09dGhpcy5vdXRbYV0qdGhpcy5wb3N0Z2Fpbix0aGlzLl9idWZmZXJzfHwodGhpcy5vdXRbYV09dGhpcy5vdXRbYV0qLjIpfWlmKHRoaXMuX2NoYW5uZWxzPT09MSYmKHRoaXMub3V0WzFdPXRoaXMub3V0WzBdKSx0aGlzLnBhbiE9PS41KXtjb25zdCBhPXRoaXMucGFuKk1hdGguUEkvMjt0aGlzLm91dFswXT10aGlzLm91dFswXSpNYXRoLmNvcyhhKSx0aGlzLm91dFsxXT10aGlzLm91dFsxXSpNYXRoLnNpbihhKX19fWNsYXNzIHN0e2NvbnN0cnVjdG9yKHM9NDhlMyx0PTApe2UodGhpcywidm9pY2VzIixbXSk7ZSh0aGlzLCJ2aWQiLDApO2UodGhpcywicSIsW10pO2UodGhpcywib3V0IixbMCwwXSk7ZSh0aGlzLCJkZWxheXNlbmQiLFswLDBdKTtlKHRoaXMsImRlbGF5dGltZSIsbygiZGVsYXl0aW1lIikpO2UodGhpcywiZGVsYXlmZWVkYmFjayIsbygiZGVsYXlmZWVkYmFjayIpKTtlKHRoaXMsImRlbGF5c3BlZWQiLG8oImRlbGF5c3BlZWQiKSk7ZSh0aGlzLCJ0IiwwKTt0aGlzLnNhbXBsZVJhdGU9cyx0aGlzLnQ9TWF0aC5mbG9vcih0KnMpLHRoaXMuX2RlbGF5TD1uZXcgeCx0aGlzLl9kZWxheVI9bmV3IHh9bG9hZFNhbXBsZShzLHQsaSl7dy5zYW1wbGVzLnNldChzLHtjaGFubmVsczp0LHNhbXBsZVJhdGU6aX0pfXNjaGVkdWxlU3Bhd24ocyl7aWYocy5fYmVnaW49PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJbZG91Z2hdOiBzY2hlZHVsZVNwYXduIGV4cGVjdGVkIF9iZWdpbiB0byBiZSBzZXQiKTtpZihzLl9kdXJhdGlvbj09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoIltkb3VnaF06IHNjaGVkdWxlU3Bhd24gZXhwZWN0ZWQgX2R1cmF0aW9uIHRvIGJlIHNldCIpO3Muc2FtcGxlUmF0ZT10aGlzLnNhbXBsZVJhdGU7Y29uc3QgdD1NYXRoLmZsb29yKHMuX2JlZ2luKnRoaXMuc2FtcGxlUmF0ZSk7dGhpcy5zY2hlZHVsZSh7dGltZTp0LHR5cGU6InNwYXduIixhcmc6c30pfXNwYXduKHMpe3MuaWQ9dGhpcy52aWQrKztjb25zdCB0PW5ldyB0dChzKTt0aGlzLnZvaWNlcy5wdXNoKHQpO2NvbnN0IGk9TWF0aC5jZWlsKHQuX2VuZCp0aGlzLnNhbXBsZVJhdGUpO3RoaXMuc2NoZWR1bGUoe3RpbWU6aSx0eXBlOiJkZXNwYXduIixhcmc6dC5pZH0pfWRlc3Bhd24ocyl7dGhpcy52b2ljZXM9dGhpcy52b2ljZXMuZmlsdGVyKHQ9PnQuaWQhPT1zKX1zY2hlZHVsZShzKXtpZighdGhpcy5xLmxlbmd0aCl7dGhpcy5xLnB1c2gocyk7cmV0dXJufWxldCB0PTA7Zm9yKDt0PHRoaXMucS5sZW5ndGgmJnRoaXMucVt0XS50aW1lPHMudGltZTspdCsrO3RoaXMucS5zcGxpY2UodCwwLHMpfXVwZGF0ZSgpe2Zvcig7dGhpcy5xLmxlbmd0aD4wJiZ0aGlzLnFbMF0udGltZTw9dGhpcy50Oyl0aGlzW3RoaXMucVswXS50eXBlXSh0aGlzLnFbMF0uYXJnKSx0aGlzLnEuc2hpZnQoKTt0aGlzLm91dFswXT0wLHRoaXMub3V0WzFdPTA7Zm9yKGxldCBpPTA7aTx0aGlzLnZvaWNlcy5sZW5ndGg7aSsrKXRoaXMudm9pY2VzW2ldLnVwZGF0ZSh0aGlzLnQvdGhpcy5zYW1wbGVSYXRlKSx0aGlzLm91dFswXSs9dGhpcy52b2ljZXNbaV0ub3V0WzBdLHRoaXMub3V0WzFdKz10aGlzLnZvaWNlc1tpXS5vdXRbMV0sdGhpcy52b2ljZXNbaV0uZGVsYXkmJih0aGlzLmRlbGF5c2VuZFswXSs9dGhpcy52b2ljZXNbaV0ub3V0WzBdKnRoaXMudm9pY2VzW2ldLmRlbGF5LHRoaXMuZGVsYXlzZW5kWzFdKz10aGlzLnZvaWNlc1tpXS5vdXRbMV0qdGhpcy52b2ljZXNbaV0uZGVsYXksdGhpcy5kZWxheXRpbWU9dGhpcy52b2ljZXNbaV0uZGVsYXl0aW1lLHRoaXMuZGVsYXlzcGVlZD10aGlzLnZvaWNlc1tpXS5kZWxheXNwZWVkLHRoaXMuZGVsYXlmZWVkYmFjaz10aGlzLnZvaWNlc1tpXS5kZWxheWZlZWRiYWNrKTtjb25zdCBzPXRoaXMuX2RlbGF5TC51cGRhdGUodGhpcy5kZWxheXNlbmRbMF0sdGhpcy5kZWxheXRpbWUpLHQ9dGhpcy5fZGVsYXlSLnVwZGF0ZSh0aGlzLmRlbGF5c2VuZFsxXSx0aGlzLmRlbGF5dGltZSk7dGhpcy5kZWxheXNlbmRbMF09cyp0aGlzLmRlbGF5ZmVlZGJhY2ssdGhpcy5kZWxheXNlbmRbMV09dCp0aGlzLmRlbGF5ZmVlZGJhY2ssdGhpcy5vdXRbMF0rPXMsdGhpcy5vdXRbMV0rPXQsdGhpcy50Kyt9fWNvbnN0IGV0PShoLHMsdCk9Pk1hdGgubWluKE1hdGgubWF4KGgscyksdCk7Y2xhc3MgaXQgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuZG91Z2g9bmV3IHN0KHNhbXBsZVJhdGUsY3VycmVudFRpbWUpLHRoaXMucG9ydC5vbm1lc3NhZ2U9cz0+e3MuZGF0YS5zcGF3bj90aGlzLmRvdWdoLnNjaGVkdWxlU3Bhd24ocy5kYXRhLnNwYXduKTpzLmRhdGEuc2FtcGxlP3RoaXMuZG91Z2gubG9hZFNhbXBsZShzLmRhdGEuc2FtcGxlLHMuZGF0YS5jaGFubmVscyxzLmRhdGEuc2FtcGxlUmF0ZSk6cy5kYXRhLnNhbXBsZXM/cy5kYXRhLnNhbXBsZXMuZm9yRWFjaCgoW3QsaSxuXSk9Pnt0aGlzLmRvdWdoLmxvYWRTYW1wbGUodCxpLG4pfSk6Y29uc29sZS5sb2coInVucmVjb2duaXplZCBldmVudCB0eXBlIixzLmRhdGEpfX1wcm9jZXNzKHMsdCxpKXtpZih0aGlzLmRpc2Nvbm5lY3RlZClyZXR1cm4hMTtjb25zdCBuPXRbMF07Zm9yKGxldCBsPTA7bDxuWzBdLmxlbmd0aDtsKyspe3RoaXMuZG91Z2gudXBkYXRlKCk7Zm9yKGxldCByPTA7cjxuLmxlbmd0aDtyKyspbltyXVtsXT1ldCh0aGlzLmRvdWdoLm91dFtyXSwtMSwxKX1yZXR1cm4hMH19cmVnaXN0ZXJQcm9jZXNzb3IoImRvdWdoLXByb2Nlc3NvciIsaXQpfSkoKTsK";const vL=ZL;let $r;function wL(){const t=Lt();$r=je(t,"dough-processor",{},{outputChannelCount:[2]}),gg($r)}const ji=new Map,Fb=new Map;xe.prototype.supradough=function(){return this.onTrigger((t,e,n,s)=>{t.value._begin=s,t.value._duration=t.duration/n,!$r&&wL();const r=(t.value.bank?t.value.bank+"_":"")+t.value.s,i=t.value.n??0,a=`${r}:${i}`;if(ji.has(r)&&(t.value.s=a),ji.has(r)&&!Fb.has(a)){const o=ji.get(r),u=o[i%o.length];console.log(`load ${a} from ${u}`);const c=DL(u);Fb.set(a,c),c.then(({channels:l,sampleRate:d})=>$r.port.postMessage({sample:a,channels:l,sampleRate:d}))}$r.port.postMessage({spawn:t.value})},1)};function FL(t,e=""){if(!t.startsWith("github:"))throw new Error('expected "github:" at the start of pseudoUrl');let[n,s]=t.split("github:");return s=s.endsWith("/")?s.slice(0,-1):s,s.split("/").length===2&&(s+="/main"),`https://raw.githubusercontent.com/${s}/${e}`}async function hP(t){if(t.startsWith("github:")&&(t=FL(t,"strudel.json")),t.startsWith("local:")&&(t="http://localhost:5432"),t.startsWith("shabda:")){let[s,r]=t.split("shabda:");t=`https://shabda.ndre.gr/${r}.json?strudel=1`}if(t.startsWith("shabda/speech")){let[s,r]=t.split("shabda/speech");r=r.startsWith("/")?r.substring(1):r;let[i,a]=r.split(":"),o="f",u="en-GB";i&&([u,o]=i.split("/")),t=`https://shabda.ndre.gr/speech/${a}.json?gender=${o}&language=${u}&strudel=1'`}if(typeof fetch!="function")return;const e=t.split("/").slice(0,-1).join("/");if(typeof fetch>"u")return;const n=await fetch(t).then(s=>s.json()).catch(s=>{throw console.error(s),new Error(`error loading "${t}"`)});return[n,n._base||e]}async function DL(t){const e=await fetch(t).then(s=>s.arrayBuffer()).then(s=>Lt().decodeAudioData(s));let n=[];for(let s=0;s<e.numberOfChannels;s++)n.push(e.getChannelData(s));return{channels:n,sampleRate:e.sampleRate}}async function pP(t,e){if(typeof t=="string"){const[n,s]=await hP(t);return pP(n,s)}Object.entries(t).map(async([n,s])=>{n!=="_base"&&(s=s.map(r=>e+r),ji.set(n,s))})}fg(vL);const{Pattern:AL,logger:SL,repl:VL}=QG;Rb(SL);const LL=t=>(t.ensureObjectValue(),t.value),dP=(t,e,n,s,r)=>{var i;return Au(LL(t),r,n,s,(i=t.whole)==null?void 0:i.begin.valueOf())};function kL(t={}){return t={getTime:()=>Lt().currentTime,defaultOutput:dP,...t},VL(t)}AL.prototype.dough=function(){return this.onTrigger(Zg,1)};function mP(t,{align:e=!0,color:n="white",thickness:s=3,scale:r=.25,pos:i=.75,trigger:a=0,ctx:o=es(),id:u=1}={}){o.lineWidth=s,o.strokeStyle=n;let c=o.canvas;if(!t){o.beginPath();let y=i*c.height;o.moveTo(0,y),o.lineTo(c.width,y),o.stroke();return}const l=ca("time",u);o.beginPath();const d=t.frequencyBinCount;let m=e?Array.from(l).findIndex((y,P,Z)=>P&&Z[P-1]>-a&&y<=-a):0;m=Math.max(m,0);const f=c.width*1/d;let g=0;for(let y=m;y<d;y++){const P=l[y]+1,Z=(i-r*(P-1))*c.height;y===0?o.moveTo(g,Z):o.lineTo(g,Z),g+=f}o.stroke()}function fP(t,{color:e="white",scale:n=.25,pos:s=.75,lean:r=.5,min:i=-150,max:a=0,ctx:o=es(),id:u=1}={}){if(!t){o.beginPath();let g=s*l.height;o.moveTo(0,g),o.lineTo(l.width,g),o.stroke();return}const c=ca("frequency",u),l=o.canvas;o.fillStyle=e;const d=t.frequencyBinCount,m=l.width*1/d;let f=0;for(let g=0;g<d;g++){const y=Ab((c[g]-i)/(a-i),0,1)*n,P=y*l.height,Z=(s-y*r)*l.height;o.fillRect(f,Z,Math.max(m,1),P),f+=m}}function yP(t=0,e="0,0,0",n=es()){t?(n.fillStyle=`rgba(${e},${1-t})`,n.fillRect(0,0,n.canvas.width,n.canvas.height)):n.clearRect(0,0,n.canvas.width,n.canvas.height)}xe.prototype.fscope=function(t={}){let e=t.id??1;return this.analyze(e).draw(()=>{yP(t.smear,"0,0,0",t.ctx),Le[e]&&fP(Le[e],t)},{id:e})};xe.prototype.tscope=function(t={}){let e=t.id??1;return this.analyze(e).draw(n=>{var s,r;t.color=((r=(s=n[0])==null?void 0:s.value)==null?void 0:r.color)||kn().foreground,t.color,yP(t.smear,"0,0,0",t.ctx),mP(Le[e],t)},{id:e})};xe.prototype.scope=xe.prototype.tscope;let Db={};xe.prototype.spectrum=function(t={}){let e=t.id??1;return this.analyze(e).draw(n=>{var s,r;t.color=((r=(s=n[0])==null?void 0:s.value)==null?void 0:r.color)||Db[e]||kn().foreground,Db[e]=t.color,EL(Le[e],t)},{id:e})};xe.prototype.scope=xe.prototype.tscope;const Ho=new Map;function EL(t,{thickness:e=3,speed:n=1,min:s=-80,max:r=0,ctx:i=es(),id:a=1,color:o}={}){if(i.lineWidth=e,i.strokeStyle=o,!t)return;const u=n,c=ca("frequency",a),l=i.canvas;i.fillStyle=o;const d=t.frequencyBinCount;let m=Ho.get(a)||i.getImageData(0,0,l.width,l.height);Ho.set(a,m),i.clearRect(0,0,i.canvas.width,i.canvas.height),i.putImageData(m,-u,0);let f=l.width-n;for(let g=0;g<d;g++){const y=Ab((c[g]-s)/(r-s),0,1);i.globalAlpha=y;const P=Math.log(g+1)/Math.log(d)*l.height;i.fillRect(f,l.height-P,u,2)}Ho.set(a,i.getImageData(0,0,l.width,l.height))}const qL=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_MAX_POLYPHONY:wu,Warpmode:$o,aliasBank:aZ,get analysers(){return Le},get analysersData(){return As},applyFM:ti,applyGainCurve:_n,applyParameterModulators:Oo,connectToDestination:gg,createFilter:Ti,destroyAudioWorkletNode:ir,distortionAlgorithms:Xu,dough:vZ,doughTrigger:Zg,doughsamples:pP,drawFrequencyScope:fP,drawTimeScope:mP,drywet:Hb,dspWorklet:Gg,effectSend:Ji,errorLogger:zb,fetchSampleMap:hP,gainNode:Ye,getADSRValues:cn,getAnalyserById:Mg,getAnalyzerData:ca,getAudioContext:Lt,getAudioContextCurrentTime:kX,getAudioDevices:pg,getCachedBuffer:_X,getCompressor:Yb,getDefaultValue:ie,getDistortion:Ub,getDistortionAlgorithm:JX,getFrequencyFromValue:ws,getLfo:li,getLoadedBuffer:OX,getOscillator:xg,getParamADSR:un,getPitchEnvelope:fr,getSampleBuffer:Qb,getSampleBufferSource:qb,getSampleInfo:Ob,getSound:cr,getVibratoOscillator:yr,getWorklet:je,getZZFX:Pg,initAudio:yg,initAudioOnFirstClick:fZ,loadBuffer:vu,logger:le,noises:Gu,onTriggerSample:ig,onTriggerSynth:wg,processSampleMap:ng,registerSampleSource:ag,registerSamplesPrefix:QX,registerSound:Vn,registerSynthSounds:GZ,registerWaveTable:Su,registerWorklet:fg,registerZZFXSounds:ZZ,resetDefaultValues:dg,resetDefaults:lZ,resetGlobalEffects:gZ,resetLoadedSounds:dZ,reverseBuffer:$b,samples:rg,setDefault:cZ,setDefaultAudioContext:Ib,setDefaultValue:Du,setDefaultValues:hZ,setGainCurve:rZ,setLogger:Rb,setMaxPolyphony:ug,setMultiChannelOrbits:lg,setVersionDefaults:pZ,soundAlias:oZ,soundMap:Zn,superdough:Au,superdoughTrigger:MZ,tables:VZ,waveformN:Cg,webAudioTimeout:or,webaudioOutput:dP,webaudioRepl:kL},Symbol.toStringTag,{value:"Module"}));export{Zn as B,MX as a,QL as b,qL as c,TL as i,NL as o};
