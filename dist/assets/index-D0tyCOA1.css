@media(max-width:768px){.master-section{padding:20px}header h1{font-size:calc(2.5rem - 2px)}.element-midi-settings{display:none}.punchcard-text{font-size:2rem}.master-controls-row{gap:16px;justify-content:stretch}.master-controls-row .control-group{flex:1 1 100%;min-width:0}.master-controls-row .control-group label{font-size:.95rem;flex-direction:row;justify-content:space-between;gap:12px}.master-inline-value{flex-wrap:wrap;gap:8px}.master-inline-value select,.master-inline-value input[type=range]{flex:1 1 100%}.master-controls-row select,.master-controls-row input[type=range]{font-size:.95rem}}@font-face{font-family:Krieger Halftone;src:url(/assets/KriegerHalftoneItalic-4nVO4-B7Cyjj5T.woff2) format("woff2"),url(/assets/KriegerHalftoneItalic-4nVO4-CpAaTfRN.otf) format("opentype");font-weight:400;font-style:italic;font-display:swap}.brand-font{font-family:Krieger Halftone,Krieger,Segoe UI,sans-serif;letter-spacing:.02em}.brand-logo{display:inline-block}.brand-font-fallback .brand-logo{background-image:url(/assets/strudesk4000logo-_qviI-3f.png);background-repeat:no-repeat;background-size:contain;background-position:center;color:transparent!important;text-indent:-9999px;overflow:hidden;white-space:nowrap}.brand-font-fallback .header-logo{width:100%;max-width:420px;height:64px;padding:0;line-height:0}.brand-font-fallback .punchcard-logo{width:85%;height:clamp(80px,12vw,150px);padding:0;margin:0 auto}.brand-font-fallback .credits-logo{width:200px;height:40px;vertical-align:middle}.brand-font-fallback .login-logo{width:100%;max-width:320px;height:50px;margin:0 auto}@media(max-width:540px){.master-section{padding:16px}.master-controls,.master-controls-row{gap:14px}.master-controls-row .control-group label{font-size:.9rem;flex-wrap:wrap;gap:8px}.master-controls-row select,.master-controls-row input[type=range]{font-size:.9rem}}.master-controls-row .control-group{display:flex;flex-direction:column;gap:8px}.master-controls-row .control-group label{display:flex;flex-direction:column;gap:6px;font-weight:600;color:#334155}.master-controls-row .control-group input[type=range],.master-controls-row .control-group select{width:100%}.master-controls-row--secondary{gap:24px}:root{--bg-1: #1e1f2b;--bg-2: #2b2e3b;--bg-3: #3a3f54;--bubble-color-1: rgba(200, 200, 255, .8);--bubble-color-2: rgba(150, 150, 200, .6);--bubble-color-3: rgba(210, 210, 255, .5);--bubble-count: 12;--bubble-min-size: 20px;--bubble-max-size: 80px;--bubble-min-speed: 9s;--bubble-max-speed: 20s;--bubble-horizontal-spread: 100%;--size-variance: 1;--speed-variance: 1}@property --n{syntax: "<integer>"; initial-value: 0; inherits: false;}*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;background:linear-gradient(135deg,var(--bg-1),var(--bg-2),var(--bg-3));color:#333;min-height:100vh;padding:20px;position:relative;overflow-x:hidden}body.gdpr-locked{overflow:hidden}.gdpr-consent-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#000000eb;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:32px;padding:clamp(16px,4vw,48px);z-index:30000}.gdpr-consent-overlay[hidden]{display:none}.gdpr-consent-content{width:100%!important;display:flex;flex-direction:column;align-items:center;gap:32px}.gdpr-visualizer-preview{width:100%;display:flex;align-items:center;justify-content:center;padding:0 clamp(12px,4vw,36px)}.gdpr-visualizer-preview .punchcard-text{width:100%;font-size:clamp(3rem,10vw,6rem);color:#38bdf8;text-align:center;text-shadow:0 20px 60px rgba(8,145,178,.35);background:transparent;padding:clamp(12px,3vw,24px)}.gdpr-visualizer-preview .gdpr-logo-image{display:none;max-width:100%;height:auto;object-fit:contain}@media(max-width:768px){.gdpr-visualizer-preview .punchcard-text{display:none}.gdpr-visualizer-preview .gdpr-logo-image{display:block;max-width:min(80%,400px)}}.gdpr-consent-card{width:min(520px,100%);background:#05060ad9;border-radius:20px;padding:clamp(20px,4vw,32px);box-shadow:0 30px 80px #080e23cc;border:1px solid rgba(56,189,248,.25)}.gdpr-consent-card h2{margin-top:0;margin-bottom:12px;font-size:1.5rem;color:#e0f2fe}.gdpr-consent-card p{margin:0;color:#e2e8f0e6;line-height:1.5}.gdpr-accept-btn{width:100%;margin-top:20px;font-size:1rem;background:linear-gradient(135deg,#38bdf8e6,#0ea5e9e6);border:none;color:#020617;font-weight:700;box-shadow:0 20px 40px #0ea5e973}.gdpr-accept-btn:hover{filter:brightness(1.05);transform:translateY(-1px)}.gdpr-consent-card small{display:block;margin-top:10px;color:#94a3b8d9}body.page-style-solid{background:var(--page-solid-color, #05060a)}body.page-style-image{background-color:var(--page-solid-color, #05060a);background-image:var(--page-bg-image, none);background-size:cover;background-repeat:no-repeat;background-position:center;background-attachment:fixed}.container{max-width:1400px;margin:0 auto;position:relative;z-index:1}.bubble-background{position:fixed;top:0;right:0;bottom:0;left:0;overflow:hidden;background:linear-gradient(135deg,var(--bg-1),var(--bg-2),var(--bg-3));z-index:0;pointer-events:none}.bubble-background[data-hidden=true]{opacity:0;visibility:hidden}.bubble-background span{position:absolute;left:calc(var(--x, .5) * var(--bubble-horizontal-spread));bottom:-150px;width:calc(var(--bubble-min-size) + (var(--bubble-max-size) - var(--bubble-min-size)) * var(--size-variance) * var(--size, .5));height:calc(var(--bubble-min-size) + (var(--bubble-max-size) - var(--bubble-min-size)) * var(--size-variance) * var(--size, .5));background:radial-gradient(circle,var(--bubble-color-1),var(--bubble-color-2),var(--bubble-color-3));border-radius:50%;opacity:.7;filter:blur(3px);animation:rise calc(var(--bubble-min-speed) + (var(--bubble-max-speed) - var(--bubble-min-speed)) * var(--speed-variance) * var(--speed, .5)) ease-in-out infinite;animation-delay:calc(-5s * var(--delay, 0))}@keyframes rise{0%{transform:translateY(0) scale(.8);opacity:.4}50%{opacity:.8}to{transform:translateY(-120vh) scale(1.3);opacity:0}}header{display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:12px;color:#fff;margin-bottom:30px;text-shadow:2px 2px 4px rgba(0,0,0,.3)}.header-left{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.header-logo-img{display:none;width:200px;max-width:60vw;height:auto}header h1{font-size:clamp(1.6rem,6vw,2.6rem);margin:0;line-height:1}.version-text{font-size:clamp(.8rem,3vw,1rem);opacity:.85;color:#fff;text-shadow:2px 2px 4px rgba(0,0,0,.3)}.header-right{font-size:1rem;opacity:.9;color:#fff;text-shadow:2px 2px 4px rgba(0,0,0,.3);display:flex;align-items:center;gap:12px;line-height:1;flex-wrap:wrap;justify-content:flex-end;margin-left:auto;position:relative;z-index:1000}@media(max-width:640px){header{align-items:flex-start;flex-wrap:nowrap}.header-left{flex:1 1 auto;flex-direction:column;align-items:flex-start;min-width:0}.header-right{flex:0 0 auto;justify-content:flex-end;align-items:flex-start;margin-left:auto}.header-logo{display:none}.header-logo-img{display:block;width:140px}.version-text{font-size:.85rem;margin-top:-4px}}.stop-all-button{margin-top:15px;padding:12px 24px;font-size:1rem;font-weight:600;background:#ef4444;color:#fff;border:none;border-radius:8px;cursor:pointer;box-shadow:0 4px 6px #0000001a;transition:all .2s ease}.stop-all-button:hover{background:#dc2626;transform:translateY(-2px);box-shadow:0 6px 12px #0003}.stop-all-button:active{transform:translateY(0);box-shadow:0 2px 4px #0000001a}.controls-panel{background:#fff;border-radius:12px;padding:25px;margin-bottom:30px;box-shadow:0 4px 6px #0000001a}.controls-panel h2{margin-bottom:20px;color:#667eea;font-size:1.5rem}.control-group{display:flex;flex-direction:column;gap:8px;margin-bottom:20px;width:100%}.control-group:last-child{margin-bottom:0}.control-group label{display:block;font-weight:500;color:#555}.tempo-controls{display:flex;align-items:center;width:100%}.tempo-controls input[type=range]{flex:1;transition:opacity .2s ease,filter .2s ease}#tempo-slider.inactive{opacity:.35;filter:grayscale(.7)}#tempo-slider.inactive::-webkit-slider-thumb{background:#cbd1f3}#tempo-slider.inactive::-moz-range-thumb{background:#cbd1f3}#tempo-slider.inactive::-ms-thumb{background:#cbd1f3}#tempo-value.inactive{color:#9aa0c7}.control-group input[type=range]{width:100%;height:8px;border-radius:5px;background:#e0e0e0;outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.tap-tempo-button{width:60px;height:60px;border-radius:50%;background:#667eea;color:#fff;border:none;font-size:.9rem;font-weight:600;cursor:pointer;box-shadow:0 4px 6px #0000001a;transition:all .2s ease;flex-shrink:0;display:none}.tap-tempo-button:hover{background:#5568d3;transform:translateY(-2px);box-shadow:0 6px 12px #0003}.tap-tempo-button:active{background:#4857c1;transform:translateY(0);box-shadow:0 2px 4px #0000001a}.control-group input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:20px;height:20px;border-radius:50%;background:#667eea;cursor:pointer;box-shadow:0 2px 4px #0003}.control-group input[type=range]::-moz-range-thumb{width:20px;height:20px;border-radius:50%;background:#667eea;cursor:pointer;border:none;box-shadow:0 2px 4px #0003}.control-group input[type=checkbox]{width:18px;height:18px;margin-right:8px;cursor:pointer;accent-color:#667eea}.control-group span{font-weight:600;color:#667eea}.control-select{width:100%;padding:10px 12px;font-size:14px;border:2px solid #e0e0e0;border-radius:8px;background:#fff;cursor:pointer;transition:all .2s ease;font-family:inherit;color:#333}.control-select:hover{border-color:#667eea}.control-select:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.control-select option{padding:10px}.elements-container{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:30px;position:relative;align-items:start;width:100%}@media(max-width:768px){.elements-container{grid-template-columns:repeat(2,minmax(0,1fr))}}.sound-element{background:#fff;border-radius:12px;padding:30px 30px 16px;min-height:430px;text-align:center;cursor:pointer;transition:all .3s ease;position:relative;overflow:visible;box-shadow:0 4px 6px #0000001a;border:3px solid transparent;display:flex;flex-direction:column;justify-content:flex-start;align-items:center}.status-dots{position:absolute;top:8px;right:8px;display:flex;gap:6px;z-index:10}.element-controls{display:flex;gap:6px;margin-top:8px;justify-content:center;z-index:10}.solo-button,.mute-button{width:28px;height:28px;border-radius:4px;border:1px solid #999;background:#fff;color:#666;font-size:11px;font-weight:700;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.solo-button:hover{background:#fef3c7;border-color:#f59e0b;color:#f59e0b}.solo-button.active{background:#fbbf24;border-color:#f59e0b;color:#fff}.mute-button:hover{background:#fee2e2;border-color:#ef4444;color:#ef4444}.mute-button.active{background:#ef4444;border-color:#dc2626;color:#fff}.status-dot{width:12px;height:12px;border-radius:50%;transition:all .3s ease;box-shadow:0 0 0 2px #0000001a}.loaded-dot{background-color:#dc262640}.loaded-dot.active{background-color:#dc2626;box-shadow:0 0 8px #dc262699,0 0 0 2px #dc26264d}.playing-dot{background-color:#22c55e40}.playing-dot.active{background-color:#22c55e;box-shadow:0 0 8px #22c55e99,0 0 0 2px #22c55e4d}.playing-dot.active.is-playing{animation:pulse-dot 2s ease-in-out infinite}@keyframes pulse-dot{0%,to{opacity:1}50%{opacity:.7}}.sound-element:hover{transform:translateY(-5px);box-shadow:0 8px 16px #0003}.sound-element.is-hovered{border-color:#667eea;background:linear-gradient(135deg,#667eea15,#764ba215);transform:translateY(-5px) scale(1.02);box-shadow:0 8px 20px #667eea66}.sound-element.is-proximity{border-color:#f59e0b;background:linear-gradient(135deg,#f59e0b15,#f9731615);box-shadow:0 6px 16px #f59e0b4d}.master-section{margin-top:40px;margin-bottom:30px;padding:30px;background:linear-gradient(135deg,#fffffff2,#ffffffe6);border-radius:16px;box-shadow:0 8px 24px #00000026;border:none}.master-section h2{font-size:2rem;color:#667eea;margin-bottom:20px;text-align:center;text-shadow:1px 1px 2px rgba(0,0,0,.1)}.master-channel{width:100%;max-width:900px;margin:0 auto;display:flex;flex-direction:column;align-items:center;gap:20px}.master-controls{display:flex;flex-direction:column;align-items:center;gap:18px;width:100%}.master-controls-row{display:flex;flex-direction:row;flex-wrap:wrap;align-items:flex-start;justify-content:center;gap:24px;width:100%}.master-controls-row .control-group{flex:1 1 clamp(220px,30vw,260px);min-width:200px}.master-controls-row--secondary{gap:20px}.master-controls-row--secondary .control-group{flex:1 1 clamp(200px,30vw,240px);min-width:180px}.master-controls-row select{background:#fff;border:1px solid rgba(102,126,234,.4);border-radius:8px;padding:8px 12px;color:#1f2937;font-weight:500;box-shadow:inset 0 1px 2px #667eea26}.master-controls-row select:focus,.master-controls-row select:hover{border-color:#667eea;box-shadow:0 0 0 3px #667eea26;outline:none}.master-controls-row input[type=range]{accent-color:#667eea}.master-inline-value{display:flex;align-items:center;gap:10px;width:100%}.master-inline-value>span{font-weight:600;color:#1f2937;white-space:nowrap}.master-inline-value input[type=range],.master-inline-value select{flex:1 1 auto}@media(max-width:768px){.master-inline-value{flex-wrap:wrap;gap:8px}.master-inline-value>span{order:3}.master-inline-value input[type=range],.master-inline-value select{flex:1 1 100%}}.master-mute-button{width:60px;height:60px;border-radius:50%;background:#667eea;color:#fff;border:none;font-size:1.5rem;cursor:pointer;box-shadow:0 4px 6px #0000001a;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.master-mute-button:hover{background:#5568d3;transform:translateY(-2px);box-shadow:0 6px 12px #0003}.master-mute-button:active{background:#4857c1;transform:translateY(0)}.master-active-dot{background-color:#667eea40}.master-active-dot.active{background-color:#667eea;box-shadow:0 0 12px #667eeacc,0 0 0 2px #667eea66;animation:pulse-dot 2s ease-in-out infinite}.master-visualizer{width:100%;max-width:900px;margin:25px auto 50px;padding:20px 24px;border-radius:14px;background:linear-gradient(135deg,#667eea14,#764ba214);border:2px solid rgba(102,126,234,.25);box-shadow:0 10px 24px #667eea2e;flex-shrink:0;min-width:0}.master-visualizer-header{margin-bottom:16px}.visualizer-header-row{display:flex;justify-content:space-between;align-items:baseline;gap:12px}.visualizer-header-controls{display:flex;align-items:center;gap:10px;flex-wrap:wrap}.camera-blend-control{display:flex;flex-direction:column;gap:4px;min-width:120px}.camera-blend-label{display:flex;justify-content:space-between;align-items:center;font-size:.85rem;color:#667eea;font-weight:500}.camera-blend-value{font-weight:600;color:#4c51bf}.camera-blend-slider{width:100%;height:4px;border-radius:2px;background:#667eea33;outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer}.camera-blend-slider::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:14px;height:14px;border-radius:50%;background:#667eea;cursor:pointer;box-shadow:0 0 4px #667eea80}.camera-blend-slider::-moz-range-thumb{width:14px;height:14px;border-radius:50%;background:#667eea;cursor:pointer;border:none;box-shadow:0 0 4px #667eea80}.camera-blend-control-mobile{display:none;width:100%;margin-top:12px;padding-top:12px;border-top:1px solid rgba(102,126,234,.15)}.camera-blend-label-mobile{display:flex;justify-content:space-between;align-items:center;width:100%;margin-bottom:8px;font-size:.9rem;color:#667eea;font-weight:600}.camera-blend-value-mobile{font-weight:600;color:#4c51bf}.camera-blend-slider-mobile{width:100%;height:6px;border-radius:3px;background:#667eea33;outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer}.camera-blend-slider-mobile::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:18px;height:18px;border-radius:50%;background:#667eea;cursor:pointer;box-shadow:0 0 6px #667eea99}.camera-blend-slider-mobile::-moz-range-thumb{width:18px;height:18px;border-radius:50%;background:#667eea;cursor:pointer;border:none;box-shadow:0 0 6px #667eea99}@media(max-width:768px){.visualizer-header-row{flex-wrap:wrap}.visualizer-header-controls{flex:1;justify-content:flex-end}.camera-blend-control{display:none!important}.camera-blend-control-mobile{margin-top:12px}}@media(min-width:769px){.camera-blend-control-mobile{display:none!important}}.chaospad-control{padding:8px 12px;border-top:1px solid rgba(102,126,234,.15);background:transparent}.chaospad-inline-controls{display:flex;align-items:center;justify-content:space-between;gap:16px;flex-wrap:wrap}.chaospad-checkbox-label{display:flex;align-items:center;gap:12px;font-size:.95rem;font-weight:600;color:#4c51bf;cursor:pointer;-webkit-user-select:none;user-select:none;width:100%}.chaospad-checkbox{width:18px;height:18px;cursor:pointer;accent-color:#667eea;flex-shrink:0}.chaospad-label-row{display:flex;align-items:center;gap:12px;flex:1}.chaospad-values{display:none;gap:12px;font-size:.85rem;color:#1d4ed8;font-weight:600;margin-left:auto;text-align:right}.chaospad-value{display:inline-flex;align-items:center;gap:4px;text-align:right}.tilt-value{font-size:.8rem;color:#2563eb;font-weight:600}.chaospad-tilt-inline{display:none!important}@media(max-width:640px){.chaospad-control{display:block}.chaospad-inline-controls{flex-direction:row;align-items:center;width:100%;gap:12px}.chaospad-checkbox-label{flex-direction:row;align-items:center;width:auto;gap:10px}.chaospad-label-row{flex-direction:row;align-items:center;gap:8px;width:auto}.chaospad-values{display:flex;gap:10px;font-size:.9rem;justify-content:flex-end;margin-left:auto}}.chaospad-mobile-notification{position:fixed;top:20px;left:50%;transform:translate(-50%);z-index:10000;pointer-events:none;opacity:0;transition:opacity .3s ease-in-out,transform .3s ease-in-out}.chaospad-mobile-notification:not([hidden]){opacity:1;transform:translate(-50%) translateY(0)}.chaospad-notification-content{background:#05060af2;border:1px solid rgba(56,189,248,.4);border-radius:12px;padding:12px 20px;box-shadow:0 8px 24px #0006,0 0 20px #38bdf833;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.chaospad-notification-text{color:#38bdf8;font-size:.95rem;font-weight:600;text-align:center;display:block}@media(min-width:641px){.chaospad-mobile-notification{display:none!important}}.settings-panel-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#05060a99;display:none;align-items:center;justify-content:center;z-index:2000;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px)}.settings-panel{width:min(720px,95vw);max-height:90vh;background:#fff;border-radius:20px;box-shadow:0 24px 80px #0f172a40;display:flex;flex-direction:column}.settings-panel-header{padding:24px 32px;border-bottom:1px solid rgba(15,23,42,.08);display:flex;justify-content:space-between;align-items:flex-start;gap:16px}.settings-panel-header h2{margin:0;font-size:1.5rem;color:#111827}.settings-panel-header p{margin:4px 0 0;color:#6b7280;font-size:.95rem}.settings-panel-actions{display:flex;align-items:center;gap:8px}.settings-panel-close{background:none;border:none;font-size:1.5rem;line-height:1;cursor:pointer;color:#6b7280}.settings-panel-body{padding:24px 32px;overflow-y:auto;display:flex;flex-direction:column;gap:32px;flex:1}.settings-panel-footer{padding:16px 32px;border-top:1px solid rgba(15,23,42,.08);background:#f9fafb;border-radius:0 0 20px 20px}.settings-save-status{display:flex;align-items:center;gap:8px;font-size:.875rem;color:#6b7280;transition:all .3s ease}.settings-save-status--saved{color:#059669}.settings-save-icon{display:inline-flex;align-items:center;justify-content:center;width:18px;height:18px;border-radius:50%;background:#4f46e51a;color:#4f46e5;font-size:.75rem;font-weight:600;transition:all .3s ease}.settings-save-status--saved .settings-save-icon{background:#05966926;color:#059669;transform:scale(1.1)}.settings-save-text{font-weight:500}.settings-section{display:flex;flex-direction:column;gap:16px}.settings-section-header h3{margin:0;font-size:1.1rem;color:#111827}.settings-section-header p{margin:4px 0 0;font-size:.9rem;color:#6b7280}.settings-fieldset{border:1px solid rgba(15,23,42,.08);border-radius:14px;padding:16px;background:#f9fafb;display:flex;flex-direction:column;gap:12px}.settings-fieldset-heading h4{margin:0;font-size:1rem;color:#111827}.settings-fieldset-heading p{margin:2px 0 0;color:#9ca3af;font-size:.85rem}.settings-checkbox-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:8px 16px}.settings-checkbox{display:flex;align-items:center;gap:8px;font-size:.9rem;color:#1f2937}.settings-checkbox input{width:16px;height:16px;accent-color:#4f46e5}.settings-radio-group{display:flex;flex-wrap:wrap;gap:12px}.settings-radio{display:inline-flex;align-items:center;gap:6px;padding:6px 12px;border-radius:999px;border:1px solid rgba(79,70,229,.2);background:#4f46e50d;font-size:.9rem;color:#312e81}.settings-radio input{accent-color:#4f46e5}.settings-range-field{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px}.settings-range-field label{display:flex;flex-direction:column;font-size:.85rem;color:#4b5563;gap:4px}.settings-range-field input{border:1px solid rgba(15,23,42,.15);border-radius:8px;padding:6px 10px;font-size:.95rem}.settings-chaospad-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px}.settings-chaospad-card{border:1px solid rgba(15,23,42,.08);border-radius:14px;padding:16px;background:linear-gradient(135deg,#3b82f60d,#0ea5e90d);display:flex;flex-direction:column;gap:12px}.settings-chaospad-card header h4{margin:0;font-size:1rem;color:#0f172a}.settings-chaospad-card header p{margin:4px 0 0;color:#64748b;font-size:.85rem}.settings-input-label select,.settings-field input[type=color],.settings-field input[type=url],.settings-field select{width:100%;border:1px solid rgba(15,23,42,.15);border-radius:8px;padding:8px 10px;font-size:.95rem}.settings-field small{display:block;margin-top:4px;color:#94a3b8}.settings-link{background:none;border:none;color:#4f46e5;font-weight:600;cursor:pointer;padding:6px 10px;border-radius:999px}.settings-link:hover{background:#4f46e514}.settings-save-btn{background:#4f46e5;border:none;color:#fff;font-weight:600;cursor:pointer;padding:8px 16px;border-radius:8px;font-size:.9rem;transition:all .2s ease}.settings-save-btn:hover{background:#4338ca;transform:translateY(-1px);box-shadow:0 4px 12px #4f46e54d}.settings-save-btn:active{transform:translateY(0)}@media(max-width:640px){.settings-panel{width:100%;height:100%;border-radius:0}.settings-panel-header,.settings-panel-body{padding:20px}.settings-panel-footer{padding:12px 20px}.settings-checkbox-grid{grid-template-columns:repeat(auto-fit,minmax(140px,1fr))}}.master-visualizer-header h3{margin:0;font-size:1.25rem;font-weight:700;color:#4c51bf;text-shadow:0 1px 2px rgba(76,81,191,.2)}.master-visualizer-note{font-size:.85rem;color:#6b7280;opacity:.9}.visualizer-select{padding:6px 12px;font-size:.9rem;color:#4c51bf;background:linear-gradient(135deg,#667eea14,#764ba214);border:1px solid rgba(102,126,234,.3);border-radius:8px;cursor:pointer;transition:all .2s ease;font-weight:600;outline:none}.visualizer-select:hover{background:linear-gradient(135deg,#667eea26,#764ba226);border-color:#667eea80;box-shadow:0 2px 8px #667eea33}.visualizer-select:focus{border-color:#667eea;box-shadow:0 0 0 3px #667eea26}.visualizer-fullscreen-btn{width:36px;height:36px;border:none;background:transparent;color:#4c51bf;font-size:1.2rem;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;transition:color .2s ease,transform .2s ease}.visualizer-fullscreen-btn:hover,.visualizer-fullscreen-btn.is-active{color:#2c3591;transform:translateY(-1px)}.fullscreen-icon{line-height:1}.fullscreen-icon--exit,.visualizer-fullscreen-btn.is-active .fullscreen-icon--enter{display:none}.visualizer-fullscreen-btn.is-active .fullscreen-icon--exit{display:inline}.punchcard-grid{position:relative;min-height:220px;height:400px;border-radius:12px;border:1px solid rgba(102,126,234,.25);box-shadow:inset 0 0 0 1px #ffffff80;overflow:hidden;flex-shrink:0}.punchcard-grid canvas{width:100%;height:100%;display:block;border-radius:inherit;background:#ffffffe6;object-fit:contain}.punchcard-placeholder{position:absolute;top:0;right:0;bottom:0;left:0;display:grid;place-items:center;background:#05060aeb;pointer-events:none}.punchcard-placeholder.hidden{display:none}.punchcard-logo-placeholder{display:flex;flex-direction:column;align-items:center;gap:12px;width:100%}.punchcard-text{font-size:clamp(2.6rem,5vw,3.2rem);font-weight:700;color:#38bdf8;background:transparent;padding:20px 40px;border-radius:8px;width:100%;text-align:center;letter-spacing:.1em;-webkit-user-select:none;user-select:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.punchcard-logo--latin{letter-spacing:.12em}.punchcard-logo--korean{font-family:Noto Sans KR,Pretendard,Apple SD Gothic Neo,Malgun Gothic,Nanum Gothic,sans-serif;font-weight:600;letter-spacing:.08em}@media(max-width:640px){.punchcard-logo-placeholder .punchcard-text{display:none}}.punchcard-logo-img{display:none;width:min(320px,60vw);height:auto;filter:drop-shadow(0 8px 20px rgba(8,145,178,.45))}@media(max-width:640px){.punchcard-logo-img{display:block}}.punchcard-default-code{padding:6px 12px;border-radius:8px;background:#667eea24;color:#4c51bf;font-weight:600;font-size:1rem;box-shadow:inset 0 0 0 1px #667eea38}.punchcard-note{font-size:.82rem;color:#374151;max-width:260px;line-height:1.4}.punchcard-grid:fullscreen,#master-punchcard.is-fullscreen{position:fixed;top:0;left:0;width:100vw;height:100vh;border-radius:0;max-width:none;z-index:9999;background:#fffffff2;border:none;box-shadow:none;display:flex;align-items:center;justify-content:center}.punchcard-grid:fullscreen canvas,#master-punchcard.is-fullscreen canvas{border-radius:0;width:100%;height:100%}.punchcard-grid:fullscreen .punchcard-text,#master-punchcard.is-fullscreen .punchcard-text{width:75%;transform:scale(.75)}@media(max-width:768px){#master-punchcard.is-fullscreen{position:fixed;top:0;left:0;right:0;bottom:0;width:100vw;height:100vh;margin:0;padding:0;border-radius:0;z-index:9999;background:#fffffffa}#master-punchcard.is-fullscreen canvas{width:100%!important;height:100%!important}#master-punchcard.is-fullscreen .mobile-fullscreen-close-btn{position:absolute;top:12px;right:12px;width:44px;height:44px;border-radius:50%;background:#000000b3;color:#fff;border:2px solid rgba(255,255,255,.9);font-size:28px;font-weight:700;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:10000;transition:all .2s ease;box-shadow:0 2px 8px #0006;line-height:1;padding:0}#master-punchcard.is-fullscreen .mobile-fullscreen-close-btn:hover,#master-punchcard.is-fullscreen .mobile-fullscreen-close-btn:active{background:#000000e6;transform:scale(1.1);box-shadow:0 4px 12px #00000080}#master-punchcard.is-fullscreen .mobile-fullscreen-close-btn:active{transform:scale(.95)}}.master-pattern-container{width:100%;max-width:900px;margin:30px auto 0}.credits-section{text-align:center;margin:40px auto 30px;padding:20px;max-width:900px;color:#fff;font-size:.9rem}.credits-section p{margin:0;display:flex;align-items:center;justify-content:center;gap:8px;flex-wrap:wrap}.credits-separator{display:none}.credits-section a{color:#fffc;text-decoration:none;transition:color .2s ease}.credits-section a:hover{color:#fff;text-decoration:underline}.master-pattern-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.header-buttons{display:flex;gap:20px;align-items:center}.master-pattern-container label{display:block;font-weight:600;margin-bottom:0;color:#333;font-size:1.1rem}.copy-code-button{padding:8px 16px;background:#9b59b6;color:#fff;border:none;border-radius:6px;font-size:.9rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:inline-flex;align-items:center;justify-content:center}.copy-code-button:hover{background:#7c4792;transform:translateY(-1px)}.copy-code-button:active{background:#7c4792;transform:translateY(0)}.master-pattern-field{width:100%;font-family:Monaco,Consolas,Courier New,monospace;font-size:13px;padding:15px;border:none;border-radius:8px;background:transparent;resize:vertical;line-height:1.5;min-height:200px}.master-pattern-field:focus{outline:none;border:none;background:transparent}.master-pattern-container .cm-editor,.form-group .cm-editor{width:100%;min-height:200px;border:1px solid rgba(102,126,234,.25)!important;border-radius:12px!important;background:#ffffffe6!important;box-shadow:inset 0 0 0 1px #ffffff80!important;overflow:hidden!important;font-family:Monaco,Consolas,Courier New,monospace!important;font-size:13px!important}.master-pattern-container .cm-editor.cm-focused,.form-group .cm-editor.cm-focused{border-color:#667eea!important;background:#fff!important;box-shadow:inset 0 0 0 1px #ffffff80,0 0 0 2px #667eea33!important}.master-pattern-container .cm-scroller,.form-group .cm-scroller{min-height:200px}.master-pattern-container .cm-content,.form-group .cm-content{min-height:200px;padding:15px}.master-pattern-container .cm-gutters,.form-group .cm-gutters{background-color:#f5f5f580!important;border-right:1px solid rgba(102,126,234,.15)!important}.ͼkn,.ͼkl,.cm-kn,.cm-kl{color:#002610!important}.ͼkq,.ͼjz,.ͼkv,.ͼkh,.cm-kq,.cm-jz,.cm-kv,.cm-kh{color:#400707!important}.cm-string,.cm-string1,.cm-string2{color:#1a1a1a!important}.form-group .cm-editor,.form-group .cm-scroller,.form-group .cm-content{min-height:150px}.master-pattern-controls{display:flex;gap:10px;margin-top:15px;justify-content:center}.play-master-button{width:48px;height:48px;border-radius:16px;font-size:1.4rem;font-weight:600;border:none;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}.play-master-button{background:#f1c40f;color:#0f172a}.play-master-button:hover{background:#c19c0c;transform:translateY(-2px)}.play-master-button.active{background:#c19c0c;box-shadow:0 0 12px #c19c0c80}.stop-master-button{background:#dc2626;color:#fff}.stop-master-button:hover{background:#b91c1c;transform:translateY(-2px)}.update-master-button{background:#667eea;color:#fff}.update-master-button:hover{background:#5568d3;transform:translateY(-2px)}.reset-master-button{background:#f59e0b;color:#fff}.reset-master-button:hover{background:#d97706;transform:translateY(-2px)}.clear-all-button{padding:8px 40px;background:#e74c3c;color:#fff;border:none;border-radius:6px;font-size:.9rem;font-weight:500;cursor:pointer;transition:all .2s ease;display:inline-flex;align-items:center;justify-content:center;margin-right:10px;white-space:nowrap;height:auto;min-height:auto}.clear-all-button:hover{background:#b83c30;transform:translateY(-1px)}.clear-all-button:active{background:#b83c30;transform:translateY(0)}.export-audio-button,.export-midi-button{padding:10px 20px;font-size:14px;font-weight:600;border:none;border-radius:6px;cursor:pointer;transition:all .2s;color:#fff}.export-audio-button{background:#3b82f6}.export-audio-button:hover{background:#2563eb;transform:translateY(-2px)}.export-audio-button:active{transform:translateY(0)}.export-midi-button{background:#ec4899}.export-midi-button:hover{background:#db2777;transform:translateY(-2px)}.export-midi-button:active{transform:translateY(0)}.master-status-indicator{position:absolute;top:8px;left:8px;width:24px;height:24px;background:#667eea;color:#fff;border-radius:50%;display:none;align-items:center;justify-content:center;font-size:11px;font-weight:700;z-index:3;box-shadow:0 2px 6px #0003}.master-status-indicator.active{display:flex;animation:pulse-indicator 2s ease-in-out infinite}@keyframes pulse-indicator{0%,to{opacity:1;transform:scale(1)}50%{opacity:.8;transform:scale(1.05)}}.btn-preview{background:#f1c40f;color:#0f172a;padding:10px 20px;border:none;border-radius:6px;cursor:pointer;font-size:14px;font-weight:600;transition:all .2s}.btn-preview:hover{background:#c19c0c;transform:translateY(-2px)}.btn-preview:active,.btn-preview.active{background:#c19c0c;box-shadow:0 0 12px #c19c0c80;transform:translateY(0)}.element-label{font-size:1.2rem;font-weight:600;color:#333;margin-bottom:15px}.element-title{display:none}.add-element-button{width:200px;height:200px;border-radius:50%;border:3px dashed #667eea;background:transparent;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;position:relative;justify-self:center;align-self:center}.add-element-button:hover{background:#667eea1a;border-color:#764ba2;border-style:solid;transform:scale(1.05)}.add-element-button:active{transform:scale(.95)}.add-element-button .plus-icon{font-size:64px;color:#667eea;transition:color .3s ease;font-weight:300;line-height:1;display:block}.add-element-button:hover .plus-icon{color:#764ba2}.element-action-buttons{display:flex;flex-direction:column;gap:6px;width:100%;align-items:center}.element-midi-settings{width:100%;margin:12px 0 16px;padding:14px 16px;border-radius:10px;background:#fff;border:1px solid rgba(15,23,42,.12);box-shadow:0 12px 20px #0f172a14;color:#111827}.midi-toggle-row{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}.midi-toggle-label{display:flex;align-items:center;justify-content:space-between;width:100%;gap:10px;font-size:11px;text-transform:uppercase;letter-spacing:.08em;color:#111827;font-weight:600;cursor:pointer}.midi-enable-toggle{appearance:none;-webkit-appearance:none;-moz-appearance:none;width:20px;height:20px;border:2px solid #0f172a;border-radius:50%;background-color:#fff;cursor:pointer;position:relative;transition:all .2s ease;flex-shrink:0}.midi-enable-toggle:checked{background-color:#22c55e;border-color:#15803d}.midi-channel-row{display:flex;align-items:center;justify-content:space-between}.midi-channel-label{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%;gap:10px;font-size:11px;text-transform:uppercase;letter-spacing:.08em;color:#111827;font-weight:600}.midi-channel-select{margin-top:0;padding:6px 12px;border-radius:9999px;background:#fff;border:1px solid rgba(15,23,42,.25);color:#0f172a;font-size:13px;font-weight:600;transition:border .2s ease,background .2s ease}.midi-channel-select:focus{outline:none;border-color:#0f172a73;background:#0f172a0d}.midi-channel-select:disabled{opacity:.5}.config-button{margin:12px auto;padding:8px 16px;font-size:.9rem;font-weight:500;background:#4a90e2;color:#fff;border:none;border-radius:6px;cursor:pointer;box-shadow:0 2px 4px #0000001a;transition:all .2s ease;width:calc(100% - 16px);max-width:180px;z-index:5}.config-button:hover{background:#3b73b4;transform:translateY(-1px);box-shadow:0 4px 8px #00000026}.config-button:active{background:#3b73b4;transform:translateY(0);box-shadow:0 2px 4px #0000001a}.history-button-row{display:flex;gap:8px}.history-button-row--inline{width:auto;max-width:none;align-items:center}.history-button-row--center{margin-left:0;justify-content:center;width:100%;gap:12px}.master-history-controls{display:flex;align-items:center;justify-content:flex-end;margin-top:12px}.history-button{flex:1 1 auto;padding:6px 10px;font-size:.85rem;font-weight:500;border-radius:6px;border:none;background:#2ecc71;color:#fff;cursor:pointer;width:calc(100% - 16px);max-width:180px;transition:all .2s ease}.history-button:hover{background:#24a35a;transform:translateY(-1px)}.history-button:active{background:#24a35a;transform:translateY(0)}.history-button.history-button--primary{background:#27ae60;color:#fff}.history-button.history-button--primary:hover,.history-button.history-button--primary:active{background:#1f8b4d}.master-pattern-header .history-button{margin-left:8px;width:auto;max-width:none}.play-master-button{padding:8px 14px;border:none;border-radius:6px;background:#f1c40f;color:#0f172a;font-size:1rem;font-weight:600;cursor:pointer;height:36px;display:flex;align-items:center;justify-content:center;transition:background .2s ease}.play-master-button:hover,.play-master-button:active{background:#c19c0c}.element-indicator{width:60px;height:60px;border-radius:50%;margin:20px auto 32px;background:#e0e0e0;transition:all .3s ease;display:flex;align-items:center;justify-content:center;position:relative}.element-circle{width:120px;height:120px;margin:20px auto 32px;border-radius:50%;background:#e0e0e0;position:relative;z-index:1;transition:background-color .3s ease}.element-circle.playing{background:#22c55e;box-shadow:0 0 15px #22c55e80}.sound-element .element-indicator{display:none!important}.spiral-visualization-container{width:120px;height:120px;margin:20px auto 32px;position:relative;display:none}.spiral-visualization-container.active{display:block}.sound-element.has-spiral .element-circle,.sound-element.has-spiral .element-indicator{display:none}.spiral-visualization-container canvas{width:100%!important;height:100%!important;border-radius:8px}.element-indicator:before{content:"";position:absolute;width:100%;height:100%;border-radius:50%;border:2px solid transparent;transition:all .3s ease}.element-indicator.hover{background:#667eea;box-shadow:0 0 20px #667eea99;animation:pulse 1.5s ease-in-out infinite}.element-indicator.hover:before{border-color:#667eea;animation:ripple 1.5s ease-out infinite}.element-indicator.proximity{background:#f59e0b;box-shadow:0 0 15px #f59e0b80;animation:pulse-slow 2s ease-in-out infinite}.element-indicator.proximity:before{border-color:#f59e0b;animation:ripple-slow 2s ease-out infinite}.element-indicator.looped{background:#10b981;box-shadow:0 0 15px #10b98180}.element-indicator.looped:before{border-color:#10b981}.element-indicator.paused{background:#ef4444;box-shadow:0 0 15px #ef444480}.element-indicator.paused:before{border-color:#ef4444}@keyframes pulse{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}@keyframes pulse-slow{0%,to{transform:scale(1)}50%{transform:scale(1.08)}}@keyframes ripple{0%{transform:scale(1);opacity:1}to{transform:scale(1.5);opacity:0}}@keyframes ripple-slow{0%{transform:scale(1);opacity:1}to{transform:scale(1.4);opacity:0}}.gain-slider{position:absolute;left:-40px;top:108px;transform:rotate(-90deg);transform-origin:center center;width:100px;height:6px;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:linear-gradient(to right,#e0e0e0,#667eea);border-radius:3px;outline:none;opacity:.7;transition:opacity .2s;cursor:ns-resize;z-index:10}.volume-label{position:absolute;left:15px;top:88px;font-size:9px;color:#666;font-weight:500;writing-mode:vertical-rl;text-orientation:mixed;z-index:11;pointer-events:none;-webkit-user-select:none;user-select:none;letter-spacing:0px;height:30px;display:flex;align-items:center;justify-content:center}.gain-slider:hover{opacity:1}.gain-slider::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:16px;height:16px;border-radius:50%;background:#667eea;cursor:ns-resize;box-shadow:0 2px 4px #0000004d}.gain-slider::-moz-range-thumb{width:16px;height:16px;border-radius:50%;background:#667eea;cursor:ns-resize;border:none;box-shadow:0 2px 4px #0000004d}.channel-label{position:absolute;top:2px;left:50%;transform:translate(-50%);font-size:8px;color:#999;white-space:nowrap;z-index:9;pointer-events:none;-webkit-user-select:none;user-select:none}.pan-slider{position:absolute;top:15px;left:50%;transform:translate(-50%);width:120px;height:6px;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:linear-gradient(to right,#fbbf24,#e0e0e0,#fbbf24);border-radius:3px;outline:none;opacity:.7;transition:opacity .2s;cursor:ew-resize;z-index:10}.pan-label{position:absolute;top:27px;left:50%;transform:translate(-50%);font-size:8px;color:#999;white-space:nowrap;z-index:9;pointer-events:none;-webkit-user-select:none;user-select:none}.pan-slider:hover{opacity:1}.pan-slider::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:16px;height:16px;border-radius:50%;background:#764ba2;cursor:ew-resize;box-shadow:0 2px 4px #0000004d}.pan-slider::-moz-range-thumb{width:16px;height:16px;border-radius:50%;background:#764ba2;cursor:ew-resize;border:none;box-shadow:0 2px 4px #0000004d}.status-panel{background:#fff;border-radius:12px;padding:20px;box-shadow:0 4px 6px #0000001a;margin-bottom:30px}.status-panel #status-text{font-size:1.1rem;font-weight:600;color:#667eea;margin-bottom:10px}.status-panel #active-elements{color:#666;font-size:.9rem}@media(max-width:768px){header h1{font-size:2rem}.elements-container{grid-template-columns:repeat(2,minmax(0,1fr));gap:15px}.sound-element{padding:20px;min-height:auto;height:100%}.controls-panel{padding:20px}.status-dots{right:8px;top:8px}.pan-slider{width:80px;max-width:calc(50% - 40px)}}.modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#0009;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:2000;animation:fadeIn .2s ease}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.modal-content{background:#fff;border-radius:12px;max-width:600px;width:90%;max-height:90vh;overflow-y:auto;box-shadow:0 20px 60px #0000004d;animation:slideUp .3s ease}@keyframes slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.modal-header{padding:20px 24px;border-bottom:1px solid #e0e0e0;display:flex;justify-content:space-between;align-items:center;position:sticky;top:0;background:#fff;z-index:1}.modal-header h2{margin:0;font-size:1.5rem;color:#667eea}.modal-close{background:none;border:none;font-size:2rem;color:#999;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .2s ease}.modal-close:hover{background:#f0f0f0;color:#333}.modal-body{padding:24px}.form-group{margin-bottom:20px}.form-group:last-child{margin-bottom:0}.form-group label{display:block;margin-bottom:8px;font-weight:600;color:#555;font-size:.95rem}.form-group input[type=text],.form-group textarea,.form-group select{width:100%;padding:10px 12px;border:2px solid #e0e0e0;border-radius:6px;font-size:.95rem;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;transition:border-color .2s ease;box-sizing:border-box}.form-group input[type=text]:focus,.form-group textarea:focus,.form-group select:focus{outline:none;border-color:#667eea}.form-group select{background-color:#fff;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23666' d='M6 9L1 4h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 12px center;padding-right:36px}.form-group textarea{resize:vertical;min-height:120px;font-family:Courier New,Courier,monospace;font-size:.9rem}.scale-chord-suggestions{display:none;margin-top:16px;padding:14px 16px;border:1px solid rgba(100,116,139,.35);border-radius:10px;background:#f8fafc;color:#0f172a}.scale-chord-suggestions__header{margin-bottom:8px}.scale-chord-suggestions__characteristic{margin-top:4px;color:#475569;font-size:.9rem}.scale-chord-suggestions__dropdown-wrapper{margin-top:12px}.scale-chord-suggestions__label{display:block;font-weight:600;font-size:.85rem;letter-spacing:.02em;color:#475569;margin-bottom:8px}.scale-chord-suggestions__select{width:100%;padding:10px 12px;border:1px solid rgba(100,116,139,.4);border-radius:6px;background:#fff;color:#0f172a;font-size:.9rem;font-family:inherit;cursor:pointer;transition:border-color .2s,box-shadow .2s}.scale-chord-suggestions__select:hover{border-color:#64748b99}.scale-chord-suggestions__select:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.scale-chord-suggestions__select option{padding:8px}.scale-chord-suggestions__select optgroup{font-weight:600;color:#475569;font-size:.85rem}.scale-chord-suggestions[data-state=placeholder] .scale-chord-suggestions__select{opacity:.7;cursor:not-allowed}.theory-scale-notes-hint{font-size:.85rem;color:#64748b;margin-top:4px;font-style:italic}.pattern-help{margin-top:6px;color:#666;font-size:.85rem}.modal-presets{margin-top:4px;display:flex;flex-direction:column;border-radius:6px;background:#ffffffd9;border:1px solid rgba(102,126,234,.12);padding:4px 6px}.modal-presets--beta{background:#f4f4f5;border-color:#d4d4d8}.modal-presets-toggle{width:100%;padding:6px;border:none;background:transparent;color:#4c51bf;font-weight:600;font-size:.76rem;text-transform:uppercase;letter-spacing:.04em;display:flex;align-items:center;justify-content:space-between;cursor:pointer;border-radius:4px;transition:background .2s ease,color .2s ease}.modal-presets-toggle:hover,.modal-presets-toggle:focus-visible{background:#667eea1f;color:#2a3180}.modal-presets-toggle:focus-visible{outline:2px solid rgba(102,126,234,.45);outline-offset:2px}.modal-presets.collapsed .modal-presets-toggle:after{transform:rotate(-90deg)}.modal-presets-content{padding:0;display:flex;flex-direction:column;gap:8px;margin-top:6px;max-height:0;opacity:0;overflow:hidden;transition:max-height .28s ease,opacity .24s ease,margin .28s ease}.modal-presets-content.is-open{padding:0;margin-top:6px;max-height:900px;opacity:1}.modal-presets-group{display:flex;flex-direction:column;gap:8px}.modal-presets-heading{font-size:.9rem;font-weight:600;color:#4c51bf}.modal-presets-subtoggle{width:100%;border:none;background:transparent;padding:6px;display:flex;align-items:center;justify-content:space-between;color:#4c51bf;font-weight:600;font-size:.76rem;text-transform:uppercase;letter-spacing:.04em;cursor:pointer;border-radius:4px;transition:background .2s ease,color .2s ease}.modal-presets-subtoggle:hover,.modal-presets-subtoggle:focus-visible{background:#667eea1f;color:#2a3180}.modal-presets-subtoggle:focus-visible{outline:2px solid rgba(102,126,234,.45);outline-offset:2px}.modal-presets-group.collapsed .modal-presets-subtoggle:after{transform:rotate(-90deg)}.modal-presets-subcontent{overflow:hidden;max-height:0;opacity:0;transition:max-height .3s ease,opacity .22s ease,margin .2s ease}.modal-presets-subcontent.is-open{max-height:1500px;opacity:1;margin-top:6px}.modal-presets-description{margin:-4px 0 6px;color:#475569;font-size:.82rem;line-height:1.4}.modal-presets-buttons{display:flex;flex-wrap:wrap;gap:8px}.modal-preset-button{flex:1 1 160px;min-width:140px;border-radius:8px;border:1px solid rgba(102,126,234,.3);background:#667eea14;color:#1f2937;padding:10px 12px;text-align:left;cursor:pointer;transition:all .2s ease;font-size:.85rem}.modal-preset-button:hover{border-color:#667eea99;background:#667eea1f;transform:translateY(-1px)}.modal-preset-button span{display:block;font-size:.75rem;color:#475569;margin-top:4px}.modal-preset-button.has-tooltip{position:relative}.modal-preset-button.has-tooltip:after{content:attr(data-tooltip);position:absolute;left:50%;bottom:calc(100% + 8px);transform:translate(-50%,6px);background:#0f172af2;color:#f8fafc;padding:6px 10px;border-radius:6px;font-size:.72rem;line-height:1.35;width:max-content;max-width:min(280px,calc(100vw - 48px));box-shadow:0 12px 24px #0f172a59;opacity:0;pointer-events:none;transition:opacity .15s ease,transform .2s ease;z-index:10;text-align:left;white-space:normal}.modal-preset-button.has-tooltip:before{content:"";position:absolute;left:50%;bottom:calc(100% + 3px);transform:translate(-50%) scaleY(0);border-width:6px;border-style:solid;border-color:rgba(15,23,42,.95) transparent transparent transparent;opacity:0;transition:opacity .15s ease,transform .2s ease;z-index:9}.modal-preset-button.tooltip-align-left:after{transform:translate(-15%,6px)}.modal-preset-button.tooltip-align-left:before{left:35%;transform:translate(-50%) scaleY(0)}.modal-preset-button.tooltip-align-right:after{transform:translate(-85%,6px);text-align:right}.modal-preset-button.tooltip-align-right:before{left:65%;transform:translate(-50%) scaleY(0)}.modal-preset-button.has-tooltip:hover:after,.modal-preset-button.has-tooltip:focus-visible:after{opacity:1;transform:translate(-50%)}.modal-preset-button.has-tooltip:hover:before,.modal-preset-button.has-tooltip:focus-visible:before{opacity:1;transform:translate(-50%) scaleY(1)}.modal-preset-button.tooltip-align-left:hover:after,.modal-preset-button.tooltip-align-left:focus-visible:after{transform:translate(-15%)}.modal-preset-button.tooltip-align-left:hover:before,.modal-preset-button.tooltip-align-left:focus-visible:before{transform:translate(-50%) scaleY(1)}.modal-preset-button.tooltip-align-right:hover:after,.modal-preset-button.tooltip-align-right:focus-visible:after{transform:translate(-85%)}.modal-preset-button.tooltip-align-right:hover:before,.modal-preset-button.tooltip-align-right:focus-visible:before{transform:translate(-50%) scaleY(1)}.modal-preset-heading-row{display:flex;align-items:center;justify-content:space-between;gap:8px}.modal-preset-heading-row strong{flex:1}.modal-preset-badge{font-size:.7rem;font-weight:600;border-radius:999px;padding:2px 8px;color:#1f2937;background:#94a3b859;text-transform:capitalize;white-space:nowrap}.modal-preset-badge.is-step{background:#10b98129;color:#047857}.modal-preset-badge.is-code{background:#3b82f626;color:#1d4ed8}.modal-preset-description{display:block}.modal-preset-secondary-row{font-size:.76rem;color:#374151;font-weight:500;margin:2px 0 4px}.pattern-label-row{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:6px}.pattern-label-row>label:first-child{font-weight:600;color:#444}.pattern-snippet-container{display:flex;flex-direction:column;gap:6px;margin-bottom:12px}.pattern-snippet-container.disabled,.modal-presets.disabled{opacity:.55;pointer-events:none}.pattern-snippet-description{font-size:.72rem;color:#5160b3;margin-top:4px}.pattern-snippet-heading{font-size:.78rem;font-weight:600;text-transform:uppercase;letter-spacing:.04em;color:#5a67d8}.pattern-snippet-subheading{width:100%;margin-top:6px;margin-bottom:2px;font-size:.7rem;font-weight:600;letter-spacing:.02em;color:#4c51bf;text-transform:uppercase}.pattern-snippet-group{display:flex;flex-direction:column;border-radius:6px;background:#ffffffd9;border:1px solid rgba(102,126,234,.12);padding:4px 6px}.pattern-snippet-group-heading{display:flex;align-items:center;justify-content:space-between;gap:8px;background:transparent;border:none;padding:6px;font-size:.76rem;font-weight:600;color:#4c51bf;text-transform:uppercase;letter-spacing:.04em;cursor:pointer;border-radius:4px;transition:background .2s ease,color .2s ease}.pattern-snippet-group-heading:after{content:"▾";font-size:.7rem;color:inherit;transition:transform .2s ease}.pattern-snippet-group.collapsed .pattern-snippet-group-heading:after{transform:rotate(-90deg)}.pattern-snippet-group-heading:hover,.pattern-snippet-group-heading:focus-visible{background:#667eea1f;color:#2a3180}.pattern-snippet-group-heading:focus-visible{outline:2px solid rgba(102,126,234,.45);outline-offset:2px}.pattern-snippet-group-items{display:flex;flex-wrap:wrap;gap:6px;margin-top:6px}.pattern-snippet-placeholder{flex:1 1 100%;padding:12px 14px;border:1px dashed rgba(99,102,241,.4);border-radius:10px;font-size:.85rem;color:#4b5563;background:#6366f10d;text-align:center}.pattern-snippet-group.collapsed .pattern-snippet-group-items{display:none}.pattern-snippet-item{display:flex;flex-direction:column;gap:2px;min-width:120px}.pattern-snippet-meta{font-size:.75rem;color:#6b7280}.pattern-snippet-search{width:100%;padding:6px 10px;border-radius:999px;border:1px solid rgba(102,126,234,.35);background:#ffffffd9;font-size:.78rem;color:#39438a;outline:none;margin:4px 0 10px;transition:border-color .2s ease,box-shadow .2s ease}.pattern-snippet-search:focus{border-color:#667eeaa6;box-shadow:0 0 0 2px #667eea40}.pattern-snippet-search:disabled{opacity:.55;cursor:not-allowed;box-shadow:none}.pattern-snippet-list{display:flex;flex-direction:column;gap:8px;max-height:160px;overflow-y:auto;overflow-x:hidden;padding-right:4px;width:100%}.pattern-snippet-list::-webkit-scrollbar{width:6px;height:6px}.pattern-snippet-list::-webkit-scrollbar-track{background:transparent}.pattern-snippet-list::-webkit-scrollbar-thumb{background:#667eea40;border-radius:6px}.pattern-snippet-tag{border:1px solid rgba(102,126,234,.3);background:#667eea1a;color:#4c51bf;font-size:.75rem;font-weight:600;padding:4px 10px;border-radius:999px;cursor:pointer;transition:background .2s ease,color .2s ease,transform .1s ease;position:relative}.pattern-snippet-tag:hover,.pattern-snippet-tag:focus-visible{background:#667eea33;color:#2a3180}.pattern-snippet-tag:active{transform:translateY(1px)}.pattern-snippet-tag:focus-visible{outline:2px solid rgba(102,126,234,.45);outline-offset:2px}.pattern-snippet-tag.snippet-group-core,.pattern-snippet-tag.pattern-snippet-tag-core{border-color:#e4b41873;background:#ffe67852;color:#7a5200}.pattern-snippet-tag.pattern-snippet-tag-sound-brown{border-color:#966e3c8c;background:#d2aa7852;color:#4b2d0f}.pattern-snippet-tag.pattern-snippet-tag-sound-pink{border-color:#e276a38c;background:#f3bcd652;color:#7b1f4a}.pattern-snippet-tag.pattern-snippet-tag-sound-white{border-color:#ccc9;background:#f0f0f0bf;color:#353535}.pattern-snippet-tag.snippet-group-amplitude-modulation{border-color:#a57bff73;background:#d0b8ff47;color:#47288d}.pattern-snippet-tag.snippet-group-amplitude-envelope{border-color:#78ce9b80;background:#bfead04d;color:#216045}.pattern-snippet-tag.snippet-group-filter-envelope{border-color:#5eceff80;background:#b2e5ff47;color:#136189}.pattern-snippet-tag.snippet-group-pitch-envelope{border-color:#e0aa7480;background:#fad6b24d;color:#7a3e12}.pattern-snippet-tag.snippet-group-dynamics{border-color:#f4ad6380;background:#ffdbb352;color:#7a3f06}.pattern-snippet-tag.snippet-group-panning{border-color:#8091e880;background:#cbd4ff52;color:#273075}.pattern-snippet-tag.snippet-group-waveshaping{border-color:#d97eb280;background:#f5c2dd4d;color:#7b2752}.pattern-snippet-tag.snippet-group-global-effects{border-color:#78bb9b8c;background:#c4e5d552;color:#1f5a41}.pattern-snippet-tag.snippet-group-delay{border-color:#5096ff73;background:#9ec6ff47;color:#1a4c9b}.pattern-editor-mode-switch{margin-left:auto;display:inline-flex;align-items:center;gap:10px}.pattern-editor-mode-switch span{font-size:.85rem;font-weight:600;color:#475569}.modal-presets-empty{padding:8px 0;color:#6b7280;font-style:italic}.pattern-snippet-tag.snippet-group-reverb{border-color:#346dcc80;background:#73a3ff47;color:#15326e}.pattern-snippet-tag.snippet-group-phaser{border-color:#267a5280;background:#66bf8e42;color:#0f3f2a}.pattern-snippet-tag.snippet-group-duck{border-color:#f7a2458c;background:#ffcf9647;color:#7b3a04}.pattern-snippet-empty{font-size:.75rem;color:#6b7280;padding:12px 6px;text-align:center}.pattern-snippet-tag.snippet-group-filters-hp{border-color:#5eceff80;background:#b2e5ff47;color:#136189}.pattern-snippet-tag.snippet-group-filters-bp{border-color:#7abdc680;background:#bce0e452;color:#1f4f56}.pattern-snippet-tag.snippet-group-filters-lp{border-color:#b78b5880;background:#dfbe9252;color:#5b3200}.pattern-snippet-tag.snippet-group-time{border-color:#d686ff73;background:#efd0ff4d;color:#5a1a89}.pattern-snippet-tag.snippet-group-controls{border-color:#78bb9b8c;background:#c4e5d552;color:#1f5a41}.pattern-snippet-tag.snippet-group-random{border-color:#f4ad6380;background:#ffdbb352;color:#7a3f06}.pattern-snippet-tag.snippet-group-conditional{border-color:#a880df73;background:#dcc8f452;color:#4d2a7a}.pattern-snippet-tag.snippet-group-accumulation{border-color:#6dc5e880;background:#bbe5f652;color:#0a4a68}.pattern-snippet-tag.snippet-group-midi{border-color:#db4a4a8c;background:#f7959542;color:#7b1111}.pattern-snippet-tag.snippet-group-signals{border-color:#8091e880;background:#cbd4ff52;color:#273075}.pattern-snippet-tag.snippet-group-tonal{border-color:#71bf8e80;background:#c2e8d152;color:#1f6240}.pattern-snippet-tag.snippet-group-synths{border-color:#78a0f68c;background:#c4d3ff52;color:#233d91}.pattern-snippet-tag.snippet-group-synths.pattern-snippet-tag-core{border-color:#e4b41873;background:#ffe67852;color:#7a5200}.pattern-snippet-tag.snippet-group-synths.pattern-snippet-tag-sound-brown{border-color:#966e3c8c;background:#d2aa7852;color:#4b2d0f}.pattern-snippet-tag.snippet-group-synths.pattern-snippet-tag-sound-pink{border-color:#e276a38c;background:#f3bcd652;color:#7b1f4a}.pattern-snippet-tag.snippet-group-synths.pattern-snippet-tag-sound-white{border-color:#ccc9;background:#f0f0f0bf;color:#353535}.pattern-snippet-tag.snippet-group-visual-feedback{border-color:#ffb45c8c;background:#ffddb252;color:#804915}.pattern-snippet-tag.snippet-group-stepwise{border-color:#e074a480;background:#f8bfd952;color:#7a1f45}.pattern-snippet-tag.snippet-group-device{border-color:#f7a2458c;background:#ffcf9647;color:#7b3a04}.pattern-snippet-tag.snippet-group-external-communication{border-color:#8b5cf68c;background:#c4b5ff47;color:#4a1f7a}.pattern-snippet-tag.snippet-group-other{border-color:#667eea4d;background:#667eea1a;color:#4c51bf}.sample-add-row{display:flex;gap:8px;align-items:center}.sample-add-row input{flex:1}.sample-add-button{padding:6px 12px;font-size:.85rem;font-weight:600;border-radius:4px;border:none;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;cursor:pointer;transition:transform .1s ease,box-shadow .1s ease}.sample-add-button:hover,.sample-add-button:focus-visible{transform:translateY(-1px);box-shadow:0 6px 14px #667eea66}.sample-add-button:active{transform:translateY(0);box-shadow:0 3px 7px #667eea59}.sample-add-hint{display:inline-block;margin-top:4px;font-size:.75rem;color:#718096}.pattern-snippet-suggestions{margin-top:8px;margin-bottom:8px;padding:8px;background:#667eea0d;border:1px solid rgba(102,126,234,.15);border-radius:6px;animation:fadeIn .2s ease-in}@keyframes fadeIn{0%{opacity:0;transform:translateY(-4px)}to{opacity:1;transform:translateY(0)}}.pattern-snippet-suggestions-label{font-size:.7rem;font-weight:600;color:#667eea;margin-bottom:6px;text-transform:uppercase;letter-spacing:.5px}.pattern-snippet-suggestions-list{display:flex;flex-wrap:wrap;gap:6px}.pattern-snippet-tag.pattern-snippet-tag-suggested{border-color:#667eea80;background:#667eea26;box-shadow:0 0 0 1px #667eea33}.pattern-snippet-tag.pattern-snippet-tag-suggested:hover,.pattern-snippet-tag.pattern-snippet-tag-suggested:focus-visible{background:#667eea40;border-color:#667eeab3;box-shadow:0 0 0 2px #667eea4d;transform:translateY(-1px)}.pattern-snippet-tooltip{position:fixed;z-index:9999;max-width:280px;background:#273076f2;color:#f7f8ff;padding:10px 12px;border-radius:10px;box-shadow:0 18px 32px #1c22504d;font-size:.74rem;line-height:1.4;pointer-events:none;display:none;opacity:0;transition:opacity .15s ease}.pattern-snippet-tooltip.visible{display:block;opacity:1}.pattern-snippet-tooltip-title{font-weight:600;margin-bottom:4px;color:#cbd5ff}.pattern-snippet-tooltip-body{color:#eef1ff}.pattern-snippet-tooltip-params{margin-top:6px;padding-top:6px;border-top:1px solid rgba(192,204,255,.3);color:#dfe4ff}.pattern-snippet-tooltip-params div{margin-top:2px;padding-left:10px;position:relative}.pattern-snippet-tooltip-params div:before{content:"•";position:absolute;left:0;color:#cbd5ffe6}.cm-master-highlight{background:#667eea66!important;border-radius:4px;border-bottom:2px solid rgba(102,126,234,.6)!important;box-shadow:0 2px 4px #667eea33!important}.drum-grid-section{margin-top:10px;margin-bottom:12px;padding:12px;border:1px solid #e0e0e0;border-radius:8px;background:#fafafa;overflow-x:auto;overflow-y:visible;max-width:100%}.drum-grid-section::-webkit-scrollbar{height:8px}.drum-grid-section::-webkit-scrollbar-track{background:#f0f0f0;border-radius:4px}.drum-grid-section::-webkit-scrollbar-thumb{background:#ccc;border-radius:4px}.drum-grid-section::-webkit-scrollbar-thumb:hover{background:#aaa}.drum-grid-title-row{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:4px}.drum-grid-bar-selector{display:flex;align-items:center;gap:6px}.drum-grid-bar-arrow{background:transparent;color:#000;border:1px solid rgba(0,0,0,.3);border-radius:50%;width:24px;height:24px;font-size:16px;line-height:1;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background-color .2s,transform .1s,border-color .2s;padding:0;flex-shrink:0;font-weight:700}.drum-grid-bar-arrow:hover{background:#0000001a;border-color:#00000080;transform:scale(1.1)}.drum-grid-bar-arrow:active{transform:scale(.95);background:#0003}.drum-grid-bar-arrow:disabled,.drum-grid-bar-arrow[style*="display: none"]{display:none!important}.drum-grid-bar-count{font-size:14px;color:var(--text-secondary);cursor:pointer;-webkit-user-select:none;user-select:none;padding:4px 8px;border-radius:4px;transition:background-color .2s,color .2s}.drum-grid-bar-count:hover{background-color:#ffffff1a;color:var(--text-primary)}.drum-grid-add-bar{background:transparent;color:#000;border:1px solid rgba(0,0,0,.3);border-radius:50%;width:24px;height:24px;font-size:18px;line-height:1;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background-color .2s,transform .1s,border-color .2s;padding:0;flex-shrink:0;font-weight:700}.drum-grid-add-bar:hover{background:#0000001a;border-color:#00000080;transform:scale(1.1)}.drum-grid-add-bar:active{transform:scale(.95);background:#0003}.drum-grid-header{display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap;margin-bottom:8px}.drum-grid-title{font-size:.9rem;font-weight:600;color:#444}.drum-grid-subtitle{font-size:.75rem;color:#777}.pattern-editor-toggle{display:inline-flex;align-items:center;gap:6px;font-size:.85rem;color:#555;cursor:pointer;-webkit-user-select:none;user-select:none}.pattern-preview-controls{display:flex;justify-content:flex-start;gap:8px;margin-top:10px;margin-bottom:8px;flex-wrap:wrap}.modal-preview-button{display:inline-flex;align-items:center;gap:6px;padding:6px 14px;border-radius:999px;border:1px solid rgba(102,126,234,.35);background:linear-gradient(135deg,#667eea2e,#764ba226);color:#4c51bf;font-size:.78rem;font-weight:600;cursor:pointer;transition:background .2s ease,transform .1s ease,box-shadow .2s ease;box-shadow:0 4px 8px #667eea26}.modal-preview-button:hover:not(:disabled),.modal-preview-button:focus-visible:not(:disabled){background:linear-gradient(135deg,#667eea47,#764ba238);box-shadow:0 6px 14px #667eea3d}.modal-preview-button:active:not(:disabled){transform:translateY(1px)}.modal-preview-button:disabled{opacity:.45;cursor:not-allowed;box-shadow:none}.pattern-editor-toggle input[type=checkbox]{accent-color:#667eea;cursor:pointer}.pattern-editor-readonly{opacity:.65;cursor:not-allowed}.cm-editor.cm-readonly{opacity:.65}.cm-editor.cm-readonly .cm-content{cursor:not-allowed}.drum-grid{display:flex;flex-direction:column;gap:6px;min-width:max-content}.drum-grid-row{display:flex;align-items:center;gap:8px;min-width:max-content}.drum-grid-row-label{width:32px;font-size:.8rem;font-weight:600;color:#555;text-align:right}.drum-grid-steps{display:grid;grid-auto-flow:column;gap:2px;flex:1;min-width:max-content;overflow-x:auto;overflow-y:visible}.drum-grid-step{width:20px;height:22px;display:flex;align-items:center;justify-content:center;border-radius:4px;background:#fff;border:1px solid #e2e2e2;position:relative}.drum-grid-step.quarter-boundary:before{content:"";position:absolute;left:-4px;top:0;bottom:0;width:2px;background:#666;z-index:1}.drum-grid-step input[type=checkbox]{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:14px;height:14px;border-radius:50%;border:2px solid #cbd5f5;background:transparent;cursor:pointer;transition:all .15s ease}.drum-grid-step input[type=checkbox]:hover{border-color:#7c90f6}.drum-grid-step input[type=checkbox]:checked{background:#4f46e5;border-color:#4f46e5;box-shadow:0 0 5px #4f46e566}.drum-grid-step input[type=checkbox]:focus{outline:none;box-shadow:0 0 0 2px #6366f140}.drum-grid-hint{margin-top:8px;font-size:.75rem;color:#777}.form-group input[type=file]{width:100%;padding:8px;border:2px dashed #e0e0e0;border-radius:8px;cursor:pointer;font-size:.9rem;background:#f1c40f0d}.form-group input[type=file]:hover{border-color:#f1c40f;background:#f1c40f1a}.form-group input[type=file]::file-selector-button,.form-group input[type=file]::-webkit-file-upload-button{background:#f1c40f;color:#0f172a;border:none;border-radius:999px;padding:8px 16px;font-weight:600;cursor:pointer;margin-right:12px;transition:background .2s ease}.form-group input[type=file]::file-selector-button:hover,.form-group input[type=file]::-webkit-file-upload-button:hover{background:#c19c0c}.form-group input[type=file]::file-selector-button:active,.form-group input[type=file]::-webkit-file-upload-button:active{background:#c19c0c}.modal-footer{padding:20px 24px;border-top:1px solid #e0e0e0;display:flex;justify-content:flex-end;gap:12px}.btn-cancel,.btn-save{padding:10px 24px;font-size:1rem;font-weight:500;border:none;border-radius:6px;cursor:pointer;transition:all .2s ease}.btn-cancel{background:#f0f0f0;color:#666}.btn-cancel:hover{background:#e0e0e0;color:#333}.btn-save{background:#27ae60;color:#fff}.btn-save:hover{background:#1f8b4d;transform:translateY(-1px);box-shadow:0 4px 8px #27ae604d}.btn-save:active{background:#1f8b4d;transform:translateY(0)}@media(max-width:480px){body{padding:10px}.elements-container{grid-template-columns:repeat(2,1fr)}.modal-content{width:95%;max-height:95vh}.modal-header,.modal-body,.modal-footer{padding:16px}.pan-slider{width:70px}}.collapsible-section{width:96%;margin-top:8px;margin-bottom:0;z-index:5}.collapsible-content.active{margin-bottom:16px}.collapsible-section:last-of-type .collapsible-content.active{margin-bottom:20px}.collapsible-toggle{width:100%;padding:6px 10px;background:#ffffffe6;border:1px solid #ccc;border-radius:4px;font-size:11px;font-weight:600;text-align:left;cursor:pointer;display:flex;align-items:center;gap:6px;transition:all .2s ease;color:#333}.collapsible-toggle:hover{background:#fff;border-color:#999}.collapsible-toggle.active{background:#6366f1;color:#fff;border-color:#4f46e5}.toggle-icon{display:inline-block;transition:transform .2s ease;font-size:10px}.collapsible-toggle.active .toggle-icon{transform:rotate(90deg)}.filter-toggle,.effect-toggle{width:100%;padding:6px 10px;border:1px solid rgba(102,126,234,.3);background:#667eea1a;border-radius:4px;font-size:11px;font-weight:600;text-align:left;cursor:pointer;display:flex;align-items:center;gap:6px;transition:all .2s ease;color:#4c51bf;margin-bottom:4px}.filter-toggle:hover,.effect-toggle:hover{background:#667eea33;border-color:#667eea80}.filter-toggle.active,.effect-toggle.active{background:#667eea4d;border-color:#667eea99}.filter-toggle.snippet-group-filters-hp{border-color:#5eceff80;background:#b2e5ff47;color:#136189}.filter-toggle.snippet-group-filters-hp:hover{background:#b2e5ff66;border-color:#5eceffb3}.filter-toggle.snippet-group-filters-hp.active{background:#b2e5ff80;border-color:#5eceffcc}.filter-toggle.snippet-group-filters-lp{border-color:#b78b5880;background:#dfbe9252;color:#5b3200}.filter-toggle.snippet-group-filters-lp:hover{background:#dfbe9273;border-color:#b78b58b3}.filter-toggle.snippet-group-filters-lp.active{background:#dfbe928c;border-color:#b78b58cc}.filter-toggle.snippet-group-filters-bp{border-color:#7abdc680;background:#bce0e452;color:#1f4f56}.filter-toggle.snippet-group-filters-bp:hover{background:#bce0e473;border-color:#7abdc6b3}.filter-toggle.snippet-group-filters-bp.active{background:#bce0e48c;border-color:#7abdc6cc}.effect-toggle.snippet-group-delay{border-color:#5096ff73;background:#9ec6ff47;color:#1a4c9b}.effect-toggle.snippet-group-delay:hover{background:#9ec6ff66;border-color:#5096ffa6}.effect-toggle.snippet-group-delay.active{background:#9ec6ff80;border-color:#5096ffcc}.effect-toggle.snippet-group-reverb{border-color:#346dcc80;background:#73a3ff47;color:#15326e}.effect-toggle.snippet-group-reverb:hover{background:#73a3ff66;border-color:#346dccb3}.effect-toggle.snippet-group-reverb.active{background:#73a3ff80;border-color:#346dcccc}.effect-toggle.snippet-group-amplitude-modulation{border-color:#a57bff73;background:#d0b8ff47;color:#47288d}.effect-toggle.snippet-group-amplitude-modulation:hover{background:#d0b8ff66;border-color:#a57bffa6}.effect-toggle.snippet-group-amplitude-modulation.active{background:#d0b8ff80;border-color:#a57bffcc}.pattern-history-modal{position:fixed;top:0;right:0;bottom:0;left:0;background:#0f172a8c;display:none;align-items:center;justify-content:center;padding:24px;z-index:2000}.pattern-history-modal.is-open{display:flex}.pattern-history-dialog{background:#fff;border-radius:12px;width:min(480px,90vw);max-height:85vh;box-shadow:0 18px 45px #0f172a40;display:flex;flex-direction:column;overflow:hidden}.pattern-history-header{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;border-bottom:1px solid rgba(15,23,42,.08)}.pattern-history-header h3{font-size:1rem;margin:0;color:#0f172a}.history-close-button{border:none;background:transparent;font-size:1.4rem;line-height:1;cursor:pointer;color:#475569;transition:color .2s ease}.history-close-button:hover{color:#0f172a}.pattern-history-tabs{display:flex;gap:4px;padding:12px 20px;border-bottom:1px solid rgba(15,23,42,.08);background:#f8fafc}.pattern-history-tab{padding:8px 16px;border:none;background:transparent;color:#475569;font-size:.9rem;font-weight:500;cursor:pointer;border-radius:6px;transition:all .2s}.pattern-history-tab:hover{background:#0f172a0d;color:#0f172a}.pattern-history-tab.active{background:#667eea;color:#fff}.pattern-history-list{padding:16px 20px 20px;overflow-y:auto;display:flex;flex-direction:column;gap:12px}.pattern-history-entry{border:1px solid rgba(15,23,42,.08);border-radius:10px;padding:12px;background:#f8fafc;display:flex;flex-direction:column;gap:8px}.pattern-history-meta{display:flex;align-items:center;justify-content:space-between;gap:8px;flex-wrap:wrap}.pattern-history-index{font-size:.85rem;font-weight:600;color:#0f172a;background:#0f172a14;border-radius:999px;padding:2px 10px}.pattern-history-date{font-size:.85rem;color:#475569;margin:0}.pattern-history-snippet{font-family:Fira Code,SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:.8rem;color:#0f172a;background:#e2e8f0;border-radius:6px;padding:8px;margin:0;max-height:120px;overflow-y:auto;white-space:pre-wrap}.pattern-history-actions{display:flex;justify-content:flex-end}.pattern-history-load{align-self:flex-end;padding:6px 12px;border:none;border-radius:6px;background:#10b981;color:#fff;font-weight:600;cursor:pointer;transition:background .2s ease}.pattern-history-load:hover{background:#0ea472}.pattern-history-empty{font-size:.9rem;color:#475569;margin:8px 0}.filter-collapsible-row,.effect-collapsible-row{width:100%;margin-bottom:4px}.synthesis-sliders-container{width:100%;padding:0}.slider-value{white-space:nowrap}.collapsible-content{max-height:0;overflow:hidden;transition:max-height .3s ease;background:#fffffff2;border:1px solid #ddd;border-top:none;border-radius:0 0 4px 4px}.effects-content{margin-bottom:8px}.toggle-switch{position:relative;display:inline-block;width:50px;height:24px}.toggle-switch input{opacity:0;width:0;height:0}.toggle-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#667eea;transition:.3s;border-radius:24px}.toggle-slider:before{position:absolute;content:"";height:18px;width:18px;left:3px;bottom:3px;background-color:#fff;transition:.3s;border-radius:50%}.toggle-switch input:checked+.toggle-slider{background-color:#ff8c00}.toggle-switch input:checked+.toggle-slider:before{transform:translate(26px)}.toggle-switch:hover .toggle-slider{background-color:#bbb}.toggle-switch input:checked:hover+.toggle-slider{background-color:#e67e00}.collapsible-content.active{max-height:200px;overflow-y:auto}.sound-element{contain:layout style}.slider-row{display:flex;flex-direction:column;gap:4px;padding:8px 8px 8px 4px;border-bottom:1px solid #eee}.slider-row:last-child{border-bottom:none}.slider-label-row{display:flex;justify-content:space-between;align-items:center;width:100%}.slider-row label{flex:0 0 auto;font-size:9px;font-weight:500;color:#555;text-align:left}.slider-row .slider-value{flex:0 0 auto;font-size:9px;color:#666;text-align:right}.slider-row input[type=range]{flex:1;height:4px;background:#ddd;border-radius:2px;outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.slider-row input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:14px;height:14px;background:#6366f1;border-radius:50%;cursor:pointer;transition:all .2s ease}.slider-row input[type=range]::-webkit-slider-thumb:hover{background:#4f46e5;transform:scale(1.1)}.slider-row input[type=range]::-moz-range-thumb{width:14px;height:14px;background:#6366f1;border-radius:50%;cursor:pointer;border:none;transition:all .2s ease}.slider-row input[type=range]::-moz-range-thumb:hover{background:#4f46e5;transform:scale(1.1)}.slider-row .slider-value{flex:0 0 42px;font-size:10px;font-weight:600;color:#6366f1;text-align:right}.slider-row .slider-endpoint{font-size:7px;color:#666;flex:0 0 38px}.slider-row .slider-endpoint--min{text-align:right;margin-right:4px}.slider-row .slider-endpoint--max{text-align:left;margin-left:4px}.login-button{background:#fff;color:#333;border:none;padding:10px 20px;border-radius:8px;font-size:.9rem;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:8px;transition:all .2s;box-shadow:0 2px 4px #0000001a}.login-button:hover{transform:translateY(-1px);box-shadow:0 4px 8px #00000026}.login-modal-body .auth-form .form-group input[type=email],.login-modal-body .auth-form .form-group input[type=password],.login-modal-body .auth-form .form-group input[type=text]{width:100%;padding:12px 18px;border:2px solid rgba(102,126,234,.25);border-radius:999px;background:#fffffff2;font-size:1rem;transition:border-color .2s ease,box-shadow .2s ease}.login-modal-body .auth-form .form-group input:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea26}.btn-primary{background:linear-gradient(135deg,#6366f1,#8b5cf6);color:#fff;border:none;padding:10px 16px;border-radius:999px;font-weight:600;cursor:pointer;transition:opacity .2s ease}.btn-primary:hover{opacity:.9}.btn-danger{background:#dc2626;color:#fff;border:none;padding:8px 14px;border-radius:8px;cursor:pointer;font-weight:600;transition:opacity .2s ease}.btn-danger:hover{opacity:.85}.user-menu{position:relative;z-index:20000;isolation:isolate}.user-menu-button{background:#ffffff1a;border:1px solid rgba(255,255,255,.2);color:#fff;padding:8px 16px;border-radius:8px;font-size:.9rem;cursor:pointer;display:flex;align-items:center;gap:8px;transition:all .2s}.user-menu-button:hover{background:#fff3}.user-avatar{width:32px;height:32px;border-radius:50%;object-fit:cover}.user-menu-dropdown{position:absolute;top:calc(100% + 8px);right:0;z-index:20001;background:#fff;border-radius:8px;box-shadow:0 8px 30px #0f172a59;min-width:200px;overflow:hidden;display:none}.user-menu-dropdown.active{display:block}.user-menu-item{display:block;padding:12px 16px;color:#333;text-decoration:none;transition:background .2s;border:none;width:100%;text-align:left;font-size:.9rem;cursor:pointer;background:none}.user-menu-item:hover{background:#f5f5f5}.user-menu-item.logout{color:#dc2626;border-top:1px solid #eee}.user-menu-divider{height:1px;background:#0f172b14;margin:4px 0}.login-modal-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:10000;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.login-modal{background:#fff;border-radius:16px;box-shadow:0 20px 60px #0000004d;max-width:400px;width:90%;max-height:90vh;overflow:auto}.login-modal-header{display:flex;justify-content:space-between;align-items:center;padding:24px;border-bottom:1px solid #eee}.login-modal-header h2{margin:0;font-size:1.5rem;color:#333}.login-modal-close{background:none;border:none;font-size:28px;color:#666;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .2s}.login-modal-close:hover{background:#f5f5f5;color:#333}.login-modal-body{padding:24px}.login-modal-body p{margin:0 0 24px;color:#666;text-align:center}.login-tabs{display:flex;gap:8px;margin-bottom:16px}.login-tab{flex:1;padding:8px 12px;border:1px solid rgba(76,81,191,.3);background:#fff;color:#4c51bf;border-radius:999px;cursor:pointer;font-weight:600;transition:all .2s ease}.login-tab.active{background:#4c51bf;color:#fff;box-shadow:0 6px 12px #4c51bf40}.auth-form{display:none;flex-direction:column;gap:12px;margin-bottom:8px}.auth-form-active{display:flex}.auth-links{display:flex;gap:8px;flex-wrap:wrap;justify-content:space-between}.auth-links button{background:none;border:none;padding:0;color:#4c51bf;font-weight:600;text-decoration:underline;cursor:pointer;font-size:.85rem}.auth-status{min-height:18px;font-size:.85rem;margin-top:6px}.auth-status[data-status-type=error]{color:#dc2626}.auth-status[data-status-type=success]{color:#16a34a}.login-separator{margin:16px 0;text-align:center;color:#9ca3af;font-size:.85rem;position:relative}.login-separator:before,.login-separator:after{content:"";position:absolute;top:50%;width:40%;height:1px;background:#9ca3af80}.login-separator:before{left:0}.login-separator:after{right:0}.login-buttons{display:flex;flex-direction:column;gap:12px;margin-top:12px}.login-button-google{width:100%;justify-content:center;background:#fff;border:1px solid #e5e7eb}.user-profile-modal-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:10000;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.user-profile-modal{background:#fff;border-radius:16px;box-shadow:0 20px 60px #0000004d;max-width:600px;width:90%;max-height:90vh;overflow:auto}.user-profile-modal-header{display:flex;justify-content:space-between;align-items:center;padding:24px;border-bottom:1px solid #eee}.user-profile-modal-header h2{margin:0;font-size:1.5rem;color:#333}.user-profile-modal-close{background:none;border:none;font-size:28px;color:#666;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .2s}.user-profile-modal-close:hover{background:#f5f5f5;color:#333}.user-profile-modal-body{padding:24px}.user-profile-modal-body .form-group{margin-bottom:24px}.user-profile-modal-body .form-group label{display:block;margin-bottom:8px;font-weight:600;color:#333}.user-profile-modal-body .form-group input[type=text],.user-profile-modal-body .form-group input[type=url]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:8px;font-size:.95rem;transition:border-color .2s}.avatar-preview-container{display:flex;flex-direction:column;align-items:flex-start}.avatar-preview-container img{border:2px solid #ddd;border-radius:50%;object-fit:cover}#profile-avatar-provider-note{color:#666}#profile-avatar-group.is-locked label{color:#999}.user-profile-modal-body .form-group input:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.user-profile-modal-body .form-group small{display:block;margin-top:4px;color:#666;font-size:.85rem}.social-links-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:16px}.social-link-item{display:flex;flex-direction:column;gap:6px}.social-link-item label{font-size:.9rem;font-weight:500}.user-profile-info{background:#f9fafb;padding:16px;border-radius:8px}.user-profile-info p{margin:8px 0;color:#666}.user-profile-info strong{color:#333}.user-profile-optional{background:#f8fafc;border:1px solid #e2e8f0;border-radius:16px;padding:20px;margin:16px 0 0;box-shadow:inset 0 1px #94a3b833}.user-profile-optional-header{margin-bottom:18px}.user-profile-optional-header h3{margin:0 0 6px;font-size:1.1rem;color:#111827}.user-profile-optional-header p{margin:0;color:#4b5563;font-size:.9rem}.user-profile-optional-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px}.user-profile-optional-grid .form-group{margin-bottom:0}.user-profile-email-field{display:flex;flex-direction:column}.user-profile-email{padding:12px 14px;border-radius:12px;background:#e2e8f0;color:#0f172a;font-weight:600;letter-spacing:.01em}.user-profile-birthdate-field input{border-radius:12px;padding:10px 12px;border:1px solid #d1d5db}.user-profile-first-name,.user-profile-last-name{grid-column:span 1}@media(min-width:640px){.user-profile-first-name,.user-profile-last-name{grid-column:span 1}}.user-profile-modal-footer{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:12px;padding-top:24px;border-top:1px solid #eee;margin-top:24px;width:100%}.user-profile-footer-btn{width:100%;padding:12px 14px;border-radius:10px;border:none;font-size:.95rem;font-weight:600;cursor:pointer;transition:background .2s ease,transform .2s ease,box-shadow .2s ease;text-align:center;color:#fff;min-width:0}.user-profile-footer-btn:focus-visible{outline:3px solid rgba(59,130,246,.5);outline-offset:2px}.user-profile-footer-btn--primary{background:#22c55e;box-shadow:0 6px 16px #22c55e59}.user-profile-footer-btn--primary:hover{background:#16a34a;transform:translateY(-2px)}.user-profile-footer-btn--neutral{background:#e2e8f0;color:#0f172a}.user-profile-footer-btn--neutral:hover{background:#cbd5f5;transform:translateY(-2px)}.user-profile-footer-btn--danger{background:#dc2626;box-shadow:0 6px 16px #dc262659}.user-profile-footer-btn--danger:hover{background:#b91c1c;transform:translateY(-2px)}.user-submissions-modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:10000;padding:20px}.user-submissions-modal{background:#fff;border-radius:20px;max-width:900px;width:100%;max-height:90vh;display:flex;flex-direction:column;box-shadow:0 20px 60px #0000004d}.user-submissions-modal-header{padding:24px 32px;border-bottom:1px solid rgba(15,23,42,.08);display:flex;justify-content:space-between;align-items:center}.user-submissions-modal-header h2{margin:0;font-size:1.5rem;font-weight:600;color:#0f172a}.user-submissions-modal-close{background:none;border:none;font-size:2rem;line-height:1;color:#64748b;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:8px;transition:all .2s}.user-submissions-modal-close:hover{background:#f1f5f9;color:#0f172a}.user-submissions-modal-body{padding:24px 32px;overflow-y:auto;flex:1}.user-submissions-tabs{display:flex;gap:8px;margin-bottom:24px;border-bottom:2px solid #e2e8f0}.user-submissions-tab{padding:12px 24px;background:none;border:none;border-bottom:2px solid transparent;cursor:pointer;font-size:.95rem;font-weight:500;color:#64748b;transition:all .2s;margin-bottom:-2px}.user-submissions-tab:hover{color:#0f172a;background:#f8fafc}.user-submissions-tab.active{color:#3b82f6;border-bottom-color:#3b82f6}.user-submissions-loading,.user-submissions-empty{text-align:center;padding:48px 24px;color:#64748b}.user-submissions-error{color:#ef4444;padding:24px;text-align:center}.user-submissions-list{display:flex;flex-direction:column;gap:16px}.user-submission-item{border:1px solid #e2e8f0;border-radius:12px;padding:20px;background:#f8fafc;transition:all .2s}.user-submission-item:hover{border-color:#cbd5e1;box-shadow:0 2px 8px #0000000d}.user-submission-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px;gap:16px}.user-submission-info{flex:1}.user-submission-title{margin:0 0 8px;font-size:1.1rem;font-weight:600;color:#0f172a;display:flex;align-items:center;gap:8px;flex-wrap:wrap}.user-submission-type{font-size:.75rem;font-weight:500;padding:2px 8px;background:#e0e7ff;color:#4338ca;border-radius:4px}.user-submission-meta{display:flex;gap:16px;flex-wrap:wrap;font-size:.85rem;color:#64748b}.user-submission-date,.user-submission-visibility,.user-submission-version,.user-submission-version-name{display:inline-block}.user-submission-visibility{padding:2px 8px;background:#dbeafe;color:#1e40af;border-radius:4px;font-weight:500}.user-submission-version{padding:2px 8px;background:#f3f4f6;color:#374151;border-radius:4px}.user-submission-version-name{padding:2px 8px;background:#fef3c7;color:#92400e;border-radius:4px}.user-submission-actions{display:flex;gap:8px}.user-submission-btn{padding:8px 16px;border:none;border-radius:8px;font-size:.9rem;font-weight:500;cursor:pointer;transition:all .2s}.user-submission-btn--edit{background:#3b82f6;color:#fff}.user-submission-btn--edit:hover{background:#2563eb}.user-submission-btn--delete{background:#ef4444;color:#fff}.user-submission-btn--delete:hover{background:#dc2626}.user-submission-btn--save{background:#10b981;color:#fff}.user-submission-btn--save:hover{background:#059669}.user-submission-btn--cancel{background:#64748b;color:#fff}.user-submission-btn--cancel:hover{background:#475569}.user-submission-content{display:flex;flex-direction:column;gap:12px}.user-submission-field{display:flex;flex-direction:column;gap:4px}.user-submission-field label{font-size:.85rem;font-weight:500;color:#475569}.user-submission-value{color:#0f172a;font-size:.95rem}.user-submission-code{background:#1e293b;color:#e2e8f0;padding:12px;border-radius:8px;font-family:Courier New,monospace;font-size:.85rem;overflow-x:auto;margin:0;white-space:pre-wrap;word-break:break-all}.user-submission-edit-form{display:flex;flex-direction:column;gap:16px;padding-top:16px;border-top:1px solid #e2e8f0}.user-submission-edit-field{display:flex;flex-direction:column;gap:8px}.user-submission-edit-field label{font-size:.9rem;font-weight:500;color:#475569}.user-submission-edit-field input[type=text],.user-submission-edit-field select{padding:10px 12px;border:1px solid #cbd5e1;border-radius:8px;font-size:.95rem;transition:all .2s}.user-submission-edit-field input[type=text]:focus,.user-submission-edit-field select:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.user-submission-code-input{padding:12px;border:1px solid #cbd5e1;border-radius:8px;font-family:Courier New,monospace;font-size:.85rem;background:#1e293b;color:#e2e8f0;resize:vertical;min-height:120px;transition:all .2s}.user-submission-code-input:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.user-submissions-modal-footer{padding:16px 32px;border-top:1px solid rgba(15,23,42,.08);display:flex;justify-content:flex-end;gap:12px}.user-submissions-footer-btn{padding:10px 20px;border:none;border-radius:10px;font-size:.95rem;font-weight:500;cursor:pointer;transition:all .2s}.user-submissions-footer-btn--neutral{background:#f1f5f9;color:#475569}.user-submissions-footer-btn--neutral:hover{background:#e2e8f0;color:#0f172a}@media(max-width:480px){@media(max-width:768px){.user-submissions-modal{max-width:100%;max-height:100vh;border-radius:0}.user-submissions-modal-header,.user-submissions-modal-body,.user-submissions-modal-footer{padding:16px 20px}.user-submission-header{flex-direction:column;align-items:stretch}.user-submission-actions{justify-content:flex-end}.user-submission-meta{flex-direction:column;gap:8px}}.user-profile-modal-footer{gap:8px;grid-template-columns:repeat(3,minmax(0,1fr))}.user-profile-footer-btn{font-size:.85rem;padding:10px 8px}}.save-pattern-modal-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:10000;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.save-pattern-modal{background:#fff;border-radius:16px;box-shadow:0 20px 60px #0000004d;max-width:600px;width:90%;max-height:90vh;overflow:auto}.save-pattern-modal-header{display:flex;justify-content:space-between;align-items:center;padding:24px;border-bottom:1px solid #eee}.save-pattern-modal-header h2{margin:0;font-size:1.5rem;color:#333}.save-pattern-modal-close{background:none;border:none;font-size:28px;color:#666;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .2s}.save-pattern-modal-close:hover{background:#f5f5f5;color:#333}.save-pattern-modal-body{padding:24px}.user-profiles-modal-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:10000;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.user-profiles-modal{background:#fff;border-radius:16px;box-shadow:0 20px 60px #0000004d;max-width:900px;width:90%;max-height:90vh;display:flex;flex-direction:column}.user-profiles-modal-header{display:flex;justify-content:space-between;align-items:center;padding:24px;border-bottom:1px solid #eee}.user-profiles-modal-header h2{margin:0;font-size:1.5rem;color:#333}.user-profiles-modal-close{background:none;border:none;font-size:28px;color:#666;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .2s}.user-profiles-modal-close:hover{background:#f5f5f5;color:#333}.user-profiles-modal-body{padding:24px;overflow-y:auto;flex:1}.profiles-search-container{margin-bottom:24px}.profiles-search-input{width:100%;padding:12px 16px;border:2px solid #ddd;border-radius:8px;font-size:1rem;transition:border-color .2s}.profiles-search-input:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.profiles-list{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px}.profiles-loading,.profiles-empty,.profiles-error{grid-column:1 / -1;text-align:center;padding:40px;color:#666;font-size:1.1rem}.user-card{background:#f9fafb;border:1px solid #e5e7eb;border-radius:12px;padding:20px;transition:all .2s;display:flex;gap:16px}.user-card:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a;border-color:#667eea}.user-card-avatar{flex-shrink:0}.user-card-avatar img{width:80px;height:80px;border-radius:50%;object-fit:cover;border:2px solid #ddd}.user-card-info{flex:1;min-width:0}.user-card-name{font-size:1.1rem;font-weight:600;color:#333;margin-bottom:4px}.user-card-artist{font-size:.9rem;color:#667eea;font-weight:500;margin-bottom:4px}.user-card-email{font-size:.85rem;color:#666;margin-bottom:8px;word-break:break-all}.user-card-date{font-size:.85rem;color:#666;margin-bottom:8px}.user-card-stats{margin-bottom:8px}.user-card-patterns{font-size:.85rem;color:#666;background:#e5e7eb;padding:4px 8px;border-radius:4px;display:inline-block}.user-card-social{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}.user-card-social-link{font-size:1.2rem;text-decoration:none;transition:transform .2s,opacity .2s;display:inline-flex;align-items:center;justify-content:center;color:#667eea;width:24px;height:24px}.user-card-social-link svg{width:100%;height:100%;fill:currentColor}.user-card-social-link:hover{transform:scale(1.2);opacity:.8;color:#5568d3}.save-pattern-modal-body .form-group{margin-bottom:24px}.save-pattern-modal-body .form-group label{display:block;margin-bottom:8px;font-weight:600;color:#333}.save-pattern-modal-body .form-group input[type=text],.save-pattern-modal-body .form-group select{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:8px;font-size:.95rem;transition:border-color .2s;background:#fff;color:#333;font-family:inherit}.save-pattern-modal-body .form-group input:focus,.save-pattern-modal-body .form-group select:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.save-pattern-modal-body .form-group select{cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23333' d='M6 9L1 4h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 12px center;padding-right:36px}.save-pattern-modal-body .form-group small{display:block;margin-top:4px;color:#666;font-size:.85rem}.privacy-toggle-label{display:flex;align-items:center;gap:8px;cursor:pointer;font-weight:500}.privacy-toggle-label input[type=checkbox]{width:18px;height:18px;cursor:pointer}.user-search-container{position:relative}.user-search-results{position:absolute;top:100%;left:0;right:0;background:#fff;border:1px solid #ddd;border-radius:8px;margin-top:4px;max-height:200px;overflow-y:auto;z-index:100;box-shadow:0 4px 12px #0000001a}.user-search-result-item{display:flex;align-items:center;gap:12px;padding:12px;border-bottom:1px solid #eee;cursor:pointer;transition:background .2s}.user-search-result-item:hover{background:#f5f5f5}.user-search-result-item:last-child{border-bottom:none}.user-search-avatar{width:32px;height:32px;border-radius:50%;object-fit:cover}.user-search-result-info{flex:1}.user-search-result-name{font-weight:500;color:#333}.user-search-result-email{font-size:.85rem;color:#666}.user-search-add-btn{background:#667eea;color:#fff;border:none;padding:6px 12px;border-radius:6px;cursor:pointer;font-size:.85rem;transition:background .2s}.user-search-add-btn:hover{background:#5568d3}.user-search-no-results{padding:12px;text-align:center;color:#666;font-size:.9rem}.selected-users{display:flex;flex-wrap:wrap;gap:8px;margin-top:12px}.selected-user-item{display:flex;align-items:center;gap:8px;background:#f0f0f0;padding:6px 12px;border-radius:20px;font-size:.9rem}.selected-user-avatar{width:24px;height:24px;border-radius:50%;object-fit:cover}.selected-user-name{color:#333}.selected-user-remove{background:none;border:none;color:#666;cursor:pointer;font-size:18px;line-height:1;padding:0;width:20px;height:20px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s}.selected-user-remove:hover{background:#ddd;color:#333}.save-pattern-modal-footer{display:flex;justify-content:flex-end;gap:12px;padding-top:24px;border-top:1px solid #eee;margin-top:24px}.collab-panel-wrapper{margin-top:32px;background:#ffffffe6;border-radius:18px;box-shadow:0 25px 50px -12px #6366f133;padding:24px;border:1px solid rgba(99,102,241,.15)}.collab-modal-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#111827bf;display:none;align-items:center;justify-content:center;z-index:11000;padding:24px;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.collab-modal{background:transparent;max-width:940px;width:100%;max-height:90vh;overflow-y:auto;position:relative}.collab-modal-close{position:absolute;top:12px;right:20px;background:#fff;border:none;font-size:32px;color:#4b5563;cursor:pointer;line-height:1;z-index:1;width:44px;height:44px;border-radius:999px;display:flex;align-items:center;justify-content:center;box-shadow:0 12px 30px -12px #0f172a66;transition:background .2s ease,color .2s ease,transform .2s ease}.collab-modal-close:hover{color:#111827;background:#f1f5f9;transform:translateY(-1px)}.collab-recents-section,.collab-invites-section{margin-top:12px;border:1px solid rgba(99,102,241,.12);border-radius:14px;padding:12px;background:#ffffffd9}.collab-chip-list{display:flex;flex-wrap:wrap;gap:8px;margin-top:10px}.collab-chip{border:1px solid rgba(99,102,241,.25);border-radius:14px;padding:10px 14px;background:#fff;color:#1f2937;cursor:pointer;display:flex;align-items:center;justify-content:space-between;gap:12px;font-size:.85rem;min-width:220px;box-shadow:0 15px 25px -15px #6366f173}.collab-chip:hover{background:#6366f114}.collab-chip__meta{font-size:.75rem;color:#6b7280;display:block}.collab-chip__content{display:flex;flex-direction:column;gap:2px;align-items:flex-start}.collab-chip-remove{background:transparent;border:none;color:#ef4444;font-size:1rem;line-height:1;cursor:pointer;border-radius:999px;padding:2px 6px}.collab-chip-remove:hover,.collab-chip-remove:focus-visible{background:#ef44441f;color:#b91c1c}.collab-empty-state{color:#6b7280;font-style:italic}.collab-invites-list{display:flex;flex-direction:column;gap:10px;margin-top:12px}.collab-invite-card{border:1px solid rgba(15,118,110,.2);border-radius:12px;padding:12px;display:flex;justify-content:space-between;gap:12px;background:#f0f9ffd9;flex-wrap:wrap}.collab-invite-card__details{display:flex;flex-direction:column;gap:4px}.collab-invite-card__meta{font-size:.8rem;color:#6b7280}.collab-invite-card__actions{display:flex;gap:8px;align-items:center}.btn-small{padding:6px 12px;font-size:.8rem;border-radius:999px}.collab-owner-tools{border-top:1px solid rgba(99,102,241,.15);padding-top:12px;margin-top:12px}.collab-helper-text{display:block;font-size:.8rem;color:#6b7280;margin-top:6px}.collab-invite-search{display:flex;flex-direction:column;gap:10px}#collab-invite-search{padding:10px 14px;border-radius:999px;border:1px solid rgba(99,102,241,.35);background:#fffffff2;font-size:.95rem;outline:none;transition:border .2s ease,box-shadow .2s ease}#collab-invite-search:focus{border-color:#6366f1cc;box-shadow:0 0 0 3px #6366f126}.collab-invite-results{display:flex;flex-wrap:wrap;gap:8px;padding:6px 0}.collab-invite-result{border:1px solid rgba(99,102,241,.3);border-radius:10px;padding:6px 10px;background:#6366f114;display:flex;flex-direction:column;align-items:flex-start;gap:2px;cursor:pointer;min-width:120px}.collab-invite-result.disabled{opacity:.5;cursor:not-allowed}.collab-invite-result__meta{font-size:.75rem;color:#6b7280}.collab-selected-invitees{display:flex;flex-wrap:wrap;gap:8px}.collab-selected-invitee{display:inline-flex;align-items:center;gap:8px;padding:6px 12px;border-radius:999px;background:#10b98126;color:#065f46}.collab-selected-invitee button{border:none;background:transparent;font-size:1rem;cursor:pointer;color:inherit}.top-tracks-section{margin:40px auto;width:100%;background:#ffffffe6;border-radius:18px;border:1px solid rgba(99,102,241,.15);box-shadow:0 25px 40px -20px #4f46e540;padding:24px}.top-tracks-header{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:12px;margin-bottom:16px}.top-tracks-header h3{margin:0;font-size:1.4rem;color:#4c51bf}.top-tracks-header p{margin:0;color:#6b7280;font-size:.95rem}.top-tracks-empty{text-align:center;color:#6b7280;padding:32px 12px;font-style:italic}.top-tracks-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px}.top-track-card{border:1px solid rgba(99,102,241,.18);border-radius:16px;padding:12px;background:#f8faffe6;display:flex;gap:12px;align-items:center;text-align:left;cursor:pointer;transition:transform .15s ease,box-shadow .15s ease}.top-track-card:hover{transform:translateY(-2px);box-shadow:0 12px 20px #6366f133}.top-track-card:focus-visible{outline:2px solid #4c51bf;outline-offset:3px}.top-track-image{width:72px;height:72px;border-radius:12px;overflow:hidden;flex-shrink:0;background:linear-gradient(135deg,#4c51bf,#7c3aed);display:flex;align-items:center;justify-content:center;position:relative}.top-track-image img{width:100%;height:100%;object-fit:cover;display:block}.top-track-placeholder{display:none;width:100%;height:100%;align-items:center;justify-content:center;color:#fff;font-size:1.4rem;font-weight:700;text-transform:uppercase}.top-track-image.fallback .top-track-placeholder{display:flex}.top-track-image.fallback img{display:none}.top-track-info{display:flex;flex-direction:column;gap:4px}.top-track-info h4{margin:0;font-size:1rem;color:#1f2937}.top-track-artist{font-size:.9rem;color:#4b5563;margin:0}.top-track-genre{display:inline-flex;align-items:center;padding:2px 8px;font-size:.75rem;border-radius:999px;background:#0ea5e926;color:#0369a1;font-weight:600}.top-track-count{font-size:.8rem;color:#1f2937;font-weight:600;margin-top:2px}@media(max-width:640px){.top-track-card{padding:10px}.top-track-image{width:56px;height:56px}}#collab-panel-root{display:flex;flex-direction:column;gap:16px}.collab-panel-header{display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid rgba(99,102,241,.15);padding-bottom:12px}.collab-panel-header h3{margin:0;font-size:1.2rem}.collab-panel-header p{margin:4px 0 0;color:#555;font-size:.9rem}.collab-connection-indicator{width:14px;height:14px;border-radius:50%;background:#ff4d4f;box-shadow:0 0 10px #ff4d4f66}.collab-connection-indicator.connected{background:#34d399;box-shadow:0 0 10px #34d399b3}.collab-panel-body{display:flex;flex-direction:column;gap:18px}.collab-form-row{display:flex;flex-direction:column;gap:8px}.collab-form-row label{font-weight:600;color:#333}.collab-form-controls{display:flex;gap:12px;flex-wrap:wrap}.collab-form-controls input{flex:1;min-width:180px;padding:10px 14px;border-radius:10px;border:1px solid rgba(99,102,241,.25);font-size:.95rem;transition:border-color .2s ease,box-shadow .2s ease}.collab-form-controls input:focus{outline:none;border-color:#7c3aed;box-shadow:0 0 0 3px #7c3aed26}.collab-status-message{min-height:20px;font-size:.9rem;color:#374151}.collab-status-message.info{color:#2563eb}.collab-status-message.success{color:#059669}.collab-status-message.error{color:#dc2626}.collab-session-details{border-top:1px solid rgba(99,102,241,.15);padding-top:16px;display:flex;flex-direction:column;gap:18px}.collab-session-meta{display:flex;flex-direction:column;gap:12px;font-size:.95rem}.collab-session-meta input[type=range]{width:220px;margin:0 12px}.collab-cpu-row{display:flex;gap:18px;align-items:center;flex-wrap:wrap}.collab-cpu-warning{color:#b45309;font-weight:600}.collab-participants ul{list-style:none;padding:0;margin:12px 0 0;display:flex;flex-direction:column;gap:6px}.collab-participants li{display:flex;justify-content:space-between;background:#6366f114;border-radius:10px;padding:8px 12px;font-size:.9rem}.collab-participants li .role{text-transform:uppercase;font-size:.75rem;letter-spacing:.05em;color:#6b21a8}.collab-list-header{display:flex;align-items:center;justify-content:space-between;gap:8px}.collab-channel-form{display:flex;flex-direction:column;gap:16px}.collab-channel-config{display:flex;flex-direction:column;gap:14px;padding:16px;border-radius:16px;background:#ffffffe6;border:1px solid rgba(99,102,241,.15)}.collab-config-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}.collab-key-scale-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px}.collab-channel-form .form-group{margin:0}.collab-channel-form input,.collab-channel-form select{width:100%;padding:9px 12px;border-radius:12px;border:1px solid rgba(99,102,241,.25);background:#fffffff2;font-size:.95rem}.collab-channel-form label{font-weight:600;margin-bottom:6px;display:inline-block;color:#4c1d95}.collab-channel-form textarea{width:100%;border-radius:16px;border:1px solid rgba(99,102,241,.25);padding:14px;font-family:Courier New,Courier,monospace;resize:vertical;min-height:180px;background:#0f172af2;color:#f9fafb}.collab-pattern-wrapper{display:flex;width:100%;border-radius:18px;border:1px solid rgba(15,23,42,.12);overflow:hidden;background:#fff;box-shadow:0 18px 35px -18px #0f172a59}.collab-line-numbers{background:#f3f4f6;color:#475569;padding:14px 12px;font-family:Fira Code,Courier New,monospace;font-size:.85rem;line-height:1.5;text-align:right;-webkit-user-select:none;user-select:none;border-right:1px solid #e5e7eb;min-width:42px;overflow:hidden;scrollbar-width:none}.collab-line-numbers::-webkit-scrollbar{display:none}.collab-line-numbers span{display:block;min-height:1.5em}.collab-pattern-input{border:none;outline:none;background:#fff;color:#0f172a;flex:1;padding:14px;font-family:Fira Code,Courier New,monospace;font-size:.92rem;line-height:1.5;min-height:220px;resize:vertical}.collab-pattern-input.pattern-editor-readonly,.collab-pattern-input[readonly]{background:#eef2ff;color:#475569}.collab-channel-editor{display:flex;flex-direction:column;gap:10px}.profile-onboarding-overlay{position:fixed;top:0;right:0;bottom:0;left:0;display:none;align-items:center;justify-content:center;background:#0f172abf;z-index:1100;padding:24px}.profile-onboarding-overlay[style*=flex]{display:flex!important}.profile-onboarding-modal{width:min(520px,100%);max-width:520px;background:#fff;border-radius:18px;padding:28px;box-shadow:0 20px 60px #0f172a59;max-height:calc(100vh - 48px);overflow-y:auto}.profile-onboarding-header h2{margin:0 0 8px}.profile-onboarding-header p{margin:0 0 20px;color:#475569}.collab-channel-actions{display:flex;gap:12px;flex-wrap:wrap}.collab-master-display{margin-top:24px;padding:20px;border:1px solid #000;border-radius:14px;background:#f3f4f6}.collab-master-pattern-field{width:100%;padding:16px;border-radius:12px;border:1px solid #e2e8f0;background:#fff;color:#0f172a;font-family:Fira Code,Courier New,monospace;font-size:.92rem;line-height:1.6;min-height:220px;box-shadow:inset 0 1px #94a3b833;display:flex;flex-direction:column;gap:16px}.collab-master-pattern-field pre{font-family:Fira Code,Courier New,monospace;font-size:.9rem;line-height:1.5;margin:0;white-space:pre-wrap;word-break:break-word;color:inherit;background:transparent}.collab-master-block{position:relative;border-radius:12px;border:1px solid var(--author-border, #cbd5f5);background:var(--author-bg, #f8fafc);padding:12px 14px;box-shadow:inset 0 0 0 1px #0f172a0d}.collab-master-block__remove{position:absolute;top:6px;right:8px;border:none;background:#0f172a1a;color:#0f172a;width:28px;height:28px;border-radius:999px;font-size:18px;line-height:1;cursor:pointer;transition:background .2s ease,transform .2s ease}.collab-master-block__remove:hover{background:#ef444433;transform:translateY(-1px)}.collab-master-block__meta{display:flex;align-items:center;gap:12px;font-weight:600;color:#0f172a;margin-bottom:8px}.collab-master-block__meta span:last-child{margin-left:auto;font-weight:500;color:#475569}.collab-master-empty{border-radius:10px;padding:16px;background:#f8fafc;color:#475569;font-size:.9rem;text-align:center}.collab-channel-editor-tools{display:flex;flex-wrap:wrap;gap:12px;margin-top:8px}.collab-mode-toggle-group{flex:1 1 180px;min-width:160px}.collab-mode-toggle{display:inline-flex;background:#6366f11f;border-radius:999px;padding:4px;gap:4px}.collab-mode-btn{border:none;background:transparent;color:#4c1d95;font-weight:600;padding:6px 12px;border-radius:999px;cursor:pointer;transition:background .2s ease,color .2s ease}.collab-mode-btn.active{background:#4c1d95;color:#fff;box-shadow:0 4px 12px #4c1d9540}.collab-time-signature{flex:1 1 180px;min-width:160px}.collab-step-editor{margin-top:16px;padding:16px;border-radius:16px;background:#0f172ae6;color:#f9fafb}.collab-step-grid{display:flex;flex-direction:column;gap:10px}.collab-step-row{display:flex;align-items:center;gap:12px}.collab-step-label{width:72px;font-size:.85rem;text-transform:uppercase;letter-spacing:.05em;color:#f9fafbcc}.collab-step-cells{display:grid;grid-template-columns:repeat(auto-fit,minmax(18px,1fr));gap:4px;flex:1}.collab-step-cell{display:flex;align-items:center;justify-content:center;padding:6px;border-radius:6px;background:#ffffff0d}.collab-step-cell.beat{background:#ffffff1f}.collab-step-cell input{accent-color:#22d3ee;width:14px;height:14px}.collab-step-hint{margin-top:12px;font-size:.8rem;color:#f9fafbb3}.collab-code-readonly textarea{opacity:.75}.collab-chord-tools{margin-top:20px;display:flex;flex-direction:column;gap:6px}.collab-chord-row{display:flex;flex-wrap:wrap;gap:12px;align-items:center}.collab-note-mode-toggle{display:inline-flex;align-items:center;gap:8px;font-size:.85rem;font-weight:600;color:#4c1d95}.collab-note-mode-toggle input{accent-color:#4c1d95}.collab-channels-list{display:flex;flex-direction:column;gap:12px}.collab-channel-card{border:1px solid rgba(99,102,241,.2);border-radius:14px;padding:12px;background:#ffffffe6;box-shadow:0 10px 25px -10px #6366f140}.collab-channel-card__header{display:flex;justify-content:space-between;align-items:center;font-weight:600;margin-bottom:4px}.collab-channel-card__meta{display:flex;justify-content:space-between;font-size:.8rem;color:#6b7280;margin-bottom:6px}.collab-channel-card pre{margin:0;background:#6366f114;border-radius:8px;padding:8px;font-size:.85rem;white-space:pre-wrap}.collab-auth-gate{padding:12px;border-radius:12px;background:#ef444414;color:#991b1b;font-weight:600}.btn-secondary,.btn-primary,.btn-ghost,.collab-action-button{border-radius:16px;height:48px;padding:0 20px;display:inline-flex;align-items:center;justify-content:center;font-size:.95rem;line-height:1.2;gap:6px}.btn-secondary{background:#111827;color:#fff;border:none;font-weight:600;cursor:pointer;transition:transform .2s ease,opacity .2s ease;box-shadow:0 8px 20px #11182740}.btn-secondary:hover{opacity:.9;transform:translateY(-2px)}.btn-primary{background:#2563eb;color:#fff;border:none;font-weight:600;cursor:pointer;transition:transform .2s ease,opacity .2s ease;box-shadow:0 8px 20px #2563eb4d}.btn-primary:hover{opacity:.95;transform:translateY(-2px)}.btn-ghost{background:transparent;border:1px solid rgba(17,24,39,.2);padding:10px 18px;cursor:pointer;font-weight:600;transition:background .2s ease,transform .2s ease}.btn-ghost:hover{background:#1118270d;transform:translateY(-2px)}.btn-link{background:none;border:none;color:#2563eb;font-weight:600;cursor:pointer;padding:4px 8px;border-radius:6px}.btn-link:hover{background:#2563eb14}.btn-ghost{background:transparent;border:1px solid rgba(17,24,39,.2);border-radius:10px;padding:8px 14px;cursor:pointer;font-weight:600}.btn-ghost.danger{color:#dc2626;border-color:#dc262666}.btn-ghost:hover{background:#1118270d}.badge{padding:2px 8px;border-radius:999px;font-size:.7rem;text-transform:uppercase;letter-spacing:.05em}.badge.live{background:#10b98126;color:#047857}.badge.draft{background:#0ea5e926;color:#0369a1}.piano-section{background:#fff;border-radius:12px;padding:20px;margin:24px 0;box-shadow:0 4px 6px #00000014}.piano-section[hidden],.piano-section.piano-section--hidden{display:none!important}.piano-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;flex-wrap:wrap;gap:12px}.piano-header h3{margin:0;color:#4c51bf;font-size:1.25rem}.piano-octave-controls{display:flex;align-items:center;gap:8px;flex-wrap:wrap}.piano-octave-controls label{font-size:.9rem;font-weight:600;color:#4c51bf}.piano-octave-btn{padding:6px 12px;border:1px solid #cbd5e1;background:#fff;border-radius:6px;font-size:.85rem;font-weight:600;color:#4c51bf;cursor:pointer;transition:all .2s}.piano-octave-btn:hover{background:#f1f5f9}.piano-octave-btn.active{background:#4c51bf;color:#fff;border-color:#4c51bf}.piano-keyboard{display:flex;position:relative;height:200px;gap:0;border-radius:8px;overflow:hidden;box-shadow:0 2px 8px #00000026}.piano-key{border:none;cursor:pointer;-webkit-user-select:none;user-select:none;touch-action:none;transition:all .1s;font-weight:600;font-size:.9rem;position:relative;display:flex;align-items:flex-end;justify-content:center;padding-bottom:8px}.piano-key.white{background:#fff;color:#1e293b;border-right:1px solid #e2e8f0;flex:1;z-index:1;position:relative}.piano-key.white:last-child{border-right:none}.piano-key.white:active,.piano-key.white.active{background:#e2e8f0;transform:translateY(2px)}.piano-key.black{background:#1e293b;color:#fff;width:12%;height:60%;margin-left:-6%;margin-right:-6%;z-index:2;border-radius:0 0 4px 4px}.piano-key.black:active,.piano-key.black.active{background:#0f172a;transform:translateY(1px)}.piano-key:focus{outline:none}@media(max-width:640px){.piano-section{margin:16px 0;padding:16px}.piano-header h3{font-size:1.1rem}.piano-keyboard{height:160px}}
